<WorkflowPackage WorkflowOrgCode="GLOBAL" WorkflowKey="CAPAWORKFLOW" WorkflowEntity="CAPA">
  <WorkflowInfo xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <WorkflowKey>CAPAWORKFLOW</WorkflowKey>
    <WorkflowId>91611f5d-e9f1-4ce9-99ca-dd9319592e1e0000</WorkflowId>
    <WorkflowName>CAPAWORKFLOW</WorkflowName>
    <Description>CAPA Workflow</Description>
    <ContentType>3</ContentType>
    <WorkflowEntity>CAPA</WorkflowEntity>
    <WorkflowOrgCode>GLOBAL</WorkflowOrgCode>
    <WorkflowVersion>22</WorkflowVersion>
    <WorkflowState>Published</WorkflowState>
    <BizClass>GenericRecord</BizClass>
    <BizAssembly>EQM.Biz.Generic.Components</BizAssembly>
    <WorkflowStyle>GenOneEdit</WorkflowStyle>
    <WorkflowLastModified>2021-03-05 08:50:26</WorkflowLastModified>
    <WorkflowDescription>CAPA Workflow</WorkflowDescription>
    <WorkflowReleaseVersion>CAPA Management 4.0.10</WorkflowReleaseVersion>
    <WorkflowReleaseType>CUSTOM</WorkflowReleaseType>
    <DisableViewTaskStatus>false</DisableViewTaskStatus>
  </WorkflowInfo>
  <PilgrimVersion>
    <WorkflowDesigner Description="CAPA Workflow" DisableViewTaskStatus="false" Entity="CAPA" HasErrors="true" ID="e12a02e1-6b05-4e6e-ab22-c43a08fda1f00000" InitiatingForm="CAPA_UI_INITIATION_FORM" Name="CAPAWORKFLOW" ReleaseType="PILGRIM" ReleaseVersion="CAPA Management 4.0.10" Version="6">
      <ActionPhaseNodeData Category="ActionPhase" DroppedToDiagram="true" Figure="BpmnTaskScript" Key="apOnFollowuprequired" Location="420 2520" SubGraphKey="" Text="On Follow up required">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="Action_c8095cdf-8a44-47bb-b6e0-cb41ad636d41" Name="Update Action : Reset Follow Req and Due Date" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="938555d3-8b5f-45d4-aca3-9a4ba4e1fadf" Name="EFFECT_FOLLOWUP_REQ" Type="String">''</Param>
            </Params>
          </Action>
        </ExitActions>
      </ActionPhaseNodeData>
      <ActionPhaseNodeData Category="ActionPhase" DroppedToDiagram="true" Figure="BpmnTaskScript" Key="apOnCompleteoffEffectivenessReview" Location="300 2900" SubGraphKey="" Text="On Complete off Effectiveness Review">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="Action_405c5cc0-d79e-4651-9d7d-262315987ad3" Name="Update Effectiveness Review Completed Date" RowIdentifier="PK_ID" Rule="" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="a4dbc86c-ba17-4616-a1d8-412ff816289d" Name="VOE_COMPL_DATE" Type="String">GetDate('Today')</Param>
            </Params>
          </Action>
        </ExitActions>
      </ActionPhaseNodeData>
      <ActionPhaseNodeData Category="ActionPhase" DroppedToDiagram="true" Figure="BpmnTaskScript" Key="apEndofImplementation" Location="40 1940" SubGraphKey="" Text="End of Implementation">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action CreationMode="Temp" Id="37863695-086e-4c71-ba3d-55e6b076249f" Name="Evaluate Void Due Date Extension step in subworkflow" Rule="Implementation - Due Date needs Approval" SuccessfulMessage="" Type="Generic" Xml="&lt;Actions&gt;&#xD; &lt;Action Type=&quot;EvaluateStep&quot; Name=&quot;VoidDueDate&quot; ContextNode=&quot;&quot; SuccessMessageId=&quot;&quot; Id=&quot;Action_be9486c8-fe6e-4696-b7dd-17d2b14fd5e3&quot;&gt;&#xD;  &lt;Params&gt;&#xD;   &lt;Param Name=&quot;ContainerWorkflowKey&quot; Type=&quot;String&quot;&gt;'CAPAWORKFLOW'&lt;/Param&gt;&#xD;   &lt;Param Name=&quot;WorkflowKey&quot; Type=&quot;String&quot;&gt;'Due Date Extension'&lt;/Param&gt;&#xD;   &lt;Param Name=&quot;EntityTypeId&quot; Type=&quot;String&quot;&gt;'CAPA'&lt;/Param&gt;&#xD;   &lt;Param Name=&quot;RecordId&quot; Type=&quot;String&quot;&gt;PK_ID&lt;/Param&gt;&#xD;   &lt;Param Name=&quot;WorkflowInstanceId&quot; Type=&quot;String&quot;&gt;&lt;/Param&gt;&#xD;   &lt;Param Name=&quot;StepId&quot; Type=&quot;String&quot;&gt;'stVoidDueDate'&lt;/Param&gt;&#xD;   &lt;Param Name=&quot;Scope&quot; Type=&quot;String&quot;&gt;'SameContainerWorkFlow'&lt;/Param&gt;&#xD;  &lt;/Params&gt;&#xD; &lt;/Action&gt;&#xD;&lt;/Actions&gt;" xsi:type="GenericAction">
            <Params />
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="3d02e398-1fe1-434b-9660-d51534d3cc63" Name="Update Completion Due Date (Implementation)" QualifyingCondition="CLOSURE_DUE_DATE = ''" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="29746f14-ffc2-4c8f-a7b3-c6310ce517dd" Name="CLOSURE_DUE_DATE" Type="String">AddBusinessDays(GetDate('Today'), CLOSURE_INTERVAL, ../OWNING_SITE_CODE)</Param>
            </Params>
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      </ActionPhaseNodeData>
      <ActionPhaseNodeData Category="ActionPhase" DroppedToDiagram="true" Figure="BpmnTaskScript" Key="apSendNotificationonReject" Location="644.09375 220" SubGraphKey="swDueDateExtension" Text="Send Notification on Reject">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action CreationMode="Temp" FormName="" Id="Action_e7e18724-e16e-4f92-9754-36f16847f716" IsSetupMeeting="false" Name="Notification Action Investigation" Rule="Due Date Phase Investigation from Investigate CAPA task" SuccessfulMessage="" Type="Notification" xsi:type="NotificationAction">
            <Params>
              <Param Name="To">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Investigation']/ACTOR_CODE</Param>
              <Param Name="Cc">COORDINATOR_CODE</Param>
              <Param Name="Bcc" />
              <Param Name="Subject">Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected. 
#lt;#br#gt;#
#lt;#br#gt;#
Rejected Comment: $V_ENU_NONPERSIS_USER_DATA/ENU_COMMENT$
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)</Param>
              <Param Name="AppendTaskLink">false</Param>
              <Param Name="AppendRecordLink">true</Param>
            </Params>
          </Action>
          <Action CreationMode="Temp" FormName="" Id="b55d4467-0751-4b8a-82f8-9610770b012d" IsSetupMeeting="false" Name="Notification Action Investigation Approval" Rule="Due Date Phase Investigation from Approve CAPA Investigation task" SuccessfulMessage="" Type="Notification" xsi:type="NotificationAction">
            <Params>
              <Param Name="To">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Investigation Approval']/ACTOR_CODE</Param>
              <Param Name="Cc">COORDINATOR_CODE</Param>
              <Param Name="Bcc" />
              <Param Name="Subject">Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected.
#lt;#br#gt;#
#lt;#br#gt;#
Rejected Comment: $V_ENU_NONPERSIS_USER_DATA/ENU_COMMENT$
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)</Param>
              <Param Name="AppendTaskLink">false</Param>
              <Param Name="AppendRecordLink">true</Param>
            </Params>
          </Action>
          <Action CreationMode="Temp" FormName="" Id="0820a524-33e5-40ce-b452-22a2330d50a2" IsSetupMeeting="false" Name="Notification Action Planning" Rule="Due Date Phase Planning from Develop Action Plans task" SuccessfulMessage="" Type="Notification" xsi:type="NotificationAction">
            <Params>
              <Param Name="To">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Development']/ACTOR_CODE</Param>
              <Param Name="Cc">COORDINATOR_CODE</Param>
              <Param Name="Bcc" />
              <Param Name="Subject">Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected.
#lt;#br#gt;#
#lt;#br#gt;#
Rejected Comment: $V_ENU_NONPERSIS_USER_DATA/ENU_COMMENT$
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)</Param>
              <Param Name="AppendTaskLink">false</Param>
              <Param Name="AppendRecordLink">true</Param>
            </Params>
          </Action>
          <Action CreationMode="Temp" FormName="" Id="a599bde7-7523-44f8-9235-c11b43922bc7" IsSetupMeeting="false" Name="Notification Action Plan Verification/Validation" Rule="Due Date Phase Planning from Verify/Validate Action Plans task" SuccessfulMessage="" Type="Notification" xsi:type="NotificationAction">
            <Params>
              <Param Name="To">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Verification/Validation']/ACTOR_CODE</Param>
              <Param Name="Cc">COORDINATOR_CODE</Param>
              <Param Name="Bcc" />
              <Param Name="Subject">Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected.
#lt;#br#gt;#
#lt;#br#gt;#
Rejected Comment: $V_ENU_NONPERSIS_USER_DATA/ENU_COMMENT$
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)</Param>
              <Param Name="AppendTaskLink">false</Param>
              <Param Name="AppendRecordLink">true</Param>
            </Params>
          </Action>
          <Action CreationMode="Temp" FormName="" Id="d63cad00-241e-48e2-8d4e-9f5af7b640ae" IsSetupMeeting="false" Name="Notification Action Plan Approval" Rule="Due Date Phase Planning from Approve Action Plans task" SuccessfulMessage="" Type="Notification" xsi:type="NotificationAction">
            <Params>
              <Param Name="To">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Approval']/ACTOR_CODE</Param>
              <Param Name="Cc">COORDINATOR_CODE</Param>
              <Param Name="Bcc" />
              <Param Name="Subject">Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected.
#lt;#br#gt;#
#lt;#br#gt;#
Rejected Comment: $V_ENU_NONPERSIS_USER_DATA/ENU_COMMENT$
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)</Param>
              <Param Name="AppendTaskLink">false</Param>
              <Param Name="AppendRecordLink">true</Param>
            </Params>
          </Action>
          <Action CreationMode="Temp" FormName="" Id="Action_d7103d63-cce0-4124-a080-04a7603b433c" IsSetupMeeting="false" Name="Notification Action Implementation" Rule="Due Date Phase Implementation" SuccessfulMessage="" Type="Notification" xsi:type="NotificationAction">
            <Params>
              <Param Name="To">COORDINATOR_CODE</Param>
              <Param Name="Cc" />
              <Param Name="Bcc" />
              <Param Name="Subject">Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected.
#lt;#br#gt;#
#lt;#br#gt;#
Rejected Comment: $V_ENU_NONPERSIS_USER_DATA/ENU_COMMENT$
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)</Param>
              <Param Name="AppendTaskLink">false</Param>
              <Param Name="AppendRecordLink">true</Param>
            </Params>
          </Action>
          <Action CreationMode="Temp" FormName="" Id="43ffc520-2d56-43cd-a428-d2e361a6d1d6" IsSetupMeeting="false" Name="Notification Action Implementation Verification" Rule="Due Date Phase Implementation from Verify Implementation task" SuccessfulMessage="" Type="Notification" xsi:type="NotificationAction">
            <Params>
              <Param Name="To">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Implementation Verification']/ACTOR_CODE</Param>
              <Param Name="Cc">COORDINATOR_CODE</Param>
              <Param Name="Bcc" />
              <Param Name="Subject">Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected.
#lt;#br#gt;#
#lt;#br#gt;#
Rejected Comment: $V_ENU_NONPERSIS_USER_DATA/ENU_COMMENT$
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)</Param>
              <Param Name="AppendTaskLink">false</Param>
              <Param Name="AppendRecordLink">true</Param>
            </Params>
          </Action>
          <Action CreationMode="Temp" FormName="" Id="Action_1bd80590-2f34-4c1d-a50a-5cb812351c6f" IsSetupMeeting="false" Name="Notification Action Completion Review" Rule="Due Date Phase Completion Review" SuccessfulMessage="" Type="Notification" xsi:type="NotificationAction">
            <Params>
              <Param Name="To">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Completion Review']/ACTOR_CODE</Param>
              <Param Name="Cc">COORDINATOR_CODE</Param>
              <Param Name="Bcc" />
              <Param Name="Subject">Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected.
#lt;#br#gt;#
#lt;#br#gt;#
Rejected Comment: $V_ENU_NONPERSIS_USER_DATA/ENU_COMMENT$
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)</Param>
              <Param Name="AppendTaskLink">false</Param>
              <Param Name="AppendRecordLink">true</Param>
            </Params>
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION" CreationMode="Temp" Id="Action_18c105fc-3ad3-4640-9251-e2915cbce463" Name="Update Action" QualifyingCondition="IS_EXT_REQUEST_COMPL='false'" RowIdentifier="PK_ID" Rule="Reject" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="1c330c79-1a08-4715-a4fc-5d4d2ebec8f1" Name="IS_EXT_REQUEST_COMPL" Type="String">'true'</Param>
            </Params>
          </Action>
        </ExitActions>
      </ActionPhaseNodeData>
      <ActionPhaseNodeData Category="ActionPhase" DroppedToDiagram="true" Figure="BpmnTaskScript" Key="apCreateNewCAPA" Location="240 2720" SubGraphKey="" Text="Create New CAPA">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action CreationMode="Temp" Id="Action_f81f4331-7a9c-45f2-b6b1-d2a97d7344d3" Name="Create CAPA" Rule="Effectiveness Review - Create New CAPA and Not already Created" SuccessfulMessage="" Type="Generic" Xml="&lt;Actions&gt;&#xD;  &lt;Action Type=&quot;INITIATEWORKFLOW&quot; Name=&quot;InitiateCapaWorkflow&quot; ContextNode=&quot;V_SS_CAPA&quot; SuccessMessageId=&quot;97040&quot; Id=&quot;Action_7e77e77b-1f49-4a1d-8fc5-e7841241b436&quot;&gt;&#xD;    &lt;Params&gt;&#xD;      &lt;Param Name=&quot;ContainerWorkflowKey&quot; Type=&quot;String&quot;&gt;'CAPAWORKFLOW'&lt;/Param&gt;&#xD;      &lt;Param Name=&quot;WorkflowKey&quot; Type=&quot;String&quot;&gt;'CAPAWORKFLOW'&lt;/Param&gt;&#xD;      &lt;Param Name=&quot;IsBlocking&quot; Type=&quot;String&quot;&gt;'false'&lt;/Param&gt;&#xD;      &lt;Param Name=&quot;BlockingStepId&quot; Type=&quot;String&quot;&gt;''&lt;/Param&gt;&#xD;      &lt;Param Name=&quot;WorkflowType&quot; Type=&quot;String&quot;&gt;'Sub'&lt;/Param&gt;&#xD;      &lt;Param Type=&quot;String&quot; Name=&quot;NumberingScheme&quot;&gt;'CAPA Numbering'&lt;/Param&gt;&#xD;      &lt;Param Name=&quot;FieldToBeUpdatedWithRelatedEntityRecordNumber&quot; Type=&quot;String&quot;&gt;'INEFFECTIVE_CAPA_NO'&lt;/Param&gt;      &#xD;      &lt;Param Name=&quot;TransferDataMapping&quot; Type=&quot;TransferDataMapping&quot;&gt;&#xD;        &lt;TransferData SourceEntity=&quot;V_SS_CAPA&quot; TargetEntity=&quot;V_SS_CAPA&quot;&gt;&#xD;          &lt;DataMaps&gt;&#xD;            &lt;DataMap TargetXPath=&quot;INITIATION_DATE&quot;&gt;GetDate('Today')&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;INITIATED_BY_CODE&quot;&gt;INITIATED_BY_CODE&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;INITIATED_BY_NAME&quot;&gt;INITIATED_BY_NAME&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;COORDINATOR_CODE&quot;&gt;COORDINATOR_CODE&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;COORDINATOR_NAME&quot;&gt;COORDINATOR_NAME&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;COORDINATOR_ROLE_CODE&quot;&gt;COORDINATOR_ROLE_CODE&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;CAPA_OWNER_CODE&quot;&gt;CAPA_OWNER_CODE&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;CAPA_OWNER_NAME&quot;&gt;CAPA_OWNER_NAME&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;OWNER_ROLE_CODE&quot;&gt;OWNER_ROLE_CODE&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;CAPA_TYPE&quot;&gt;CAPA_TYPE&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;CAPA_SOURCE&quot;&gt;&quot;General&quot;&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;CAPA_SOURCE_NUMBER&quot;&gt;RECORD_NUMBER&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;DEPARTMENT_CODE&quot;&gt;DEPARTMENT_CODE&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;CLIENT_CODE&quot;&gt;CLIENT_CODE&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;PRODUCT_CODE&quot;&gt;PRODUCT_CODE&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;PROCESS_CODE&quot;&gt;PROCESS_CODE&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;PROBLEM_STATEMENT&quot;&gt;PROBLEM_STATEMENT&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;TITLE&quot;&gt;TITLE&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;STATUS&quot;&gt;&quot;INWORKS&quot;&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;INITIATING_SITE_CODE&quot;&gt;INITIATING_SITE_CODE&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;INITIATING_SITE_NAME&quot;&gt;INITIATING_SITE_NAME&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;CAPA_CATEGORY&quot;&gt;CAPA_CATEGORY&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;PRODUCTLINE_CODE&quot;&gt;PRODUCTLINE_CODE&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;STO_CODE&quot;&gt;STO_CODE&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;PLANT_AREA_CODE&quot;&gt;PLANT_AREA_CODE&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;PRIORITY&quot;&gt;PRIORITY&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;IS_REPEAT_CAPA&quot;&gt;IS_REPEAT_CAPA&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;RELATED_CAPA_NO&quot;&gt;RELATED_CAPA_NO&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;MASTER_CAPA_NO&quot;&gt;RECORD_NUMBER&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;OWNING_SITE_CODE&quot;&gt;OWNING_SITE_CODE&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;OWNING_SITE_NAME&quot;&gt;OWNING_SITE_NAME&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;SUPPLIER_SITE_CODE&quot;&gt;SUPPLIER_SITE_CODE&lt;/DataMap&gt;&#xD;            &lt;DataMap TargetXPath=&quot;SUPPLIER_SITE_NAME&quot;&gt;SUPPLIER_SITE_NAME&lt;/DataMap&gt;&#xD;          &lt;/DataMaps&gt;&#xD;        &lt;/TransferData&gt;&#xD;      &lt;/Param&gt;&#xD;    &lt;/Params&gt;&#xD;  &lt;/Action&gt;&#xD;&lt;/Actions&gt;" xsi:type="GenericAction">
            <Params />
          </Action>
        </ExitActions>
      </ActionPhaseNodeData>
      <ActionPhaseNodeData Category="ActionPhase" DroppedToDiagram="true" Figure="BpmnTaskScript" Key="apMoveontoActionPlanApproval" Location="-60 1160" SubGraphKey="" Text="Move on to Action Plan Approval">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      </ActionPhaseNodeData>
      <ActionPhaseNodeData Category="ActionPhase" DroppedToDiagram="true" Figure="BpmnTaskScript" Key="apMovetoImplementation" Location="300 1500" SubGraphKey="" Text="Move to Implementation">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action CreationMode="Temp" Id="bad9d70b-aff2-40ba-9e62-8ed93025ab79" Name="Evaluate Void Due Date Extension step in subworkflow" Rule="Planning - Due Date extension needs approval" SuccessfulMessage="" Type="Generic" Xml="&lt;Actions&gt;&#xD; &lt;Action Type=&quot;EvaluateStep&quot; Name=&quot;VoidDueDate&quot; ContextNode=&quot;&quot; SuccessMessageId=&quot;&quot; Id=&quot;Action_be9486c8-fe6e-4696-b7dd-17d2b14fd5e3&quot;&gt;&#xD;  &lt;Params&gt;&#xD;   &lt;Param Name=&quot;ContainerWorkflowKey&quot; Type=&quot;String&quot;&gt;'CAPAWORKFLOW'&lt;/Param&gt;&#xD;   &lt;Param Name=&quot;WorkflowKey&quot; Type=&quot;String&quot;&gt;'Due Date Extension'&lt;/Param&gt;&#xD;   &lt;Param Name=&quot;EntityTypeId&quot; Type=&quot;String&quot;&gt;'CAPA'&lt;/Param&gt;&#xD;   &lt;Param Name=&quot;RecordId&quot; Type=&quot;String&quot;&gt;PK_ID&lt;/Param&gt;&#xD;   &lt;Param Name=&quot;WorkflowInstanceId&quot; Type=&quot;String&quot;&gt;&lt;/Param&gt;&#xD;   &lt;Param Name=&quot;StepId&quot; Type=&quot;String&quot;&gt;'stVoidDueDate'&lt;/Param&gt;&#xD;   &lt;Param Name=&quot;Scope&quot; Type=&quot;String&quot;&gt;'SameContainerWorkFlow'&lt;/Param&gt;&#xD;  &lt;/Params&gt;&#xD; &lt;/Action&gt;&#xD;&lt;/Actions&gt;&#xD;" xsi:type="GenericAction">
            <Params />
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION" CreationMode="Temp" Id="a1902cce-3d28-4a54-be9c-24b4617ebab7" Name="Update Completed Actions" QualifyingCondition="(STATUS='Yes' or STATUS='Skipped') and SIGN_OFF_PHASE=''" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="7ad6e746-93f4-4eac-9dd7-663da26b1c2f" Name="SIGN_OFF_PHASE" Type="String">'Planning'</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="106d1600-af45-4ebe-8501-fcabd2adc24b" Name="Update Implementation Due Date (Planning)" QualifyingCondition="IMPL_DUE_DATE = ''" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="4a6d7709-8587-4035-a5b7-1341e930a248" Name="IMPL_DUE_DATE" Type="String">AddBusinessDays(GetDate('Today'), IMPL_INTERVAL, ../OWNING_SITE_CODE)</Param>
            </Params>
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      </ActionPhaseNodeData>
      <ActionPhaseNodeData Category="ActionPhase" DroppedToDiagram="true" Figure="BpmnTaskScript" Key="apEvaluateFailureModeandCause" Location="40 500" SubGraphKey="" Text="Evaluate Failure Mode and Cause">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action CreationMode="Temp" Id="ae3cbe0f-3924-4a39-b767-2c45c95b66b9" Name="Evaluate Failure Mode and Cause" Rule="Investigation - Evaluate Failure Mode and Cause" SuccessfulMessage="" Type="Generic" Xml="&lt;Actions&gt;&#xD;  &lt;Action Type=&quot;EvaluateIfNewFailureMode&quot; Name=&quot;EvaluateIfNewFailureMode&quot; ContextNode=&quot;V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ROOT_CAUSE&quot; SuccessMessageId=&quot;&quot; ActionMode=&quot;PerRecord&quot; RowIdentifier=&quot;PK_ID&quot; RowIdentifierValue=&quot;&quot;&gt;&#xD;    &lt;Params&gt;&#xD;      &lt;Param Type=&quot;String&quot; Name=&quot;EntityView&quot;&gt;'V_SS_CAPA'&lt;/Param&gt;&#xD;      &lt;Param Type=&quot;String&quot; Name=&quot;RecordObject&quot;&gt;'CAPA'&lt;/Param&gt;&#xD;      &lt;Param Type=&quot;String&quot; Name=&quot;RecordType&quot;&gt;../CAPA_TYPE&lt;/Param&gt;&#xD;      &lt;Param Type=&quot;String&quot; Name=&quot;PolicyForNewFMD&quot;&gt;../V_SS_CAPA-V_SS_CAPA_POLICY/FMD_NEW_EVAL&lt;/Param&gt;&#xD;      &lt;Param Type=&quot;String&quot; Name=&quot;CurrentObjectID&quot;&gt;PK_ID&lt;/Param&gt;&#xD;      &lt;Param Type=&quot;String&quot; Name=&quot;CurrentObjectIDColumn&quot;&gt;'PK_ID'&lt;/Param&gt;&#xD;      &lt;Param Type=&quot;String&quot; Name=&quot;RootCauseAgainst&quot;&gt;ROOT_CAUSE_AGAINST&lt;/Param&gt;&#xD;      &lt;Param Type=&quot;String&quot; Name=&quot;ProductCode&quot;&gt;PRODUCT_CODE&lt;/Param&gt;&#xD;      &lt;Param Type=&quot;String&quot; Name=&quot;ProcessCode&quot;&gt;PROCESS_CODE&lt;/Param&gt;&#xD;      &lt;Param Type=&quot;String&quot; Name=&quot;FailureCauseName&quot;&gt;FAILURE_CAUSE_NAME&lt;/Param&gt;&#xD;      &lt;Param Type=&quot;String&quot; Name=&quot;FailureCauseDescription&quot;&gt;FAILURE_CAUSE_DESCRIPTION&lt;/Param&gt;&#xD;      &lt;Param Type=&quot;String&quot; Name=&quot;FailureModeName&quot;&gt;FAILURE_MODE_NAME&lt;/Param&gt;&#xD;      &lt;Param Type=&quot;String&quot; Name=&quot;FailureModeDescription&quot;&gt;FAILURE_MODE_DESCRIPTION&lt;/Param&gt;&#xD;      &lt;Param Type=&quot;String&quot; Name=&quot;FailureModeIsNewColumn&quot;&gt;'FMD_IS_NEW'&lt;/Param&gt;&#xD;    &lt;/Params&gt;&#xD;  &lt;/Action&gt;&#xD;&lt;/Actions&gt;" xsi:type="GenericAction">
            <Params />
          </Action>
          <Action CreationMode="Temp" Id="80ff70b7-175a-411d-a39c-a487bc7bc994" Name="Evaluate Void Due Date Extension step in subworkflow" Rule="Investigation - Due Date extension needs approval" SuccessfulMessage="" Type="Generic" Xml="&lt;Actions&gt;&#xD; &lt;Action Type=&quot;EvaluateStep&quot; Name=&quot;VoidDueDate&quot; ContextNode=&quot;&quot; SuccessMessageId=&quot;&quot; Id=&quot;Action_be9486c8-fe6e-4696-b7dd-17d2b14fd5e3&quot;&gt;&#xD;  &lt;Params&gt;&#xD;   &lt;Param Name=&quot;ContainerWorkflowKey&quot; Type=&quot;String&quot;&gt;'CAPAWORKFLOW'&lt;/Param&gt;&#xD;   &lt;Param Name=&quot;WorkflowKey&quot; Type=&quot;String&quot;&gt;'Due Date Extension'&lt;/Param&gt;&#xD;   &lt;Param Name=&quot;EntityTypeId&quot; Type=&quot;String&quot;&gt;'CAPA'&lt;/Param&gt;&#xD;   &lt;Param Name=&quot;RecordId&quot; Type=&quot;String&quot;&gt;PK_ID&lt;/Param&gt;&#xD;   &lt;Param Name=&quot;WorkflowInstanceId&quot; Type=&quot;String&quot;&gt;&lt;/Param&gt;&#xD;   &lt;Param Name=&quot;StepId&quot; Type=&quot;String&quot;&gt;'stVoidDueDate'&lt;/Param&gt;&#xD;   &lt;Param Name=&quot;Scope&quot; Type=&quot;String&quot;&gt;'SameContainerWorkFlow'&lt;/Param&gt;&#xD;  &lt;/Params&gt;&#xD; &lt;/Action&gt;&#xD;&lt;/Actions&gt;" xsi:type="GenericAction">
            <Params />
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="1c46dabb-c7b6-49b8-8d29-08ca48cdd49d" Name="Update Planning Due Date (Investigation)" QualifyingCondition="PLAN_DUE_DATE = ''" RowIdentifier="PK_ID" Rule="" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="76217174-58ee-41ec-bdd5-2a33eac49253" Name="PLAN_DUE_DATE" Type="String">AddBusinessDays(GetDate('Today'), PLAN_INTERVAL, ../OWNING_SITE_CODE)</Param>
            </Params>
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action CreationMode="Temp" Id="92aea507-862d-4464-90d0-4ac3622be77c" Name="Notification upon adding Failure Mode or Cause" Rule="Investigation - Notification upon adding new Failure Mode or Cause" SuccessfulMessage="" Type="Generic" Xml="&lt;Actions&gt;&#xD;  &lt;Action Type=&quot;Notification&quot; SuccessMessageId=&quot;&quot; Name=&quot;Notification upon adding new Failure Mode or Cause&quot; ContextNode=&quot;V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ROOT_CAUSE[FMD_IS_NEW='true']&quot; ActionMode=&quot;PerRecord&quot; RowIdentifier=&quot;PK_ID&quot; RowIdentifierValue=&quot;&quot;&gt;&#xD;    &lt;Params&gt;&#xD;      &lt;Param Type=&quot;String&quot; Name=&quot;NotifyToType&quot;&gt;'SUBSCRIBERCODE'&lt;/Param&gt;&#xD;      &lt;Param Type=&quot;String&quot; Name=&quot;NotifyTo&quot;&gt;../COORDINATOR_CODE&lt;/Param&gt;&#xD;      &lt;Param Type=&quot;String&quot; Name=&quot;AppendRecordLink&quot;&gt;'true'&lt;/Param&gt;&#xD;      &lt;Param Type=&quot;String&quot; Name=&quot;Subject&quot;&gt;concat('New Failure Mode ', FAILURE_MODE_NAME, ' or a new Root Cause ', FAILURE_CAUSE_NAME, ' Added')&lt;/Param&gt;&#xD;      &lt;Param Type=&quot;String&quot; Name=&quot;Message&quot;&gt;concat('A new Failure Mode ', FAILURE_MODE_NAME,' or a new Root Cause ', FAILURE_CAUSE_NAME, ' was created with CAPA ', ../RECORD_NUMBER, ' and has been automatically added to SmartSolve master setup.')&lt;/Param&gt;&#xD;    &lt;/Params&gt;&#xD;  &lt;/Action&gt;&#xD;&lt;/Actions&gt;" xsi:type="GenericAction">
            <Params />
          </Action>
          <Action CreationMode="Temp" Id="ca7f9bac-548a-4973-99ad-5007e7508b4a" Name="Route task upon adding new Failure Mode or Cause" Rule="Investigation - Route task upon adding new Failure Mode or Cause" SuccessfulMessage="" Type="Generic" Xml="&lt;Actions&gt;&#xD; &lt;Action Type=&quot;INSERTCHILDENTITIES&quot; Name=&quot;Add child Row&quot; ContextNode=&quot;V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ROOT_CAUSE[FMD_IS_NEW='true']&quot; SuccessMessageId=&quot;&quot; ActionMode=&quot;PerRecord&quot; RowIdentifier=&quot;PK_ID&quot; RowIdentifierValue=&quot;&quot;&gt;&#xD;  &lt;Params&gt;&#xD;   &lt;Param Type=&quot;String&quot; Name=&quot;ParentContextNode&quot;&gt;'V_SS_CAPA'&lt;/Param&gt;&#xD;   &lt;Param Type=&quot;String&quot; Name=&quot;ChildEntity&quot;&gt;'V_SS_CAPA-V_SS_CAPA_ACTIVITY'&lt;/Param&gt;&#xD;   &lt;Param Type=&quot;FieldsToSet&quot; Name=&quot;FieldsToSet&quot;&gt;&#xD;    &lt;FieldsToSet&gt;&#xD;     &lt;DataMaps&gt;&#xD;      &lt;DataMap FieldName=&quot;IsExistingObject&quot;&gt;'false'&lt;/DataMap&gt;&#xD;      &lt;DataMap FieldName=&quot;ASSIGNED_ROLE_CODE&quot;&gt;../V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Coordination']/ROLE_CODE&lt;/DataMap&gt;&#xD;      &lt;DataMap FieldName=&quot;ASSIGNED_ACT_CODE&quot;&gt;../V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Coordination']/ACTOR_CODE&lt;/DataMap&gt;&#xD;      &lt;DataMap FieldName=&quot;DUE_DATE&quot;&gt;AddDays(GetDate('Today'),7)&lt;/DataMap&gt;&#xD;      &lt;DataMap FieldName=&quot;ACTIVITY_TYPE&quot;&gt;'tAdhoc'&lt;/DataMap&gt;&#xD;      &lt;DataMap FieldName=&quot;TASK_NAME&quot;&gt;concat('Evaluate Failure Mode ', FAILURE_MODE_NAME)&lt;/DataMap&gt;&#xD;      &lt;DataMap FieldName=&quot;ACTIVITY_DESCRIPTION&quot;&gt;concat('A new Failure Mode ', FAILURE_MODE_NAME, ' or a new Root Cause ', FAILURE_CAUSE_NAME, ' was created with CAPA ', ../RECORD_NUMBER, ' and should be evaluated to determine whether it needs to be added to your master list.')&lt;/DataMap&gt;&#xD;     &lt;/DataMaps&gt;&#xD;    &lt;/FieldsToSet&gt;&#xD;   &lt;/Param&gt;&#xD;  &lt;/Params&gt;&#xD; &lt;/Action&gt;&#xD; &lt;Action Type=&quot;INITIATEWORKFLOW&quot; SuccessMessageId=&quot;AdHoc Task SubWorkflow started&quot; Name=&quot;AdHoc Task SubWorkflow&quot; ContextNode=&quot;V_SS_CAPA&quot; ActionMode=&quot;PerRecord&quot; RowIdentifier=&quot;PK_ID&quot; RowIdentifierValue=&quot;&quot;&gt;&#xD;  &lt;Params&gt;&#xD;   &lt;Param Type=&quot;String&quot; Name=&quot;ContainerWorkflowKey&quot;&gt;'CAPAWORKFLOW'&lt;/Param&gt;&#xD;   &lt;Param Type=&quot;String&quot; Name=&quot;WorkflowKey&quot;&gt;'AdHoc Task SubWorkflow'&lt;/Param&gt;&#xD;   &lt;Param Type=&quot;String&quot; Name=&quot;IsBlocking&quot;&gt;'true'&lt;/Param&gt;&#xD;   &lt;Param Type=&quot;String&quot; Name=&quot;BlockingStepId&quot;&gt;'tbpWaitingforClosure'&lt;/Param&gt;&#xD;   &lt;Param Type=&quot;String&quot; Name=&quot;WorkflowType&quot;&gt;'SubWorkflow'&lt;/Param&gt;&#xD;   &lt;Param Type=&quot;String&quot; Name=&quot;UseExistingSubWorkflowIfExist&quot;&gt;'true'&lt;/Param&gt;&#xD;  &lt;/Params&gt;&#xD; &lt;/Action&gt;&#xD;&lt;/Actions&gt;" xsi:type="GenericAction">
            <Params />
          </Action>
        </ExitActions>
      </ActionPhaseNodeData>
      <ActionPhaseNodeData Category="ActionPhase" DroppedToDiagram="true" Figure="BpmnTaskScript" Key="apCloseCAPA" Location="-20 3220" SubGraphKey="" Text="Close CAPA">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action CreationMode="Temp" FormName="" Id="Action_e64f80d3-a50a-4679-a91c-08b79c87c434" IsSetupMeeting="false" Name="Notification for CAPA Closed" Rule="" SuccessfulMessage="" Type="Notification" xsi:type="NotificationAction">
            <Params>
              <Param Name="To">COORDINATOR_CODE;CAPA_OWNER_CODE</Param>
              <Param Name="Cc" />
              <Param Name="Bcc" />
              <Param Name="Subject">CAPA: $RECORD_NUMBER$ is closed</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">CAPA: $RECORD_NUMBER$ is closed.
#lt;#br#gt;#
#lt;#br#gt;#
                CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)</Param>
              <Param Name="AppendTaskLink">false</Param>
              <Param Name="AppendRecordLink">true</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="Action_74b99b9b-7b20-4a2e-a075-53eb947e3b47" Name="Update Phase and Current Phase" RowIdentifier="PK_ID" Rule="" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="52a17a55-4204-498e-8fbd-31448c53a2cc" Name="PHASE" Type="String">'Closed'</Param>
              <Param Id="a532c711-1da6-4ab9-b5c7-625e15789063" Name="CURRENT_PHASE" Type="String">'Closed'</Param>
            </Params>
          </Action>
          <Action CreationMode="Temp" Id="Action_ee0c21dc-92b1-4c31-a520-17358f2d1b15" Name="CAPA Post SQD" Rule="CAPA Type is Supplier" SuccessfulMessage="" Type="Generic" Xml="&lt;Actions&gt;&#xD; &lt;Action Type=&quot;InvokeSmartSolveAPI&quot; Name=&quot;CAPAPostUnpostSQD&quot; ContextNode=&quot;V_SS_CAPA&quot; SuccessMessageId=&quot;&quot; &gt;&#xD;  &lt;Params&gt;&#xD; &lt;Param Type=&quot;String&quot; Name=&quot;Assembly&quot;&gt;'EQM.Biz.CAPA.SupplierQuality'&lt;/Param&gt;&#xD; &lt;Param Type=&quot;String&quot; Name=&quot;Type&quot;&gt;'EQM.Biz.CAPA.SupplierQuality.StudioCAPASupplierUtil'&lt;/Param&gt;&#xD; &lt;Param Type=&quot;String&quot; Name=&quot;Method&quot;&gt;'CAPAPostUnpostSQD'&lt;/Param&gt;&#xD; &lt;Param Type=&quot;String&quot; Name=&quot;PostUnpostValue&quot;&gt;'Post'&lt;/Param&gt;&#xD; &lt;/Params&gt; &#xD; &lt;/Action&gt;&#xD;&lt;/Actions&gt;" xsi:type="GenericAction">
            <Params />
          </Action>
          <Action Id="Action_afe10800-308c-48be-8c67-be36ffc9b039" Name="Close CAPA" Status="CLOSED" SuccessfulMessage="97020" Type="Close" xsi:type="CloseAction">
            <Params />
          </Action>
        </ExitActions>
      </ActionPhaseNodeData>
      <ActionPhaseNodeData Category="ActionPhase" DroppedToDiagram="true" Figure="BpmnTaskScript" Key="apSendNotificationonApprove" Location="784.09375 220" SubGraphKey="swDueDateExtension" Text="Send Notification on Approve">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action CreationMode="Temp" FormName="" Id="Action_b70dc4f0-d672-471d-a6ee-a46669d54795" IsSetupMeeting="false" Name="Notification Action Investigation" Rule="Due Date Phase Investigation from Investigate CAPA task" SuccessfulMessage="" Type="Notification" xsi:type="NotificationAction">
            <Params>
              <Param Name="To">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Investigation']/ACTOR_CODE</Param>
              <Param Name="Cc">COORDINATOR_CODE</Param>
              <Param Name="Bcc" />
              <Param Name="Subject">Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved.
#lt;#br#gt;#
#lt;#br#gt;#
The new due date is $V_SS_CAPA-V_SS_CAPA_EXTENSION[WORKFLOW_ID=//WorkFlow/Id]/REVISED_DUEDATE,{0:MMM-dd-yyyy}$.
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)</Param>
              <Param Name="AppendTaskLink">false</Param>
              <Param Name="AppendRecordLink">true</Param>
            </Params>
          </Action>
          <Action CreationMode="Temp" FormName="" Id="58b94ede-193c-4359-a5c1-2372b80eb2d1" IsSetupMeeting="false" Name="Notification Action Investigation Approval" Rule="Due Date Phase Investigation from Approve CAPA Investigation task" SuccessfulMessage="" Type="Notification" xsi:type="NotificationAction">
            <Params>
              <Param Name="To">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Investigation Approval']/ACTOR_CODE</Param>
              <Param Name="Cc">COORDINATOR_CODE</Param>
              <Param Name="Bcc" />
              <Param Name="Subject">Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved.
#lt;#br#gt;#
#lt;#br#gt;#
The new due date is $V_SS_CAPA-V_SS_CAPA_EXTENSION[WORKFLOW_ID=//WorkFlow/Id]/REVISED_DUEDATE,{0:MMM-dd-yyyy}$.
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)</Param>
              <Param Name="AppendTaskLink">false</Param>
              <Param Name="AppendRecordLink">true</Param>
            </Params>
          </Action>
          <Action CreationMode="Temp" FormName="" Id="3259610e-fc50-4399-b757-bce3b6c77259" IsSetupMeeting="false" Name="Notification Action Planning" Rule="Due Date Phase Planning from Develop Action Plans task" SuccessfulMessage="" Type="Notification" xsi:type="NotificationAction">
            <Params>
              <Param Name="To">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Development']/ACTOR_CODE</Param>
              <Param Name="Cc">COORDINATOR_CODE</Param>
              <Param Name="Bcc" />
              <Param Name="Subject">Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved.
#lt;#br#gt;#
#lt;#br#gt;#
The new due date is $V_SS_CAPA-V_SS_CAPA_EXTENSION[WORKFLOW_ID=//WorkFlow/Id]/REVISED_DUEDATE,{0:MMM-dd-yyyy}$.
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)</Param>
              <Param Name="AppendTaskLink">false</Param>
              <Param Name="AppendRecordLink">true</Param>
            </Params>
          </Action>
          <Action CreationMode="Temp" FormName="" Id="a36fe831-d6f1-46c9-8ce9-bc4c39cb688d" IsSetupMeeting="false" Name="Notification Action Plan Verification/Validation" Rule="Due Date Phase Planning from Verify/Validate Action Plans task" SuccessfulMessage="" Type="Notification" xsi:type="NotificationAction">
            <Params>
              <Param Name="To">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Verification/Validation']/ACTOR_CODE</Param>
              <Param Name="Cc">COORDINATOR_CODE</Param>
              <Param Name="Bcc" />
              <Param Name="Subject">Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved.
#lt;#br#gt;#
#lt;#br#gt;#
The new due date is $V_SS_CAPA-V_SS_CAPA_EXTENSION[WORKFLOW_ID=//WorkFlow/Id]/REVISED_DUEDATE,{0:MMM-dd-yyyy}$.
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)</Param>
              <Param Name="AppendTaskLink">false</Param>
              <Param Name="AppendRecordLink">true</Param>
            </Params>
          </Action>
          <Action CreationMode="Temp" FormName="" Id="4ea995fc-4f13-4e83-a723-5ed0663aed47" IsSetupMeeting="false" Name="Notification Action Plan Approval" Rule="Due Date Phase Planning from Approve Action Plans task" SuccessfulMessage="" Type="Notification" xsi:type="NotificationAction">
            <Params>
              <Param Name="To">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Approval']/ACTOR_CODE</Param>
              <Param Name="Cc">COORDINATOR_CODE</Param>
              <Param Name="Bcc" />
              <Param Name="Subject">Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved.
#lt;#br#gt;#
#lt;#br#gt;#
The new due date is $V_SS_CAPA-V_SS_CAPA_EXTENSION[WORKFLOW_ID=//WorkFlow/Id]/REVISED_DUEDATE,{0:MMM-dd-yyyy}$.
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)</Param>
              <Param Name="AppendTaskLink">false</Param>
              <Param Name="AppendRecordLink">true</Param>
            </Params>
          </Action>
          <Action CreationMode="Temp" FormName="" Id="Action_8623f9fe-3e30-4548-8307-e30a26d826ad" IsSetupMeeting="false" Name="Notification Action Implementation" Rule="Due Date Phase Implementation" SuccessfulMessage="" Type="Notification" xsi:type="NotificationAction">
            <Params>
              <Param Name="To">COORDINATOR_CODE</Param>
              <Param Name="Cc" />
              <Param Name="Bcc" />
              <Param Name="Subject">Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved.
#lt;#br#gt;#
#lt;#br#gt;#
The new due date is $V_SS_CAPA-V_SS_CAPA_EXTENSION[WORKFLOW_ID=//WorkFlow/Id]/REVISED_DUEDATE,{0:MMM-dd-yyyy}$.
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)</Param>
              <Param Name="AppendTaskLink">false</Param>
              <Param Name="AppendRecordLink">true</Param>
            </Params>
          </Action>
          <Action CreationMode="Temp" FormName="" Id="9005435f-f5b8-4ebe-a2f0-4c8d25a5d77e" IsSetupMeeting="false" Name="Notification Action Implementation Verification" Rule="Due Date Phase Implementation from Verify Implementation task" SuccessfulMessage="" Type="Notification" xsi:type="NotificationAction">
            <Params>
              <Param Name="To">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Implementation Verification']/ACTOR_CODE</Param>
              <Param Name="Cc">COORDINATOR_CODE</Param>
              <Param Name="Bcc" />
              <Param Name="Subject">Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved.
#lt;#br#gt;#
#lt;#br#gt;#
The new due date is $V_SS_CAPA-V_SS_CAPA_EXTENSION[WORKFLOW_ID=//WorkFlow/Id]/REVISED_DUEDATE,{0:MMM-dd-yyyy}$.
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)</Param>
              <Param Name="AppendTaskLink">false</Param>
              <Param Name="AppendRecordLink">true</Param>
            </Params>
          </Action>
          <Action CreationMode="Temp" FormName="" Id="Action_ae5e749d-e5df-4ace-a4dc-88ef9207139e" IsSetupMeeting="false" Name="Notification Action Completion Review" Rule="Due Date Phase Completion Review" SuccessfulMessage="" Type="Notification" xsi:type="NotificationAction">
            <Params>
              <Param Name="To">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Completion Review']/ACTOR_CODE</Param>
              <Param Name="Cc">COORDINATOR_CODE</Param>
              <Param Name="Bcc" />
              <Param Name="Subject">Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved.
#lt;#br#gt;#
#lt;#br#gt;#
The new due date is $V_SS_CAPA-V_SS_CAPA_EXTENSION[WORKFLOW_ID=//WorkFlow/Id]/REVISED_DUEDATE,{0:MMM-dd-yyyy}$.
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)</Param>
              <Param Name="AppendTaskLink">false</Param>
              <Param Name="AppendRecordLink">true</Param>
            </Params>
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION" CreationMode="Temp" Id="Action_6559f2d7-c5e0-41ea-88dd-8b2460bec9a8" Name="Update Action" QualifyingCondition="IS_EXT_REQUEST_COMPL='false'" RowIdentifier="PK_ID" Rule="Approve" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="1c330c79-1a08-4715-a4fc-5d4d2ebec8f1" Name="IS_EXT_REQUEST_COMPL" Type="String">'true'</Param>
            </Params>
          </Action>
        </ExitActions>
      </ActionPhaseNodeData>
      <ActionPhaseNodeData Category="ActionPhase" DroppedToDiagram="true" Figure="BpmnTaskScript" Key="apNonEffectivenessOtherAction" Location="60 2680" SubGraphKey="" Text="Non Effectiveness Other Action">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action CreationMode="Temp" FormName="" Id="Action_f7b600d5-2ad3-4796-b7c2-5c781970e142" IsSetupMeeting="false" Name="Notification for Reopen Investigation" Rule="Reopen Investigation" SuccessfulMessage="" Type="Notification" xsi:type="NotificationAction">
            <Params>
              <Param Name="To">COORDINATOR_CODE</Param>
              <Param Name="Cc" />
              <Param Name="Bcc" />
              <Param Name="Subject">Investigation has been reopened in CAPA: $RECORD_NUMBER$</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">Investigation has been reopened in CAPA: $RECORD_NUMBER$.
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)</Param>
              <Param Name="AppendTaskLink">false</Param>
              <Param Name="AppendRecordLink">true</Param>
            </Params>
          </Action>
          <Action CreationMode="Temp" FormName="" Id="Action_3ddcef78-d0fa-461b-aa4c-2bc150042873" IsSetupMeeting="false" Name="Notification for Reopen Planning" Rule="Reopen Planning" SuccessfulMessage="" Type="Notification" xsi:type="NotificationAction">
            <Params>
              <Param Name="To">COORDINATOR_CODE</Param>
              <Param Name="Cc" />
              <Param Name="Bcc" />
              <Param Name="Subject">Planning has been reopened in CAPA: $RECORD_NUMBER$</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">Planning has been reopened in CAPA: $RECORD_NUMBER$.
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)</Param>
              <Param Name="AppendTaskLink">false</Param>
              <Param Name="AppendRecordLink">true</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="45475997-a71c-4381-8de9-955c3c289dfa" Name="Update the following Phase Status of Investigation Phase to blank" RowIdentifier="PK_ID" Rule="Reopen Investigation" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="11fd9ae7-7e18-430c-b827-d4e2153d1505" Name="PLAN_STATUS" Type="String">''</Param>
              <Param Id="3b1c17d3-42ec-4ce5-9490-338726184a70" Name="IMPL_STATUS" Type="String">''</Param>
              <Param Id="e93e48fb-63c2-4214-a166-08f18f8ea079" Name="CLOSURE_STATUS" Type="String">''</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="dd211ac0-565f-4168-87e0-b94894d0ba89" Name="Update the following Phase Status of Planning Phase to blank" RowIdentifier="PK_ID" Rule="Reopen Planning" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="47076294-2687-4d78-8988-b183ba5809a6" Name="IMPL_STATUS" Type="String">''</Param>
              <Param Id="81fbffef-c9e9-47ff-bb43-3eddde246bc6" Name="CLOSURE_STATUS" Type="String">''</Param>
            </Params>
          </Action>
          <Action CreationMode="Temp" Id="Action_0f444b7a-6038-4a66-a62e-699d78d33ac1" Name="Go To Investigation" Rule="Reopen Investigation" SuccessfulMessage="" Type="Generic" Xml="&lt;Actions&gt;&#xD;     &lt;Action Type=&quot;NextPhase&quot; Name=&quot;&quot; ContextNode=&quot;&quot; SuccessMessageId=&quot;&quot; Id=&quot;Action_08e93a1b-d462-1234-a444-db6c58015a3e&quot;&gt;&#xD;           &lt;Params&gt;&#xD;                &lt;Param Type=&quot;String&quot; Name=&quot;PhaseId&quot;&gt;'pInvestigation'&lt;/Param&gt;&#xD;            &lt;/Params&gt;&#xD;     &lt;/Action&gt;&#xD; &lt;/Actions&gt;" xsi:type="GenericAction">
            <Params />
          </Action>
          <Action CreationMode="Temp" Id="Action_ff85f058-d07f-44ae-9639-562b3a024b97" Name="Go To Planning" Rule="Reopen Planning" SuccessfulMessage="" Type="Generic" Xml="&lt;Actions&gt;&#xD;       &lt;Action Type=&quot;NextPhase&quot; Name=&quot;&quot; ContextNode=&quot;&quot; SuccessMessageId=&quot;&quot; Id=&quot;Action_6b39e3a2-0984-123-88b5-81f2e94810e9&quot;&gt;&#xD;             &lt;Params&gt;&#xD;                   &lt;Param Type=&quot;String&quot; Name=&quot;PhaseId&quot;&gt;'pPlanning'&lt;/Param&gt;&#xD;              &lt;/Params&gt;&#xD;          &lt;/Action&gt;&#xD;  &lt;/Actions&gt;" xsi:type="GenericAction">
            <Params />
          </Action>
        </ExitActions>
      </ActionPhaseNodeData>
      <ActionPhaseNodeData Category="ActionPhase" DroppedToDiagram="true" Figure="BpmnTaskScript" Key="apBeforeInitiationVerification" Location="100 -300" SubGraphKey="" Text="Before Initiation Verification">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action Id="61ba4830-627b-4348-a13a-a3c4321ab84c" MappingDataObject="GroupRole" MappingDataSource="SmartSolve Data" Name="Initialize Team" Rule="" SuccessfulMessage="" TargetContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM" Type="InitializeData" xsi:type="InitializeDataAction">
            <DataMaps>
              <DataMap Id="ca55eb61-5090-41fa-bcf3-b5b5c71f569f" TargetXPath="MEMBER_TYPE" Type="String">GPR_MEMBER_TYPE</DataMap>
              <DataMap Id="98b710c1-f59b-445b-b373-0364d0c52737" TargetXPath="MEMBER_TYPE_ROLE" Type="String">GPR_MEMBER_TYPE_ROLE</DataMap>
              <DataMap Id="2cb60b35-ab3f-4ae4-ab2a-b664d278d9c9" TargetXPath="MEMBER_TYPE_REQUIRED" Type="String">GPR_REQUIRED</DataMap>
              <DataMap Id="e6b6e710-750c-480f-8f20-1d53d9b94453" TargetXPath="LEVEL_NO" Type="String">GLV_LEVEL</DataMap>
              <DataMap Id="265d7de8-d5f3-457e-b57f-72dabaac72f9" TargetXPath="ROLE_CODE" Type="String">GPR_ROL_CODE</DataMap>
              <DataMap Id="e9e3bdde-7ed7-499c-92a1-88ad393678f7" TargetXPath="ACTOR_CODE" Type="String">GPR_PREFERRED_ACT_CODE</DataMap>
            </DataMaps>
            <Params />
            <QualifyingConditions>
              <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="29a8b66a-80de-4a7e-a2bc-964699563727" LeftValue="GPR_GRP_CODE" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="TEAM_CODE" />
            </QualifyingConditions>
          </Action>
          <Action Id="7d7d789b-6e1d-4836-91d8-35b7b61bdce1" MappingDataObject="CAPA Source" MappingDataSource="List" Name="Initialize CAPA Source Type" SuccessfulMessage="" TargetContextNode="V_SS_CAPA" Type="InitializeData" xsi:type="InitializeDataAction">
            <DataMaps>
              <DataMap Id="138f9625-c1bc-46ec-bf42-e0ba21a3e9fb" TargetXPath="CAPA_SOURCE_TYPE" Type="String">LST_VALUE3</DataMap>
            </DataMaps>
            <Params />
            <QualifyingConditions>
              <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="ad6dd044-de1a-4ea6-a8aa-153b8648e269" LeftValue="LST_VALUE" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="CAPA_SOURCE" />
            </QualifyingConditions>
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="46dc4050-05ef-47e7-ac4b-60d54dba33b9" Name="Update CAPA Owner and CAPA Owner Role from Team" RowIdentifier="PK_ID" Rule="Team Members - Is Ownership defined" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="0d617ff5-7632-454e-a7f3-00c26ca23888" Name="CAPA_OWNER_CODE" Type="String">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Ownership']/ACTOR_CODE</Param>
              <Param Id="db060869-350b-42ca-8c5e-dfc5fc90d5f5" Name="OWNER_ROLE_CODE" Type="String">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Ownership']/ROLE_CODE</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="bd98e577-665b-4053-aeff-714a47a843d3" Name="Update CAPA Coordinator and CAPA Coordinator Role from Team" RowIdentifier="PK_ID" Rule="Team Members - Is  Coordination defined" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="f5d3f64a-df62-40ae-8ad5-1bcb05498737" Name="COORDINATOR_CODE" Type="String">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Coordination']/ACTOR_CODE</Param>
              <Param Id="aecdf932-c011-4038-9e4d-2e29310a7c7c" Name="COORDINATOR_ROLE_CODE" Type="String">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Coordination']/ROLE_CODE</Param>
            </Params>
          </Action>
        </ExitActions>
      </ActionPhaseNodeData>
      <ApprovalDecisionNodeData ApprovalRule="Approval-All need to accept" Category="ApprovalDecision" DroppedToDiagram="true" Figure="Decision" Key="ApprovalDecision" Location="704.09375 140" RejectionRule="Approval-Anyone reject - stop at first rejection" SubGraphKey="swDueDateExtension" Text="Approval Result" ViewTaskStatusFollowsFalsePath="false" />
      <ApprovalDecisionNodeData ApprovalRule="Approval-All need to accept" Category="ApprovalDecision" DroppedToDiagram="true" Figure="Decision" Key="ApprovalDecision 5" Location="720 1240" RejectionRule="Approval-Anyone reject - stop at first rejection" SubGraphKey="" Text="Approval Result" ViewTaskStatusFollowsFalsePath="false" />
      <ApprovalDecisionNodeData ApprovalRule="Approval-All need to accept" Category="ApprovalDecision" DroppedToDiagram="true" Figure="Decision" Key="adApprovalDecision2" Location="320 2080" RejectionRule="Approval-Anyone reject - stop at first rejection" SubGraphKey="" Text="Approval Result" ViewTaskStatusFollowsFalsePath="false" />
      <ApprovalDecisionNodeData ApprovalRule="Approval-All need to accept" Category="ApprovalDecision" DroppedToDiagram="true" Figure="Decision" Key="ApprovalDecision 3" Location="-140 1080" RejectionRule="Approval-Anyone reject - stop at first rejection" SubGraphKey="" Text="Approval Result" ViewTaskStatusFollowsFalsePath="false" />
      <ApprovalDecisionNodeData ApprovalRule="Approval-All need to accept" Category="ApprovalDecision" DroppedToDiagram="true" Figure="Decision" Key="adApprovalDecision" Location="380 500" RejectionRule="Approval-Anyone reject - stop at first rejection" SubGraphKey="" Text="Approval Result" ViewTaskStatusFollowsFalsePath="false" />
      <ApprovalLevelNodeData Category="ApprovalLevel" DroppedToDiagram="true" IsSubGraph="true" Key="ApprovalLevel" Location="704.09375 -20" SubGraphKey="pDueDateExtensionApproval" Text="Approval Level" />
      <ApprovalLevelNodeData Category="ApprovalLevel" DroppedToDiagram="true" IsSubGraph="true" Key="ApprovalLevel 5" Location="300 1280" SubGraphKey="pActionPlanApproval" />
      <ApprovalLevelNodeData Category="ApprovalLevel" DroppedToDiagram="true" IsSubGraph="true" Key="alpImplementationVerificationApprovalLevel2" Location="500 1880" SubGraphKey="pImplementationVerification" Text="Approval Level" />
      <ApprovalLevelNodeData Category="ApprovalLevel" DroppedToDiagram="true" IsSubGraph="true" Key="ApprovalLevel 3" Location="100 920" SubGraphKey="pActionPlanVerification/Validation" />
      <ApprovalLevelNodeData Category="ApprovalLevel" DroppedToDiagram="true" IsSubGraph="true" Key="alpInvestigationApprovalApprovalLevel" Location="380 300" SubGraphKey="pInvestigationApproval" Text="Approval Level" />
      <ApprovalPhaseNodeData ApproveAction="Approve" Category="Approval" DroppedToDiagram="true" DueDate="" Figure="Square" IsSubGraph="true" Key="pActionPlanApproval" Location="300 1280" RejectAction="Reject" SubGraphKey="" SyncEntity="true" Text="Action Plan Approval">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="65712bb4-6649-484f-90c1-390c6b744c14" Name="Update Current Phase" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="4ae1c202-428d-4dd3-a53f-ebdc00de60b5" Name="CURRENT_PHASE" Type="String">'Planning'</Param>
            </Params>
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="3e989ec2-91bb-4274-81c6-4f98367e0c2b" Name="Update Planning Completed Date and Planning Status (Action Plan Approval)" RowIdentifier="PK_ID" Rule="Action Plan Approval - Approved" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="336c78ba-e66d-4552-88de-e6f6ab75088b" Name="PLAN_COMPL_DATE" Type="String">GetDate('Today')</Param>
              <Param Id="39583f93-7617-4a8f-bf40-811ef30d6904" Name="PLAN_STATUS" Type="String">'COMPLETED'</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION" CreationMode="Temp" Id="abdb315a-39b4-43ac-87bd-e918fc7c1adb" Name="Update Transferred Record As Yes" QualifyingCondition="STATUS='No' and ACTION_TYPE='Action Plan'" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="59b0ebc4-c9cf-4c82-afb1-f1e4060ecbb8" Name="TRANSFERED_RECORD" Type="String">'Yes'</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION" CreationMode="Temp" Id="f6b00be2-0d0b-4770-bc26-bd7eea2d94b4" Name="Update Transferred Record As No" QualifyingCondition="STATUS!='No' and TRANSFERED_RECORD!='Yes' and ACTION_TYPE='Action Plan'" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="82d9a2f4-a10b-4cfe-b6ea-137ab9e8c439" Name="TRANSFERED_RECORD" Type="String">'No'</Param>
            </Params>
          </Action>
          <Action CreationMode="Temp" FormName="" Id="548a080e-00f7-483d-b07e-f2e3310e8981" IsSetupMeeting="false" Name="Notification Action Plan Approve" Rule="Approval-All need to accept" SuccessfulMessage="" Type="Notification" xsi:type="NotificationAction">
            <Params>
              <Param Name="To">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Development']/ACTOR_CODE</Param>
              <Param Name="Cc">COORDINATOR_CODE</Param>
              <Param Name="Bcc" />
              <Param Name="Subject">Action Plans for CAPA: $RECORD_NUMBER$ have been approved</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">
                Action Plans for CAPA: $RECORD_NUMBER$ have been approved.
                #lt;#br#gt;#
                #lt;#br#gt;#
                CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)
              </Param>
              <Param Name="AppendTaskLink">false</Param>
              <Param Name="AppendRecordLink">true</Param>
            </Params>
          </Action>
        </ExitActions>
      </ApprovalPhaseNodeData>
      <ApprovalPhaseNodeData ApproveAction="Verification/Validation Passed" Category="Approval" DroppedToDiagram="true" DueDate="" Figure="Square" IsSubGraph="true" Key="pActionPlanVerification/Validation" Location="100 920" RejectAction="Verification/Validation Failed" SubGraphKey="" SyncEntity="true" Text="Action Plan Verification/Validation">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION" CreationMode="Temp" Id="6a6d2977-a84b-43e9-a223-e32db79143a4" Name="Update Verification/Validation Failed and Comment to null" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="e20d7fe5-5724-49f5-a912-441ac71127a8" Name="FAIL_TO_VERIFY" Type="String">''</Param>
              <Param Id="ef8a0b22-1225-424c-87a7-dcb84ac67fba" Name="VERIFICATION_NOTE" Type="String">''</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="cc61cff4-696e-442e-80c6-17b2b1df10bb" Name="Update if any action plans were affected to null" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="9ed1d759-7273-4afa-b9a5-9371c32fe714" Name="PLAN_FAILED_TO_VERIFY" Type="String">''</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="a3f423c8-2f3c-4b71-a829-229089cb6836" Name="Update Current Phase" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="1f99935f-ea17-4ac8-9641-daf5609a0057" Name="CURRENT_PHASE" Type="String">'Planning'</Param>
            </Params>
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="b2693519-7e94-4cfc-bab2-8375284d3b4a" Name="Update Planning Completed Date and Planning Status (Action Plan Verification/Validation)" QualifyingCondition="ACT_PLN_APP_REQ = 'false'" RowIdentifier="PK_ID" Rule="" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="3ee4d408-238a-452f-afe3-cfa528a26010" Name="PLAN_COMPL_DATE" Type="String">GetDate('Today')</Param>
              <Param Id="2834cf67-fcfc-4703-a1af-6dc7f2b83da9" Name="PLAN_STATUS" Type="String">'COMPLETED'</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION" CreationMode="Temp" Id="f290d1c0-3411-4640-bf22-e177458fe0c2" Name="Update Verification/Validation Result to Fail" QualifyingCondition="FAIL_TO_VERIFY='true'" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="75905310-1056-4237-8f10-a993c5b2c039" Name="VERIFICATION_RESULT" Type="String">'Fail'</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION" CreationMode="Temp" Id="a5c951b2-ec39-4052-ab9c-1c0ad2903182" Name="Update Verification/Validation Result to Pass" QualifyingCondition="FAIL_TO_VERIFY!='true'" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="913da7d8-ac0b-43ec-a677-9d1cc77c6378" Name="VERIFICATION_RESULT" Type="String">'Pass'</Param>
            </Params>
          </Action>
        </ExitActions>
      </ApprovalPhaseNodeData>
      <ApprovalPhaseNodeData ApproveAction="Approve" Category="Approval" Description="Investigation Approval Phase" DroppedToDiagram="true" DueDate="" Figure="Square" IsSubGraph="true" Key="pInvestigationApproval" Location="380 300" RejectAction="Reject" SubGraphKey="" SyncEntity="true" Text="Investigation Approval">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="Action_21841607-0623-48ee-a538-8d5d33853a5f" Name="Update Status and Current Phase" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="f26b4ea9-887c-46de-a283-1f41efe197ed" Name="STATUS" Type="String">'INWORKS'</Param>
              <Param Id="70da3c2f-19be-40d4-9845-17fe67503848" Name="CURRENT_PHASE" Type="String">'Investigation'</Param>
            </Params>
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="Action_a3c84590-bf34-4af8-ac43-c6cc50cc475e" Name="Update Investigation Completed Date and Investigation Status (Investigation Approval)" RowIdentifier="PK_ID" Rule="Investigation Approval - Approved" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="c207fefa-0124-4905-8116-f5c12dde5767" Name="INVEST_COMPL_DATE" Type="String">GetDate('Today')</Param>
              <Param Id="c620e4d3-4040-4bdc-b131-da6dc6a4cb19" Name="INVEST_STATUS" Type="String">'COMPLETED'</Param>
            </Params>
          </Action>
          <Action CreationMode="Temp" FormName="" Id="Action_111eda75-55b9-4dd6-b5da-53eb43aa4a49" IsSetupMeeting="false" Name="Notification Action Approve" Rule="Approval-All need to accept" SuccessfulMessage="" Type="Notification" xsi:type="NotificationAction">
            <Params>
              <Param Name="To">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Investigation']/ACTOR_CODE</Param>
              <Param Name="Cc">COORDINATOR_CODE</Param>
              <Param Name="Bcc" />
              <Param Name="Subject">Investigation for CAPA: $RECORD_NUMBER$ has been Approved</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">Investigation for CAPA: $RECORD_NUMBER$ has been Approved.
#lt;#br#gt;#
#lt;#br#gt;#
                CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)</Param>
              <Param Name="AppendTaskLink">false</Param>
              <Param Name="AppendRecordLink">true</Param>
            </Params>
          </Action>
        </ExitActions>
      </ApprovalPhaseNodeData>
      <ApprovalPhaseNodeData ApproveAction="Approve" Category="Approval" DroppedToDiagram="true" DueDate="" Figure="Square" IsSubGraph="true" Key="pDueDateExtensionApproval" Location="704.09375 -20" RejectAction="Reject" SubGraphKey="swDueDateExtension" SyncEntity="false" Text="Due Date Extension Approval">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="52b6e4ca-e0c8-44eb-935b-5b35eb702a34" Name="Update Is Due Date Extension in Process? to true" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="9371e3c0-b309-460f-8870-6e5aa7f357ab" Name="CAPA_ISDUEDTEXT_INPROCESS" Type="String">'true'</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION" CreationMode="Temp" Id="51c2adc4-3344-468d-8a9b-f4d5e8639bd4" Name="Update Workflow ID" QualifyingCondition="IS_EXT_REQUEST_COMPL='false'" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="ff73e2ff-5013-4bae-a245-40cfe6a5568a" Name="WORKFLOW_ID" Type="String">//PhaseStepBeingEvaluated/PhaseBeingEvaluated/WorkflowId</Param>
            </Params>
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action CreationMode="Temp" Id="59efb8ce-0759-4e05-ae9f-464f0557864b" Name="Accept and Investigation" Rule="Accept and Investigation" SuccessfulMessage="" Type="Generic" Xml=" &lt;Actions&gt;  &#xD;&lt;Action Type=&quot;ExtendDueDate&quot; Name=&quot;ExtendDueDate&quot; ContextNode=&quot;V_SS_CAPA&quot; SuccessMessageId=&quot;&quot; Id=&quot;Action_65e7402f-45d9-49f7-a16e-279d1608562f&quot;&gt;&#xD;   &lt;Params&gt;&#xD;    &lt;Param Name=&quot;DueDate&quot; Type=&quot;String&quot;&gt;V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Investigation']/REVISED_DUEDATE&lt;/Param&gt;&#xD;    &lt;Param Name=&quot;WorkflowKey&quot; Type=&quot;String&quot;&gt;'CAPAWORKFLOW'&lt;/Param&gt;&#xD;    &lt;Param Name=&quot;PhaseName&quot; Type=&quot;String&quot;&gt;PHASE&lt;/Param&gt;&#xD;   &lt;/Params&gt;&#xD;  &lt;/Action&gt;&#xD;   &lt;/Actions&gt;" xsi:type="GenericAction">
            <Params />
          </Action>
          <Action CreationMode="Temp" Id="9886aa15-6533-4653-aaf6-7bea5502ee32" Name="Accept and Planning" Rule="Accept and Planning" SuccessfulMessage="" Type="Generic" Xml="&lt;Actions&gt;&#xD;  &lt;Action Type=&quot;Update&quot; Name=&quot;Update&quot; ContextNode=&quot;V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY&quot; SuccessMessageId=&quot;&quot; Id=&quot;Action_7721f118-fc0a-4373-bf23-f88925da7595&quot;&gt;&#xD;    &lt;Params&gt;&#xD;      &lt;Param Name=&quot;PLAN_DUE_DATE&quot; Type=&quot;String&quot;&gt;../V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Planning']/REVISED_DUEDATE&lt;/Param&gt;&#xD;    &lt;/Params&gt;&#xD;  &lt;/Action&gt;&#xD;  &lt;Action Type=&quot;Update&quot; Name=&quot;Update&quot; ContextNode=&quot;V_SS_CAPA&quot; SuccessMessageId=&quot;&quot; Id=&quot;Action_7721f118-fc0a-4373-bf23-f88925da7595&quot;&gt;&#xD;    &lt;Params&gt;&#xD;      &lt;Param Name=&quot;CURRENT_PHASE_DUE_DATE&quot; Type=&quot;String&quot;&gt;V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Planning']/REVISED_DUEDATE&lt;/Param&gt;&#xD;    &lt;/Params&gt;&#xD;  &lt;/Action&gt;&#xD;  &lt;Action Type=&quot;ExtendDueDate&quot; Name=&quot;ExtendDueDate&quot; ContextNode=&quot;V_SS_CAPA&quot; SuccessMessageId=&quot;&quot; Id=&quot;Action_65e7402f-45d9-49f7-a16e-279d1608562f&quot;&gt;&#xD;    &lt;Params&gt;&#xD;      &lt;Param Name=&quot;DueDate&quot; Type=&quot;String&quot;&gt;V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Planning']/REVISED_DUEDATE&lt;/Param&gt;&#xD;      &lt;Param Name=&quot;WorkflowKey&quot; Type=&quot;String&quot;&gt;'CAPAWORKFLOW'&lt;/Param&gt;&#xD;      &lt;Param Name=&quot;PhaseName&quot; Type=&quot;String&quot;&gt;PHASE&lt;/Param&gt;&#xD;    &lt;/Params&gt;&#xD;  &lt;/Action&gt;&#xD;  &lt;Action Type=&quot;Update&quot; Name=&quot;Update&quot; ContextNode=&quot;V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[EXTENSION_NO='0' and EXTENSION_PHASE='Planning']&quot; SuccessMessageId=&quot;97052&quot; Id=&quot;Action_b14dfa20-d04b-48b6-9437-8d67169b35d0&quot;&gt;&#xD;    &lt;Params&gt;&#xD;      &lt;Param Name=&quot;EXTENSION_NO&quot; Type=&quot;String&quot;&gt;count(//V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION)&lt;/Param&gt;&#xD;    &lt;/Params&gt;&#xD;  &lt;/Action&gt;&#xD;&lt;/Actions&gt;" xsi:type="GenericAction">
            <Params />
          </Action>
          <Action CreationMode="Temp" Id="2459d01e-b097-469d-8d65-fbec33a26744" Name="Accept and Implementation" Rule="Accept and Implementation" SuccessfulMessage="" Type="Generic" Xml="&lt;Actions&gt;&#xD;  &lt;Action Type=&quot;Update&quot; Name=&quot;Update&quot; ContextNode=&quot;V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY&quot; SuccessMessageId=&quot;&quot; Id=&quot;Action_7721f118-fc0a-4373-bf23-f88925da7595&quot;&gt;&#xD;    &lt;Params&gt;&#xD;      &lt;Param Name=&quot;IMPL_DUE_DATE&quot; Type=&quot;String&quot;&gt;../V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Implementation']/REVISED_DUEDATE&lt;/Param&gt;&#xD;    &lt;/Params&gt;&#xD;  &lt;/Action&gt;&#xD;  &lt;Action Type=&quot;Update&quot; Name=&quot;Update&quot; ContextNode=&quot;V_SS_CAPA&quot; SuccessMessageId=&quot;&quot; Id=&quot;Action_7721f118-fc0a-4373-bf23-f88925da7595&quot;&gt;&#xD;    &lt;Params&gt;&#xD;      &lt;Param Name=&quot;CURRENT_PHASE_DUE_DATE&quot; Type=&quot;String&quot;&gt;V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Implementation']/REVISED_DUEDATE&lt;/Param&gt;&#xD;    &lt;/Params&gt;&#xD;  &lt;/Action&gt;&#xD;  &lt;Action Type=&quot;ExtendDueDate&quot; Name=&quot;ExtendDueDate&quot; ContextNode=&quot;V_SS_CAPA&quot; SuccessMessageId=&quot;&quot; Id=&quot;Action_65e7402f-45d9-49f7-a16e-279d1608562f&quot;&gt;&#xD;    &lt;Params&gt;&#xD;      &lt;Param Name=&quot;DueDate&quot; Type=&quot;String&quot;&gt;V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Implementation']/REVISED_DUEDATE&lt;/Param&gt;&#xD;      &lt;Param Name=&quot;WorkflowKey&quot; Type=&quot;String&quot;&gt;'CAPAWORKFLOW'&lt;/Param&gt;&#xD;      &lt;Param Name=&quot;PhaseName&quot; Type=&quot;String&quot;&gt;PHASE&lt;/Param&gt;&#xD;    &lt;/Params&gt;&#xD;  &lt;/Action&gt;&#xD;  &lt;Action Type=&quot;Update&quot; Name=&quot;Update&quot; ContextNode=&quot;V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[EXTENSION_NO='0' and EXTENSION_PHASE='Implementation']&quot; SuccessMessageId=&quot;97052&quot; Id=&quot;Action_b14dfa20-d04b-48b6-9437-8d67169b35d0&quot;&gt;&#xD;    &lt;Params&gt;&#xD;      &lt;Param Name=&quot;EXTENSION_NO&quot; Type=&quot;String&quot;&gt;count(//V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION)&lt;/Param&gt;&#xD;    &lt;/Params&gt;&#xD;  &lt;/Action&gt;&#xD;&lt;/Actions&gt;" xsi:type="GenericAction">
            <Params />
          </Action>
          <Action CreationMode="Temp" Id="82e95dce-2d93-412f-818b-9b23413cb74d" Name="Accept and Completion" Rule="Accept and Completion" SuccessfulMessage="" Type="Generic" Xml="&lt;Actions&gt;&#xD;  &lt;Action Type=&quot;Update&quot; Name=&quot;Update&quot; ContextNode=&quot;V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY&quot; SuccessMessageId=&quot;&quot; Id=&quot;Action_7721f118-fc0a-4373-bf23-f88925da7595&quot;&gt;&#xD;    &lt;Params&gt;&#xD;      &lt;Param Name=&quot;CLOSURE_DUE_DATE&quot; Type=&quot;String&quot;&gt;../V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Completion']/REVISED_DUEDATE&lt;/Param&gt;      &#xD;    &lt;/Params&gt;&#xD;  &lt;/Action&gt;&#xD;  &lt;Action Type=&quot;Update&quot; Name=&quot;Update&quot; ContextNode=&quot;V_SS_CAPA&quot; SuccessMessageId=&quot;&quot; Id=&quot;Action_7721f118-fc0a-4373-bf23-f88925da7595&quot;&gt;&#xD;    &lt;Params&gt;&#xD;      &lt;Param Name=&quot;CURRENT_PHASE_DUE_DATE&quot; Type=&quot;String&quot;&gt;V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Completion']/REVISED_DUEDATE&lt;/Param&gt;&#xD;    &lt;/Params&gt;&#xD;  &lt;/Action&gt;&#xD;  &lt;Action Type=&quot;ExtendDueDate&quot; Name=&quot;ExtendDueDate&quot; ContextNode=&quot;V_SS_CAPA&quot; SuccessMessageId=&quot;&quot; Id=&quot;Action_65e7402f-45d9-49f7-a16e-279d1608562f&quot;&gt;&#xD;    &lt;Params&gt;&#xD;      &lt;Param Name=&quot;DueDate&quot; Type=&quot;String&quot;&gt;V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Completion']/REVISED_DUEDATE&lt;/Param&gt;&#xD;      &lt;Param Name=&quot;WorkflowKey&quot; Type=&quot;String&quot;&gt;'CAPAWORKFLOW'&lt;/Param&gt;&#xD;      &lt;Param Name=&quot;PhaseName&quot; Type=&quot;String&quot;&gt;PHASE&lt;/Param&gt;&#xD;    &lt;/Params&gt;&#xD;  &lt;/Action&gt;&#xD;  &lt;Action Type=&quot;Update&quot; Name=&quot;Update&quot; ContextNode=&quot;V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']&quot; SuccessMessageId=&quot;97052&quot; Id=&quot;Action_b14dfa20-d04b-48b6-9437-8d67169b35d0&quot;&gt;&#xD;    &lt;Params&gt;&#xD;      &lt;Param Name=&quot;EXTENSION_NO&quot; Type=&quot;String&quot;&gt;count(//V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION)&lt;/Param&gt;&#xD;    &lt;/Params&gt;&#xD;  &lt;/Action&gt;&#xD;&lt;/Actions&gt;&#xD;" xsi:type="GenericAction">
            <Params />
          </Action>
          <Action CreationMode="Temp" Id="4265e9a5-a755-46d0-8c7d-20a5373b6ce4" Name="Reject Investigation Due Date Extension" Rule="Reject and Investigation" SuccessfulMessage="" Type="Generic" Xml=" &lt;Actions&gt;  &#xD;  &lt;Action Type=&quot;Update&quot; Name=&quot;Update&quot; ContextNode=&quot;V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false' and EXTENSION_PHASE='Investigation']&quot; SuccessMessageId=&quot;&quot; Id=&quot;Action_b14dfa20-d04b-48b6-9437-8d67169b35d0&quot;&gt;&#xD;   &lt;Params&gt;&#xD;    &lt;Param Name=&quot;EXTENSION_NO&quot; Type=&quot;String&quot;&gt;count(//V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION)&lt;/Param&gt;&#xD;   &lt;/Params&gt;&#xD;  &lt;/Action&gt;  &#xD; &lt;/Actions&gt;" xsi:type="GenericAction">
            <Params />
          </Action>
          <Action CreationMode="Temp" Id="9afa80a9-ef16-493d-8671-8cd303e0cd7f" Name="Reject Planning Due Date Extension" Rule="Reject and Planning" SuccessfulMessage="" Type="Generic" Xml="&lt;Actions&gt;&#xD;  &lt;Action Type=&quot;Update&quot; Name=&quot;Update&quot; ContextNode=&quot;V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false' and EXTENSION_PHASE='Planning']&quot; SuccessMessageId=&quot;&quot; Id=&quot;Action_b14dfa20-d04b-48b6-9437-8d67169b35d0&quot;&gt;&#xD;    &lt;Params&gt;&#xD;      &lt;Param Name=&quot;EXTENSION_NO&quot; Type=&quot;String&quot;&gt;count(//V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION)&lt;/Param&gt;&#xD;    &lt;/Params&gt;&#xD;  &lt;/Action&gt;&#xD;&lt;/Actions&gt;" xsi:type="GenericAction">
            <Params />
          </Action>
          <Action CreationMode="Temp" Id="e876d990-161a-4712-b6d5-1918420d756e" Name="Reject Implementation Due Date" Rule="Reject and Implementation" SuccessfulMessage="" Type="Generic" Xml=" &lt;Actions&gt;  &#xD;  &lt;Action Type=&quot;Update&quot; Name=&quot;Update&quot; ContextNode=&quot;V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false' and EXTENSION_PHASE='Implementation']&quot; SuccessMessageId=&quot;&quot; Id=&quot;Action_b14dfa20-d04b-48b6-9437-8d67169b35d0&quot;&gt;&#xD;   &lt;Params&gt;&#xD;   &lt;Param Name=&quot;EXTENSION_NO&quot; Type=&quot;String&quot;&gt;count(//V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION)&lt;/Param&gt;&#xD;   &lt;/Params&gt;&#xD;  &lt;/Action&gt;  &#xD; &lt;/Actions&gt;" xsi:type="GenericAction">
            <Params />
          </Action>
          <Action CreationMode="Temp" Id="e355f797-d826-4ac9-868b-e68a013f9218" Name="Reject Completion Due Date Extension" Rule="Reject and Completion" SuccessfulMessage="" Type="Generic" Xml="&lt;Actions&gt;&#xD;  &lt;Action Type=&quot;Update&quot; Name=&quot;Update&quot; ContextNode=&quot;V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false' and EXTENSION_PHASE='Completion']&quot; SuccessMessageId=&quot;&quot; Id=&quot;Action_b14dfa20-d04b-48b6-9437-8d67169b35d0&quot;&gt;&#xD;    &lt;Params&gt;&#xD;      &lt;Param Name=&quot;EXTENSION_NO&quot; Type=&quot;String&quot;&gt;ExecuteQuery(concat(&quot;select count(PK_ID) from V_SS_CAPA_EXTENSION where PARENT_GT_ID ='&quot;,PARENT_GT_ID,&quot;'&quot;))&lt;/Param&gt;&#xD;    &lt;/Params&gt;&#xD;  &lt;/Action&gt;&#xD;&lt;/Actions&gt;" xsi:type="GenericAction">
            <Params />
          </Action>
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="ccb14ad8-c4b0-439c-9738-4266bf49d562" Name="Update Action Set Capa InProcess as False" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="726dec4a-ccbb-4f5f-a77b-c35239968e6a" Name="CAPA_ISDUEDTEXT_INPROCESS" Type="String">'false'</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="c701f8d5-0597-4234-8e0e-a3c460fefc78" Name="Accept and Investigation Due Date" RowIdentifier="PK_ID" Rule="Accept and Investigation" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="63524719-a731-4587-b701-fce0ab73f4ea" Name="INVEST_DUE_DATE" Type="String">../V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Investigation']/REVISED_DUEDATE</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="c5b0a71d-32a5-4429-a3bf-c1a7785d2ed0" Name="Update CAPA Phase Due Date" RowIdentifier="PK_ID" Rule="Accept and Investigation" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="bd2a6d4e-786d-4541-b5c2-990f6cc0392b" Name="CURRENT_PHASE_DUE_DATE" Type="String">V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Investigation']/REVISED_DUEDATE</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION" CreationMode="Temp" Id="88421bd8-7599-491a-a886-cda9bdd03faa" Name="Update Action Capa Extension No" QualifyingCondition="EXTENSION_NO='0' and EXTENSION_PHASE='Investigation'" RowIdentifier="PK_ID" Rule="Accept and Investigation" SuccessfulMessage="97052" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="b9d0d126-9d5b-490e-8363-b7942e8bdf9b" Name="EXTENSION_NO" Type="String">count(//V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION)</Param>
            </Params>
          </Action>
        </ExitActions>
      </ApprovalPhaseNodeData>
      <ApprovalPhaseNodeData ApproveAction="Acceptable" Category="Approval" DroppedToDiagram="true" DueDate="" Figure="Square" IsSubGraph="true" Key="pImplementationVerification" Location="500 1880" RejectAction="Not Acceptable" SubGraphKey="" SyncEntity="true" Text="Implementation Verification">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="Action_6a2f29f7-cecf-409c-af48-7fd90a27c760" Name="Update Status and Current Phase" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="4f69816c-ce50-49ff-bce0-80857ab9f021" Name="STATUS" Type="String">'INWORKS'</Param>
              <Param Id="1d6ec0be-6cce-4194-b1d3-5604f3f24c26" Name="CURRENT_PHASE" Type="String">'Implementation'</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="a80b6e33-1edc-46a5-a5b0-0f59f565f760" Name="Update Implementation Status" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="74990a14-55f9-48f3-977b-497b0ee10d9f" Name="IMPL_STATUS" Type="String">'INWORKS'</Param>
            </Params>
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="Action_f92ab564-c0f7-4c6c-b0c1-fa88929e032b" Name="Update Implementation Completed Date and Implementation Status" RowIdentifier="PK_ID" Rule="Implementation Verification - Verification is accepted" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="61292465-5f7e-4ff2-a660-f00fe77e840d" Name="IMPL_COMPL_DATE" Type="String">GetDate('Today')</Param>
              <Param Id="51c36787-ab9c-475e-91b0-d0fd7a72c3e2" Name="IMPL_STATUS" Type="String">'COMPLETED'</Param>
            </Params>
          </Action>
          <Action CreationMode="Temp" FormName="" Id="Action_424edb53-4e68-4d5c-9610-5a8fa42d85c4" IsSetupMeeting="false" Name="Notification Action Approve" Rule="Approve Implementation Verification" SuccessfulMessage="" Type="Notification" xsi:type="NotificationAction">
            <Params>
              <Param Name="To">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Development']/ACTOR_CODE</Param>
              <Param Name="Cc">V_SS_CAPA-V_SS_CAPA_ACTION[ACTION_TYPE='Action Plan']/ASSIGNED_ACT_CODE; COORDINATOR_CODE</Param>
              <Param Name="Bcc" />
              <Param Name="Subject">Implementation Verification for CAPA: $RECORD_NUMBER$ has been completed</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">Implementation Verification for CAPA: $RECORD_NUMBER$ has been completed.
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)</Param>
              <Param Name="AppendTaskLink">false</Param>
              <Param Name="AppendRecordLink">true</Param>
            </Params>
          </Action>
        </ExitActions>
      </ApprovalPhaseNodeData>
      <BlockingPhaseNodeData Category="BlockingPhase" Figure="StopSign" Key="bpWaitingforClosure" Location="-20 3100" SyncEntity="true" Text="Waiting for Closure">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action CreationMode="Temp" Id="8b7ab9fc-bf8d-428c-a76e-1cf05d145dc9" Name="Add Blocking Task" Rule="Waiting for Closure Rule" SuccessfulMessage="" Type="AddTask" xsi:type="AddTaskAction">
            <Params>
              <Param Name="TaskId" Type="String">'tbpWaitingforClosure'</Param>
              <Param Name="Owner" Type="String">'SMARTSOLVE'</Param>
              <Param Name="Role" Type="String">'SYSTEM'</Param>
              <Param Name="Level" Type="String">'1'</Param>
              <Param Name="IsBlockingTask" Type="String">'true'</Param>
            </Params>
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      </BlockingPhaseNodeData>
      <DecisionNodeData Category="Decision" DroppedToDiagram="true" Figure="Decision" Key="Decision 3" Location="100 -20" Rule="Investigation - Investigation is required" SubGraphKey="" Text="Investigation Required?" ViewTaskStatusFollowsFalsePath="false" />
      <DecisionNodeData Category="Decision" DroppedToDiagram="true" Figure="Decision" Key="dDecision8" Location="220 2540" Rule="Effectiveness Review - Is CAPA  Effective?" SubGraphKey="" Text="Effectiveness Decision" ViewTaskStatusFollowsFalsePath="false" />
      <DecisionNodeData Category="Decision" DroppedToDiagram="true" Figure="Decision" Key="dDecision12" Location="140 2620" Rule="Effectiveness Review - Create New CAPA" SubGraphKey="" Text="Redo CAPA" ViewTaskStatusFollowsFalsePath="false" />
      <DecisionNodeData Category="Decision" DroppedToDiagram="true" Figure="Decision" Key="dDecision" Location="320 2460" Rule="Effectiveness Review - Follow up is required" SubGraphKey="" Text="Follow up required" ViewTaskStatusFollowsFalsePath="false" />
      <DecisionNodeData Category="Decision" DroppedToDiagram="true" Figure="Decision" Key="Decision 2" Location="60 2820" Rule="Effectiveness Review - CAPA is Not Effective with No Action" SubGraphKey="" Text="No Action Required" ViewTaskStatusFollowsFalsePath="false" />
      <DecisionNodeData Category="Decision" DroppedToDiagram="true" Figure="Decision" Key="dDecision7" Location="40 2220" Rule="Effectiveness Review is required" SubGraphKey="" Text="Effectiveness Review required ?" ViewTaskStatusFollowsFalsePath="false" />
      <DecisionNodeData Category="Decision" DroppedToDiagram="true" Figure="Decision" Key="Decision 4" Location="-60 1280" Rule="Planning - Approval Action Plan is required" SubGraphKey="" Text="Action Plan Approval Required?" ViewTaskStatusFollowsFalsePath="false" />
      <DecisionNodeData Category="Decision" DroppedToDiagram="true" Figure="Decision" Key="dDecision3" Location="300 1780" Rule="Implementation - Is Implementation Verification Required" SubGraphKey="" Text="Implementation Verification Required ?" ViewTaskStatusFollowsFalsePath="false" />
      <DecisionNodeData Category="Decision" DroppedToDiagram="true" Figure="Decision" Key="Decision 5" Location="40 780" Rule="Planning - Action Plan Verification/Validation is required" SubGraphKey="" Text="Verification Required?" ViewTaskStatusFollowsFalsePath="false" />
      <DecisionNodeData Category="Decision" DroppedToDiagram="true" Figure="Decision" Key="dDecision2" Location="300 140" Rule="Investigation - Approval is required" SubGraphKey="" Text="Approval Required?" ViewTaskStatusFollowsFalsePath="false" />
      <EndNodeData Category="End" DroppedToDiagram="true" Figure="Circle" HasErrors="true" Key="eEnd" Location="-20 3320" SubGraphKey="" Text="End" />
      <EndNodeData Category="End" DroppedToDiagram="true" Figure="Circle" HasErrors="true" Key="eswDueDateExtensionEnd2" Location="724.09375 340" SubGraphKey="swDueDateExtension" Text="End" />
      <EndNodeData Category="End" DroppedToDiagram="true" Figure="Circle" HasErrors="true" Key="eswAdHocTaskSubWorkfloweswSubWorkflowEnd" Location="654.5 2902.5" SubGraphKey="swAdHocTaskSubWorkflow" Text="End" />
      <InitializationPhase Category="InitializationPhase" DroppedToDiagram="true" Figure="Square" IsSubGraph="true" Key="InitializationPhase 3" Location="893.40625 -30" SubGraphKey="swDueDateExtension" Text="System Forms" />
      <InitializationPhase Category="InitializationPhase" DroppedToDiagram="true" Figure="Square" IsSubGraph="true" Key="ipSystemForms" Location="362.5 -420" SubGraphKey="" Text="System Forms" />
      <InitializationPhase Category="InitializationPhase" DroppedToDiagram="true" Figure="Square" IsSubGraph="true" Key="InitializationPhase" Location="794.5 2882.5" SubGraphKey="swAdHocTaskSubWorkflow" Text="System Forms" />
      <OnDemandFormNodeData Category="OnDemand" Description="Void task" DroppedToDiagram="true" Figure="DividedProcess" FormName="CAPA_VOID" Key="odVoidCAPA" Location="465 -421.25" RequiresSignature="true" Rule="Workflow action - Void CAPA" SkipConfirmation="false" SortOrder="" SubGraphKey="ipSystemForms" Text="Void CAPA">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action Id="Action_08bace96-a6d5-4ed0-a016-b595b84419f2" Name="Void CAPA" Status="VOID" SuccessfulMessage="97016" Type="Void" xsi:type="VoidAction">
            <Params />
          </Action>
        </ExitActions>
      </OnDemandFormNodeData>
      <OnDemandFormNodeData Category="OnDemand" Description="Due Date Extension task" DroppedToDiagram="true" Figure="DividedProcess" FormName="CAPA_DUE_DATE_EXTENSION" Key="odDueDateExtension" Location="165 -421.25" RequiresSignature="true" Rule="Workflow action - Due Date Extension" SkipConfirmation="false" SortOrder="" SubGraphKey="ipSystemForms" Text="Due Date Extension">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action CreationMode="Temp" Id="Action_a33ecc7d-f1fd-4072-9244-8647cac9bc30" Name="SubWorkflow Action" SubWorkflowName="Due Date Extension" SuccessfulMessage="" Type="SubWorkflow" xsi:type="SubWorkflowAction">
            <Params />
          </Action>
          <Action CreationMode="Complete" Id="Action_cd698910-3bed-4442-89e6-df7c35d837a9" Name="Validation" Rule="Due Date Extension - Revised Due Date cannot be less than or equal to Original Due Date" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
            <Params />
          </Action>
        </ExitActions>
      </OnDemandFormNodeData>
      <OnDemandFormNodeData Category="OnDemand" DroppedToDiagram="true" Figure="DividedProcess" FormName="CAPA_UPDATE_TEAM" Key="odUpdateTeam" Location="365 -421.25" RequiresSignature="true" Rule="Workflow action - Update Team" SkipConfirmation="false" SortOrder="" SubGraphKey="ipSystemForms" Text="Update Team">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="Action_eef91db4-30aa-4eae-8c88-ca7ed6d4a5d6" Name="Update Coordinator" RowIdentifier="PK_ID" Rule="Team Members - Is  Coordination defined" SuccessfulMessage="97056" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="3583f280-c066-4b7b-abf0-758745a43367" Name="COORDINATOR_CODE" Type="String">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Coordination']/ACTOR_CODE</Param>
              <Param Id="e1b1ab45-1e84-4a80-b814-d36c03ef86f2" Name="COORDINATOR_ROLE_CODE" Type="String">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Coordination']/ROLE_CODE</Param>
            </Params>
          </Action>
          <Action CreationMode="Complete" Id="Action_a4c9b152-930f-485d-a9ae-20dd04a08bcb" Name="Validation" Rule="Initiation Verification team and Update Team Member - Assigned Role Should match Assigned Actor" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
            <Params />
          </Action>
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="Action_37727b3c-829d-40ea-a74e-2bca39c988df" Name="Update Owner" RowIdentifier="PK_ID" Rule="Team Members - Is Ownership defined" SuccessfulMessage="97056" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="6aa80e27-15e5-4810-af93-c529c94ddced" Name="CAPA_OWNER_CODE" Type="String">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Ownership']/ACTOR_CODE</Param>
              <Param Id="a4973884-5270-472b-8f4d-214149e0cbb0" Name="OWNER_ROLE_CODE" Type="String">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Ownership']/ROLE_CODE</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM" CreationMode="Temp" Id="cf51ebab-de49-4062-bd25-945b7a94b168" Name="Update Investigation Contact" QualifyingCondition="MEMBER_TYPE='Investigation'" RowIdentifier="PK_ID" Rule="Quality Portal Supplier CAPA" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="fc1423ad-8bc5-4bc8-ac81-a7decb1f266e" Name="ACTOR_CODE" Type="String">CONTACT_CODE</Param>
              <Param Id="281bc88a-e664-49ef-aa04-245c3eeb2229" Name="ACTOR_NAME" Type="String">CONTACT_NAME</Param>
            </Params>
          </Action>
        </ExitActions>
      </OnDemandFormNodeData>
      <OnDemandFormNodeData Category="OnDemand" DroppedToDiagram="true" Figure="DividedProcess" FormName="CAPA_REOPEN_PHASE" Key="odReopenPhase" Location="270 -421.25" RequiresSignature="true" Rule="Workflow action - Reopen Phase" SkipConfirmation="false" SortOrder="" SubGraphKey="ipSystemForms" Text="Reopen Phase">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="5f2fddc9-aecd-4588-8343-cb6caede53de" Name="Update the following Phase Status of Investigation Phase to blank" RowIdentifier="PK_ID" Rule="Reopen Phase for Investigation" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="6b9dfa29-ec9d-48d8-9919-b5c95fc52285" Name="PLAN_STATUS" Type="String">''</Param>
              <Param Id="08aaa419-a5c6-4d18-a462-eb0356c44c7b" Name="IMPL_STATUS" Type="String">''</Param>
              <Param Id="7db5b671-e230-4b2f-ab5d-2b55d99b7066" Name="CLOSURE_STATUS" Type="String">''</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="ef3106fd-de42-47cf-8666-35f5f867b03d" Name="Update the following Phase Status of Planning Phase to blank" RowIdentifier="PK_ID" Rule="Reopen Phase for Planning" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="fb041377-45f3-4409-9c9d-3f4b4ce02e88" Name="IMPL_STATUS" Type="String">''</Param>
              <Param Id="2b1fcc84-7af5-4112-b024-f59eb6b71bbb" Name="CLOSURE_STATUS" Type="String">''</Param>
            </Params>
          </Action>
          <Action Id="Action_d9117cc8-8e9c-4ecf-9a61-c86ab05c6983" Name="Reopen Phase" Phase="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA/ENU_PHASE_NAME" SuccessfulMessage="97014" Type="ReopenPhase" xsi:type="ReopenPhaseAction">
            <Params />
          </Action>
          <Action CreationMode="Temp" FormName="" Id="Action_e9e40288-1ec4-4dbc-a874-d78f855a673d" IsSetupMeeting="false" Name="Notification Action Reopen" Rule="" SuccessfulMessage="" Type="Notification" xsi:type="NotificationAction">
            <Params>
              <Param Name="To">COORDINATOR_CODE</Param>
              <Param Name="Cc" />
              <Param Name="Bcc" />
              <Param Name="Subject">$V_ENU_NONPERSIS_USER_DATA/ENU_PHASE_NAME$ has been reopened in CAPA: $RECORD_NUMBER$</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">$V_ENU_NONPERSIS_USER_DATA/ENU_PHASE_NAME$ has been reopened in CAPA: $RECORD_NUMBER$.
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)</Param>
              <Param Name="AppendTaskLink">false</Param>
              <Param Name="AppendRecordLink">true</Param>
            </Params>
          </Action>
        </ExitActions>
      </OnDemandFormNodeData>
      <OnDemandFormNodeData Category="OnDemand" DroppedToDiagram="true" Figure="DividedProcess" FormName="CAPA_CREATE_ADHOC_TASK" Key="odAssignAdhocTask" Location="660 -420" RequiresSignature="true" Rule="Workflow action - Adhoc Task" SkipConfirmation="false" SortOrder="" SubGraphKey="ipSystemForms" Text="Assign Adhoc Task">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action CreationMode="Temp" Id="Action_3966dc29-a698-4371-a2ce-470f3c3ae779" Name="Generic Action" SuccessfulMessage="" Type="Generic" Xml="&lt;Rule Type=&quot;Decision&quot; Name=&quot;Decision&quot; FailureMessageId=&quot;86200&quot; Id=&quot;Rule_a04e3075-7021-4bd0-b404-48df285ce477&quot;&gt;&#xD;                  &lt;Actions&gt;&#xD;                    &lt;Action Type=&quot;WORKFLOWACTIVITY&quot; ActivityType=&quot;EvaluateStep&quot; Name=&quot;EvaluateStep&quot; ContextNode=&quot;V_SS_CAPA&quot; SuccessMessageId=&quot;&quot; Id=&quot;Action_6f76ead8-dcb3-4281-b6af-5e3319d01af7&quot;&gt;&#xD;                      &lt;Params&gt;&#xD;                        &lt;Param Type=&quot;String&quot; Name=&quot;StepId&quot;&gt;'stAssignAdhocTaskSystem'&lt;/Param&gt;&#xD;                      &lt;/Params&gt;&#xD;                    &lt;/Action&gt;&#xD;                  &lt;/Actions&gt;&#xD;                &lt;/Rule&gt;" xsi:type="GenericAction">
            <Params />
          </Action>
        </ExitActions>
      </OnDemandFormNodeData>
      <OnDemandFormNodeData Category="OnDemand" Description="This is for Change Owner from TTD" DroppedToDiagram="true" Figure="DividedProcess" FormName="CAPA_CHANGETASKOWNERFORM" Key="odChangeOwner" Location="560 -418.75" RequiresSignature="true" Rule="Do Not Show In Menu" SkipConfirmation="false" SortOrder="" SubGraphKey="ipSystemForms" Text="Change Owner">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action CreationMode="Temp" Id="Action_decc00f9-a909-485e-8e9e-69f70ca8395a" Name="Change Owner" SuccessfulMessage="" Type="Generic" Xml="                &lt;Rule Type=&quot;Decision&quot; Name=&quot;ChangeTaskOwner&quot; FailureMessageId=&quot;&quot; Id=&quot;Rule_0904a7c9-8558-4891-ba17-1940008a4e94&quot;&gt;&#xD;                  &lt;Actions&gt;&#xD;                    &lt;Action Type=&quot;WORKFLOWACTIVITY&quot; Name=&quot;ChangeTaskOwnerActivity&quot; ActivityType=&quot;ChangeTaskOwnerActivity&quot; ContextNode=&quot;V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA&quot; SuccessMessageId=&quot;Task owner changed successfully&quot; Id=&quot;Action_9bd1d1a9-60e1-4cd3-8517-87be1f6e5f29&quot;&gt;&#xD;                      &lt;Params&gt;&#xD;                        &lt;Param Name=&quot;TaskId&quot; Type=&quot;String&quot;&gt;ENU_STEP_ID&lt;/Param&gt;&#xD;                        &lt;Param Name=&quot;ActorCode&quot; Type=&quot;String&quot;&gt;ENU_OWNER_CODE&lt;/Param&gt;&#xD;                        &lt;Param Name=&quot;comment&quot; Type=&quot;String&quot;&gt;ENU_COMMENT&lt;/Param&gt;&#xD;                      &lt;/Params&gt;&#xD;                    &lt;/Action&gt;&#xD;                  &lt;/Actions&gt;&#xD;                &lt;/Rule&gt;&#xD;&#xD;" xsi:type="GenericAction">
            <Params />
          </Action>
          <Action CreationMode="Temp" FormName="" Id="Action_2fd7646c-2ab8-4e31-b4c9-77152d05a035" IsSetupMeeting="false" Name="Notification Action" Rule="New Task Owner is not current user" SuccessfulMessage="" Type="Notification" xsi:type="NotificationAction">
            <Params>
              <Param Name="To">V_ENU_NONPERSIS_USER_DATA/ENU_OWNER_CODE</Param>
              <Param Name="Cc">V_ENU_NONPERSIS_USER_DATA/ENU_UDF_STRING1</Param>
              <Param Name="Bcc" />
              <Param Name="Subject">Task Ownership has been changed in CAPA: $RECORD_NUMBER$</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">Task Ownership has been changed for $V_ENU_NONPERSIS_USER_DATA/ENU_STEP_NAME$ in CAPA: $RECORD_NUMBER$.
#lt;#br#gt;#
#lt;#br#gt;#
                New Owner: $V_ENU_NONPERSIS_USER_DATA/ENU_OWNER_NAME$
#lt;#br#gt;#
#lt;#br#gt;#
                Old Owner: $V_ENU_NONPERSIS_USER_DATA/ENU_UDF_STRING2$
#lt;#br#gt;#
#lt;#br#gt;#
                CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)</Param>
              <Param Name="AppendTaskLink">false</Param>
              <Param Name="AppendRecordLink">true</Param>
            </Params>
          </Action>
        </ExitActions>
      </OnDemandFormNodeData>
      <PhaseNodeData Category="Phase" DroppedToDiagram="true" DueDate="" Figure="Square" IsSubGraph="true" Key="pAdhocTaskPhase" Location="654.5 2762.5" SubGraphKey="swAdHocTaskSubWorkflow" SyncEntity="false" Text="Adhoc Task Phase">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      </PhaseNodeData>
      <PhaseNodeData Category="Phase" Description="Effectiveness Review phase" DroppedToDiagram="true" DueDate="" Figure="Square" IsSubGraph="true" Key="pEffectivenessReview" Location="440 2300" SubGraphKey="" SyncEntity="true" Text="Effectiveness Review">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="Action_c9cce298-4eb2-416b-948b-814fed1f42fa" Name="Update Current Phase and Phase due date" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="47e14196-dc50-42f2-a939-79162b7a8aeb" Name="CURRENT_PHASE_DUE_DATE" Type="String">V_SS_CAPA-V_SS_CAPA_POLICY/VOE_DUE_DATE</Param>
              <Param Id="83919a80-f0c6-42ff-9658-5b9fb3e7d71e" Name="CURRENT_PHASE" Type="String">'Effectiveness Review'</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="Action_7b1ce8fc-198b-490a-9575-3bac90a54887" Name="Update Action : Reset Follow Req " RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="4828bdc4-935e-4110-8c04-75ab20ed6c5c" Name="EFFECT_FOLLOWUP_REQ" Type="String">''</Param>
            </Params>
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      </PhaseNodeData>
      <PhaseNodeData Category="Phase" DroppedToDiagram="true" DueDate="" Figure="Square" IsSubGraph="true" Key="pPlanning" Location="40 640" SubGraphKey="" SyncEntity="true" Text="Planning">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="132160b1-0687-49e8-950e-e9d182e44458" Name="Update Current Phase and Phase due date" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="d7f46441-6fc1-4f78-bac2-1a4ca38a9a61" Name="CURRENT_PHASE_DUE_DATE" Type="String">V_SS_CAPA-V_SS_CAPA_POLICY/PLAN_DUE_DATE</Param>
              <Param Id="76e8a9a4-4078-4531-bb57-783a65a7cd0d" Name="CURRENT_PHASE" Type="String">'Planning'</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="3a3a3da4-25f0-42da-a8a3-146971149dd7" Name="Update Planning Status" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="90d58c5e-080a-4126-9c46-81bf75768845" Name="PLAN_STATUS" Type="String">'INWORKS'</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION" CreationMode="Temp" Id="b86f1f26-7b53-4784-8554-90a3271d348e" Name="Update Transferred Record As No" QualifyingCondition="STATUS='No' and TRANSFERED_RECORD='Yes' and ACTION_TYPE='Action Plan'" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="6619ec00-47c6-44a8-92d1-9b2bc58adccf" Name="TRANSFERED_RECORD" Type="String">'No'</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION" CreationMode="Temp" Id="5e472cdb-f7f7-43c5-946d-deb144d07dea" Name="Reset Action Is Complete Flag" QualifyingCondition="(STATUS='Yes' or STATUS='Skipped') and SIGN_OFF_PHASE='' and C_TASK_ID!=''" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="6dfb462d-c41c-4afa-9898-ae6aa7e753c6" Name="STATUS" Type="String">'No'</Param>
            </Params>
          </Action>
          <Action CreationMode="Temp" Id="65177b3b-6083-481b-be27-c45aead6d88c" Name="Insert Risk Assessment for Investigation" Rule="Planning - If Risk Assesment was not transferred for the first time" SuccessfulMessage="" Type="Generic" Xml="&lt;Actions&gt;&#xD; &lt;Action Type=&quot;INSERTCHILDENTITIES&quot; Name=&quot;Add Risk Assessment&quot; ActionMode=&quot;PerRecord&quot; RowIdentifier=&quot;PK_ID&quot; RowIdentifierValue=&quot;&quot; ContextNode=&quot;V_SS_CAPA&quot; SuccessMessageId=&quot;&quot; Id=&quot;Action_ee1ff254-7855-4ca4-8c6a-726411d3303b&quot;&gt;&#xD;  &lt;Params&gt;&#xD;   &lt;Param Type=&quot;String&quot; Name=&quot;ParentContextNode&quot;&gt;'V_SS_CAPA'&lt;/Param&gt;&#xD;   &lt;Param Type=&quot;String&quot; Name=&quot;ChildEntity&quot;&gt;'V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT'&lt;/Param&gt;&#xD;   &lt;Param Type=&quot;FieldsToSet&quot; Name=&quot;FieldsToSet&quot;&gt;&#xD;    &lt;FieldsToSet&gt;&#xD; &lt;DataMaps&gt;&#xD; &lt;DataMap FieldName=&quot;IsExistingObject&quot;&gt;'false'&lt;/DataMap&gt;&#xD; &lt;DataMap FieldName=&quot;DETECTION_RATING&quot;&gt;V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE ='Initial']/DETECTION_RATING&lt;/DataMap&gt;&#xD; &lt;DataMap FieldName=&quot;DETECTION_RATING_NAME&quot;&gt;V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE ='Initial']/DETECTION_RATING_NAME&lt;/DataMap&gt;&#xD; &lt;DataMap FieldName=&quot;DOC_DOCUMENT_NO_REV&quot;&gt;V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE ='Initial']/DOC_DOCUMENT_NO_REV&lt;/DataMap&gt;&#xD; &lt;DataMap FieldName=&quot;RISK_ASSESSMENT_DOC_NO&quot;&gt;V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE ='Initial']/RISK_ASSESSMENT_DOC_NO&lt;/DataMap&gt;&#xD; &lt;DataMap FieldName=&quot;RISK_ASSESSMENT_DOC_REV&quot;&gt;V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE ='Initial']/RISK_ASSESSMENT_DOC_REV&lt;/DataMap&gt;&#xD; &lt;DataMap FieldName=&quot;HEAT_MAP_VALUES&quot;&gt;V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE ='Initial']/HEAT_MAP_VALUES&lt;/DataMap&gt;&#xD; &lt;DataMap FieldName=&quot;MITIGATION&quot;&gt;V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE ='Initial']/MITIGATION&lt;/DataMap&gt;&#xD; &lt;DataMap FieldName=&quot;OCCURRENCE_RATING&quot;&gt;V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE ='Initial']/OCCURRENCE_RATING&lt;/DataMap&gt;&#xD; &lt;DataMap FieldName=&quot;OCCURRENCE_RATING_NAME&quot;&gt;V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE ='Initial']/OCCURRENCE_RATING_NAME&lt;/DataMap&gt;&#xD; &lt;DataMap FieldName=&quot;RISK_ANALYSIS_OUTCOME&quot;&gt;V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE ='Initial']/RISK_ANALYSIS_OUTCOME&lt;/DataMap&gt;&#xD; &lt;DataMap FieldName=&quot;RISK_ASSESSMENT_TYPE&quot;&gt;'Final'&lt;/DataMap&gt;&#xD; &lt;DataMap FieldName=&quot;RISK_RPN&quot;&gt;V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE ='Initial']/RISK_RPN&lt;/DataMap&gt;&#xD; &lt;DataMap FieldName=&quot;SEVERITY_RATING&quot;&gt;V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE ='Initial']/SEVERITY_RATING&lt;/DataMap&gt;&#xD; &lt;DataMap FieldName=&quot;SEVERITY_RATING_NAME&quot;&gt;V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE ='Initial']/SEVERITY_RATING_NAME&lt;/DataMap&gt;&#xD; &lt;DataMap FieldName=&quot;RATIONALE_SEV_SELECTON&quot;&gt;V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE ='Initial']/RATIONALE_SEV_SELECTON&lt;/DataMap&gt;&#xD; &lt;DataMap FieldName=&quot;RISK_ASSESSMENT_DOC_ID&quot;&gt;V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE ='Initial']/RISK_ASSESSMENT_DOC_ID&lt;/DataMap&gt;      &#xD;    &lt;/DataMaps&gt;&#xD;    &lt;/FieldsToSet&gt;&#xD;   &lt;/Param&gt;&#xD;  &lt;/Params&gt;&#xD; &lt;/Action&gt;&#xD;&lt;/Actions&gt;" xsi:type="GenericAction">
            <Params />
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="c51887c6-a3bb-4cf8-9dcf-b87019e12cbd" Name="Update Planning Completed Date and Planning Status (Planning)" QualifyingCondition="ACT_PLN_VAL_REQ = 'false' and ACT_PLN_APP_REQ = 'false'" RowIdentifier="PK_ID" Rule="" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="c5b11819-8dce-485d-b7b4-de4a70a67a42" Name="PLAN_COMPL_DATE" Type="String">GetDate('Today')</Param>
              <Param Id="81c9daa3-e055-4bd4-909b-887b2e4a46c4" Name="PLAN_STATUS" Type="String">'COMPLETED'</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION" CreationMode="Temp" Id="2d5a3e9c-9ccb-4f08-a974-369ebeb72984" Name="Update Transferred Record As Yes and No Approval" QualifyingCondition="STATUS='No' and ACTION_TYPE='Action Plan'" RowIdentifier="PK_ID" Rule="Planning - Action Plan Approval is not required" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="296cb53c-b319-443f-8a5b-dc7c152fc091" Name="TRANSFERED_RECORD" Type="String">'Yes'</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION" CreationMode="Temp" Id="7d2c44ad-2b6c-44a3-9619-81fdf3e9f888" Name="Update Transferred Record As No and No Approval" QualifyingCondition="STATUS!='No' and TRANSFERED_RECORD!='Yes' and ACTION_TYPE='Action Plan'" RowIdentifier="PK_ID" Rule="Planning - Action Plan Approval is not required" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="f1755461-26b7-4304-8e36-6b7467dca189" Name="TRANSFERED_RECORD" Type="String">'No'</Param>
            </Params>
          </Action>
        </ExitActions>
      </PhaseNodeData>
      <PhaseNodeData Category="Phase" DroppedToDiagram="true" DueDate="" Figure="Square" IsSubGraph="true" Key="pImplementation" Location="300 1640" SubGraphKey="" SyncEntity="true" Text="Implementation">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="Action_ab06b7db-ac49-4b38-85fc-847333a71976" Name="Update Current Phase and Phase due date" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="1c1cc118-9600-41f6-a20c-228740396aaf" Name="CURRENT_PHASE_DUE_DATE" Type="String">V_SS_CAPA-V_SS_CAPA_POLICY/IMPL_DUE_DATE</Param>
              <Param Id="ac371662-31d8-407d-a066-17a8b1f0a078" Name="STATUS" Type="String">'INWORKS'</Param>
              <Param Id="433126a1-d248-4817-82bf-cfb82a597d31" Name="CURRENT_PHASE" Type="String">'Implementation'</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="9a620fec-df8d-4181-87b1-d3037fd2aa99" Name="Update Implementation Status" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="85b624f1-308d-43f8-9aa6-3fd863bfde22" Name="IMPL_STATUS" Type="String">'INWORKS'</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="3658e77a-fa76-408e-b37a-3ab4c311edb1" Name="Display Message for Supplier CAPA" RowIdentifier="PK_ID" Rule="Quality Portal Supplier CAPA" SuccessfulMessage="Implementation is being routed to the Supplier via the Quality Portal" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="8966c2ba-9572-4cbc-9139-8c3384a5019f" Name="UDF_STRING_1" Type="String">UDF_STRING_1</Param>
            </Params>
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="Action_8f661225-d1d5-4fd7-909c-af81863c07ce" Name="Update Implementation Completed Date and Implementation Status" QualifyingCondition="IMPL_VERIFICATION_APP_REQ = 'false'" RowIdentifier="PK_ID" Rule="" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="aebb8664-f568-469c-89d5-25c85c845434" Name="IMPL_COMPL_DATE" Type="String">GetDate('Today')</Param>
              <Param Id="34e89c8c-93eb-458d-a2d6-0d5cba69ed82" Name="IMPL_STATUS" Type="String">'COMPLETED'</Param>
            </Params>
          </Action>
        </ExitActions>
      </PhaseNodeData>
      <PhaseNodeData Category="Phase" Description="Investigation Phase" DroppedToDiagram="true" DueDate="" Figure="Square" IsSubGraph="true" Key="pInvestigation" Location="300 -20" SubGraphKey="" SyncEntity="true" Text="Investigation">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="Action_2d8f47a8-fcd3-479b-8076-d672ce8ef907" Name="Update Current Phase and Phase Due Date" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="783ef678-758d-4077-9d52-85eefa3f5250" Name="CURRENT_PHASE_DUE_DATE" Type="String">V_SS_CAPA-V_SS_CAPA_POLICY/INVEST_DUE_DATE</Param>
              <Param Id="7376aab8-3ad8-4bca-9cc4-42c4cc71061b" Name="STATUS" Type="String">'INWORKS'</Param>
              <Param Id="3da3ba01-1a1b-4f0c-97be-62e7b504f033" Name="CURRENT_PHASE" Type="String">'Investigation'</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="d7843eac-216b-458a-a2d3-80afedf518c3" Name="Update Investigation Status" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="1c3e5798-c005-4565-a2f6-445258069503" Name="INVEST_STATUS" Type="String">'INWORKS'</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="5bfc88dc-f1dc-4209-9b28-acec4f8398c2" Name="Display message for Supplier CAPA" RowIdentifier="PK_ID" Rule="Quality Portal Supplier CAPA" SuccessfulMessage="Investigation is being routed to the Supplier via the Quality Portal" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="cbff9319-0605-44fc-bc45-8fa1f8a32875" Name="UDF_STRING_1" Type="String">UDF_STRING_1</Param>
            </Params>
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="Action_1858505d-964e-445e-855b-67dff4b13b39" Name="Update Investigation Completed Date and Investigation Status (Investigation)" QualifyingCondition="INV_APP_REQ = 'false'" RowIdentifier="PK_ID" Rule="" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="f81fb336-5a6c-4a80-9d4d-0af5ab9e853b" Name="INVEST_COMPL_DATE" Type="String">GetDate('Today')</Param>
              <Param Id="290f44d7-95ba-4fa0-8ffa-fc5fedd2a40f" Name="INVEST_STATUS" Type="String">'COMPLETED'</Param>
            </Params>
          </Action>
        </ExitActions>
      </PhaseNodeData>
      <PhaseNodeData Category="Phase" Description="Completion Review phase" DroppedToDiagram="true" DueDate="" Figure="Square" IsSubGraph="true" Key="pCompletionReview" Location="40 2080" SubGraphKey="" SyncEntity="true" Text="Completion Review">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="Action_b9f06879-0292-422b-9ca1-376867de1441" Name="Update Current Phase and Phase due date" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="4cb8de3c-41ff-4e54-a385-57a361340fa5" Name="CURRENT_PHASE_DUE_DATE" Type="String">V_SS_CAPA-V_SS_CAPA_POLICY/CLOSURE_DUE_DATE</Param>
              <Param Id="f89c3c04-f900-47d7-b6dd-9d1177922d98" Name="STATUS" Type="String">'INWORKS'</Param>
              <Param Id="1cdada49-c79d-4e6e-a48c-5bd1af36d873" Name="CURRENT_PHASE" Type="String">'Completion'</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="d65ed2ac-3108-4100-844e-015acf701b66" Name="Update Completion Status" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="8046d37a-9f8b-4880-a02d-5691c7096533" Name="CLOSURE_STATUS" Type="String">'INWORKS'</Param>
            </Params>
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="Action_db263b7a-6530-475a-85ed-b5e8ac335570" Name="Update Status to In INWORKS" RowIdentifier="PK_ID" Rule="Effectiveness Review is required" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="1e66ab88-16b8-48c6-90c9-3c0b2fb67ef4" Name="STATUS" Type="String">'INWORKS'</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="Action_f516f35d-2d49-4848-a5fc-4bde977e50c2" Name="Update Action for Effectiveness Review Date in Days" RowIdentifier="PK_ID" Rule="Effectiveness Plan - Effectiveness Review Interval in Days" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="3fdc6536-1cd6-483e-9301-4c3f409765a7" Name="VOE_DUE_DATE" Type="String">AddDays(GetDate('Today'),../EFFECT_REVIEW_INTERVAL)</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="Action_50b590b9-7f66-49b1-8579-459a842febd1" Name="Update Action for Effectiveness Review Date in Months" RowIdentifier="PK_ID" Rule="Effectiveness Plan - Effectiveness Review Interval in Months" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="70d5f7d3-d153-4fb4-8d63-36e002198899" Name="VOE_DUE_DATE" Type="String">AddMonths(GetDate('Today'),../EFFECT_REVIEW_INTERVAL)</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="Action_b476c706-71d1-4625-8a57-08cb0acc94f3" Name="Update Closure Completed Date and Completion Status" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="a2fb1471-b320-45e5-9b09-9eb6d94520d9" Name="CLOSURE_COMPL_DATE" Type="String">GetDate('Today')</Param>
              <Param Id="4d34e2ed-fcd1-47e9-bea8-97ea73dc0199" Name="CLOSURE_STATUS" Type="String">'COMPLETED'</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="Action_5fcb8624-b23c-4270-8228-a24bd5ca0311" Name="Update Age of CAPA" QualifyingCondition="IS_CAPA_REOPENED!='true'" RowIdentifier="PK_ID" Rule="" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="a3e88dfb-cf21-41f0-af9a-23d1d5384a41" Name="CAPA_AGE" Type="String">GetDateDifference(INITIATION_DATE,GetDate('Today'))</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="Action_837955a1-6e50-447a-b7ce-71b4655234d9" Name="Update Age of CAPA for Reopened CAPA" QualifyingCondition="IS_CAPA_REOPENED='true' and CAPA_AGE !=''" RowIdentifier="PK_ID" Rule="" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="41526f30-5f34-4350-8bfe-8e58afc7e448" Name="CAPA_AGE" Type="String">CAPA_AGE  + GetDateDifference(CAPA_REOPENED_DATE,GetDate('Today'))</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="Action_c50e7acc-6751-44f4-8bc4-6dfdafe7e66a" Name="Update Age of CAPA for Reopened CAPA - If Age is Null" QualifyingCondition="IS_CAPA_REOPENED='true' and CAPA_AGE =''" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="aae4409d-54fc-4178-80ec-441cef8fac59" Name="CAPA_AGE" Type="String">GetDateDifference(CAPA_REOPENED_DATE,GetDate('Today'))</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="Action_8eb35c65-4896-4841-aeab-0af06320fc1f" Name="Update Close CAPA Phase" RowIdentifier="PK_ID" Rule="" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="52a17a55-4204-498e-8fbd-31448c53a2cc" Name="PHASE" Type="String">'Closed'</Param>
            </Params>
          </Action>
        </ExitActions>
      </PhaseNodeData>
      <PhaseNodeData Category="Phase" Description="Initiation Verification Phase" DroppedToDiagram="true" DueDate="" Figure="Square" IsSubGraph="true" Key="pInitiationVerification" Location="100 -160" SubGraphKey="" SyncEntity="true" Text="Initiation Verification">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="Action_275bf112-db0f-41d7-9eff-999772243cd9" Name="Update Status and Current Phase" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="7623aaca-d957-4f51-80be-011717e66591" Name="STATUS" Type="String">'INWORKS'</Param>
              <Param Id="60d9bb79-24cc-4dea-9d81-0eb67d2bb899" Name="CURRENT_PHASE" Type="String">'Verification'</Param>
            </Params>
          </Action>
          <Action CreationMode="Temp" Id="Action_6525d567-ad70-4ad0-b081-ac00320dc993" Name="CAPA Unpost SQD" Rule="Is CAPA Reopened and for Supplier" SuccessfulMessage="" Type="Generic" Xml="&lt;Actions&gt;&#xD; &lt;Action Type=&quot;InvokeSmartSolveAPI&quot; Name=&quot;CAPAPostUnpostSQD&quot; ContextNode=&quot;V_SS_CAPA&quot; SuccessMessageId=&quot;&quot; &gt;&#xD;  &lt;Params&gt;&#xD; &lt;Param Type=&quot;String&quot; Name=&quot;Assembly&quot;&gt;'EQM.Biz.CAPA.SupplierQuality'&lt;/Param&gt;&#xD; &lt;Param Type=&quot;String&quot; Name=&quot;Type&quot;&gt;'EQM.Biz.CAPA.SupplierQuality.StudioCAPASupplierUtil'&lt;/Param&gt;&#xD; &lt;Param Type=&quot;String&quot; Name=&quot;Method&quot;&gt;'CAPAPostUnpostSQD'&lt;/Param&gt;&#xD; &lt;Param Type=&quot;String&quot; Name=&quot;PostUnpostValue&quot;&gt;'Unpost'&lt;/Param&gt;&#xD; &lt;/Params&gt; &#xD; &lt;/Action&gt;&#xD;&lt;/Actions&gt;" xsi:type="GenericAction">
            <Params />
          </Action>
          <Action ContainerWorkflowKey="CAPAWORKFLOW" Id="2b27d25b-ebd6-41f2-81a0-61bdd02df8d1" Name="Add Initial Risk Assessment if Perform Initial Risk Assessment is Yes" RecordId="PK_ID" Rule="If Perform Initial Risk Assessment is Yes and Initial Risk Assessment is not available" Scope="SameWorkFlow" SuccessfulMessage="" SystemTaskNodeDataId="stAddInitialRiskAssessment" SystemTaskWorkflowKey="CAPAWORKFLOW" Type="EvaluateSystemTask" xsi:type="EvaluateSystemTaskAction">
            <Params />
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="Action_307439c0-67f0-480f-afc0-aedff46db80f" Name="Update columns if category is Internal" RowIdentifier="PK_ID" Rule="Capa Category is Internal" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="c346f026-5cb6-4731-9009-5b99c0d6e59c" Name="CLIENT_CODE" Type="String">''</Param>
              <Param Id="85b7dc3c-57b3-4b9c-9ca0-232b5d869212" Name="CLIENT_NAME" Type="String">''</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM" CreationMode="Temp" Id="0aefa300-616b-4907-9d08-8485b5550c29" Name="Update Investigation Contact" QualifyingCondition="MEMBER_TYPE='Investigation'" RowIdentifier="PK_ID" Rule="Quality Portal Supplier CAPA" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="53dc7586-96c4-4325-91f3-9308e9662fbe" Name="ACTOR_CODE" Type="String">CONTACT_CODE</Param>
              <Param Id="fd76f07a-0ef7-4da7-81dd-697b79fd9577" Name="ACTOR_NAME" Type="String">CONTACT_NAME</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="a9228e9d-62e5-447f-b8af-c1d50350807d" Name="Update Investigation Due Date" QualifyingCondition="INV_REQ = 'true' and INVEST_DUE_DATE = ''" RowIdentifier="PK_ID" Rule="" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="02a16967-a17b-497f-a4de-1e635e4b188f" Name="INVEST_DUE_DATE" Type="String">AddBusinessDays(GetDate('Today'), INVEST_INTERVAL, ../OWNING_SITE_CODE)</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="4bb19173-ab01-4e6f-8c82-2107ff57d07f" Name="Update Planning Due Date" QualifyingCondition="INV_REQ = 'false' and PLAN_DUE_DATE = ''" RowIdentifier="PK_ID" Rule="" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="36c61f2c-b001-45c8-85ba-f42b54e8a08b" Name="PLAN_DUE_DATE" Type="String">AddBusinessDays(GetDate('Today'), PLAN_INTERVAL, ../OWNING_SITE_CODE)</Param>
            </Params>
          </Action>
        </ExitActions>
      </PhaseNodeData>
      <RuleDefinitions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
        <Rule ChildRowsModifier="" Description="Impacted Sites - At least one impacted site should be available" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="CROSS_SITE_CAPA_ENABLED='true'" IsTemplateRule="false" Message="97000" Name="Impacted Sites - At least one impacted site should be available" RowIdentifier="PK_ID" RuleId="241232b3-4c9f-4104-8a7e-b865008572c1">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="036bb796-9e9d-4a93-a187-3884b83535f8" LeftValue="count(V_SS_CAPA-V_SS_CAPA_IMPACTED_SITE)" OpenGroup="false" Operator="GT" RelationalOperator="" RightValue="'0'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Effectiveness Review - Create New CAPA" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Effectiveness Review - Create New CAPA" RowIdentifier="PK_ID" RuleId="9d62425a-0f8f-4d4c-94df-171c2411a136">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="dca241e5-a153-4dcd-bdd8-dae3d5f81aa0" LeftValue="VOE_RESULT" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Create New CAPA'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Effectiveness Review - Is CAPA  Effective?" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Effectiveness Review - Is CAPA  Effective?" RowIdentifier="PK_ID" RuleId="7a343be4-ac22-498c-a0d8-5fa3e2249725">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="c174bd4b-1249-4c4d-8471-9ee67a9623a6" LeftValue="IS_CAPA_JUDGED_EFFECTIVE" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'true'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Investigation - At least one root cause is defined" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="97008" Name="Investigation - At least one root cause is defined" RowIdentifier="PK_ID" RuleId="ddbfb75b-6918-4f05-b426-ea7d0a96ab7d">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="1379253c-32b2-4df3-8112-f097ee9b4c90" LeftValue="count(V_SS_CAPA-V_SS_CAPA_ROOT_CAUSE)" OpenGroup="false" Operator="GT" RelationalOperator="" RightValue="'0'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Effectiveness Plan - At least one Effectiveness Review plan is defined." Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="97026" Name="Effectiveness Plan - At least one Effectiveness Review plan is defined." RowIdentifier="PK_ID" RuleId="4d284c64-7dd8-438a-a16b-3fdd2253eb89">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="839db1bd-1fe4-44bd-847f-9da2832013bb" LeftValue="count(V_SS_CAPA-V_SS_CAPA_ACTION[ACTION_TYPE='Effectiveness Review Plan'])" OpenGroup="false" Operator="GT" RelationalOperator="" RightValue="'0'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Team Members-Effectiveness Review Plan task should be defined if Plan is required" Entity="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" FieldIdentifier="" FilterData="EFFECT_PLANNING_REQ='true'" IsTemplateRule="false" Message="97004" Name="Team Members-Effectiveness Review Plan task should be defined if Plan is required" RowIdentifier="PK_ID" RuleId="1d40f45d-df13-498f-b352-778cf5292547">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="79c2c6ca-8c83-47ef-8e95-17e7599b08ab" LeftValue="count(../V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Effectiveness Review Plan'])" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'1'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Team Members-Investigation Approval task should be defined if Approval is required" Entity="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" FieldIdentifier="PK_ID" FilterData="INV_APP_REQ='true'" IsTemplateRule="false" Message="97002" Name="Team Members-Investigation Approval task should be defined if Approval is required" RowIdentifier="PK_ID" RuleId="329726ed-f732-419a-bc7f-582e12a26d67">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="9da5b13d-1a81-4634-ad2a-c77bf7246e5e" LeftValue="count(../V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Investigation Approval'])" OpenGroup="false" Operator="GT" RelationalOperator="" RightValue="'0'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Team Members-Implementation Verification task should be defined if Approval is required" Entity="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" FieldIdentifier="ENTITY_ID" FilterData="IMPL_VERIFICATION_APP_REQ='true'" IsTemplateRule="false" Message="97038" Name="Team Members-Implementation Verification task should be defined if Approval is required" RowIdentifier="PK_ID" RuleId="51c50324-631a-4243-97c1-ed2ba389fc53">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="00263446-93bc-452d-a751-dd4a168493e6" LeftValue="count(../V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Implementation Verification'])" OpenGroup="false" Operator="GT" RelationalOperator="" RightValue="'0'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Reopen Investigation" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Reopen Investigation" RowIdentifier="PK_ID" RuleId="22d84929-9185-4587-a8e3-8049806a993c">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="8ed9ebf7-7d89-4d10-be8c-f27732a145eb" LeftValue="VOE_RESULT" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Reopen Investigation Phase'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Effectiveness Review - CAPA is Not Effective with No Action" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Effectiveness Review - CAPA is Not Effective with No Action" RowIdentifier="PK_ID" RuleId="30fad733-e335-458f-a63f-b7eea2dfe6a7">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="798a6414-d413-401f-9773-bbd0b1078740" LeftValue="VOE_RESULT" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'No Action'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Workflow action - Void CAPA" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Workflow action - Void CAPA" RowIdentifier="PK_ID" RuleId="fb63de50-55c6-402b-94f4-5cb552948e70">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="8ff6abb3-5aa7-4ffb-81b1-6dcc0762b06b" LeftValue="PRIMARY_STATUS !='VOID' and ActorHasRight('CAPA_VIEW') and ActorHasRight('CAPA_EDIT') and ActorHasRight('CAPA_VOID')" OpenGroup="true" Operator="EQ" RelationalOperator="And" RightValue="'true'" />
            <Conditions ChildRowsModifier="All" CloseGroup="true" ConditionId="0bc99568-2022-413e-8f32-19c2af21891e" LeftValue="GetCurrentUserInfo('ActorCode')" OpenGroup="false" Operator="EQ" RelationalOperator="Or" RightValue="COORDINATOR_CODE" />
            <Conditions ChildRowsModifier="All" CloseGroup="true" ConditionId="72d0c093-3f85-420e-9f71-138ca0489cd6" LeftValue="PRIMARY_STATUS !='VOID' and ActorHasRight('CAPA_VIEW') and ActorHasRight('CAPA_EDIT') and ActorHasRight('CAPA_VOID') and ActorHasRight('CAPA_SUPERVISOR')" OpenGroup="true" Operator="EQ" RelationalOperator="" RightValue="'true'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Investigation - Approval is required" Entity="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Investigation - Approval is required" RowIdentifier="PK_ID" RuleId="5a700a95-30f8-4e91-aa20-29bae0279eca">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="a42836b9-da36-4c57-84ed-2adff36e7819" LeftValue="INV_APP_REQ" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'true'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="All" Description="" Entity="V_SS_CAPA/V_SS_CAPA-V_ESG_ENTITY_SIGNATURE" FieldIdentifier="" FilterData="ESG_PHASE_NAME=[CurrentPhase]" IsTemplateRule="true" Message="" Name="Approval-All need to accept" RowIdentifier="ESG_ID" RuleId="48bca759-f33d-4415-a82f-ffe2b2700a82">
          <RuleConditions>
            <Conditions CloseGroup="false" ConditionId="c8d58210-ff8a-42a4-9944-36bacb7acd86" LeftValue="ESG_ACTION_TAKEN" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="[ApproveAction]" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="Any" Description="" Entity="V_SS_CAPA/V_SS_CAPA-V_ESG_ENTITY_SIGNATURE" FieldIdentifier="" FilterData="ESG_PHASE_NAME=[CurrentPhase]" IsTemplateRule="true" Message="" Name="Approval-Anyone reject - get all opinions" RowIdentifier="ESG_ID" RuleId="eb272d48-5395-438a-9320-10494a32ed55">
          <RuleConditions>
            <Conditions CloseGroup="false" ConditionId="68b8a863-6e2d-490d-9274-95dfe523e189" LeftValue="ESG_ACTION_TAKEN" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="[RejectAction]" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Effectiveness Review is required" Entity="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Effectiveness Review is required" RowIdentifier="PK_ID" RuleId="be11ad6f-b7ea-4189-82aa-dd6d5e5bbeb1">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="1eb55adf-aa31-447e-af3c-5a009886e9c6" LeftValue="EFFECT_VERIFICATION_REQ" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'true'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Effectiveness Review - Follow up is required" Entity="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Effectiveness Review - Follow up is required" RowIdentifier="PK_ID" RuleId="e65b56a6-c2af-483d-a5d4-3a933a09357b">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="f94a495d-8d59-4c16-90ef-7dbcef972b1e" LeftValue="EFFECT_FOLLOWUP_REQ" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'true'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Capa Category is Internal" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Capa Category is Internal" RowIdentifier="PK_ID" RuleId="ff871719-f393-4d0f-8272-573b2537b30a">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="ed65cc49-8d28-45bd-8d7b-24e14798ebff" LeftValue="CAPA_CATEGORY" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Internal'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Implementation - All the action plans should be completed" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="97028" Name="Implementation - All the action plans should be completed" RowIdentifier="PK_ID" RuleId="c0bec4c4-d9b2-46c5-9b52-de3d23dfb375">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="65b5a77f-140b-4c74-a2d7-629957160a2b" LeftValue="count(V_SS_CAPA-V_SS_CAPA_ACTION[C_TASK_ID=//PhaseStepBeingEvaluated/StepBeingEvaluated/TaskId and STATUS='No'])" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'0'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Dummy Rule" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Dummy Rule" RowIdentifier="PK_ID" RuleId="b0aa7a04-49a1-4d55-b0de-1c673fe28a2f">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="dc53b622-1f5c-4a21-a1c7-20d3fd5e59bc" LeftValue="'true'" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'false'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Investigation - Performed Date should be less than or equal to today's date" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="97044" Name="Investigation - Performed Date should be less than or equal to today's date" RowIdentifier="PK_ID" RuleId="82f731ee-4f65-46a1-9a71-6190fc29c0d7">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="b2802f72-0ce8-4997-a078-c162603ad38f" LeftValue="count(V_SS_CAPA-V_SS_CAPA_INVEST_RESULT[(CompareDates(PERFORMED_DATE, GetDate('Today')) = 1 )])" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'0'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Investigation Approval - Approved" Entity="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Investigation Approval - Approved" RowIdentifier="ENU_ID" RuleId="72138048-2bca-4c1e-a8c9-61e2b8e3cb07">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="5e475527-c16c-46d4-ba4d-bda451ca4f0a" LeftValue="ENU_ACTION" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Approve'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Investigation - Action Plan due date cannot be greater than Implementation Due Date" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="97046" Name="Investigation - Action Plan due date cannot be greater than Implementation Due Date" RowIdentifier="PK_ID" RuleId="f2462bc6-3d5f-4b5e-bb14-8ac739b347b1">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="8cad4f36-61f4-411d-a294-ae2c5df3a7fa" LeftValue="count(V_SS_CAPA-V_SS_CAPA_ACTION[ACTION_TYPE='Action Plan' and (CompareDates(DUE_DATE,../V_SS_CAPA-V_SS_CAPA_POLICY/IMPL_DUE_DATE) = 1)])" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'0'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Due Date Extension - Revised Due Date cannot be less than or equal to Original Due Date" Entity="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION" FieldIdentifier="" FilterData="IS_EXT_REQUEST_COMPL='false'" IsTemplateRule="false" Message="97048" Name="Due Date Extension - Revised Due Date cannot be less than or equal to Original Due Date" RowIdentifier="PK_ID" RuleId="5098e5a0-44ba-4dc5-ba2c-146c7715ebd4">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="848b3c08-f19f-4b3c-95c8-da00c2000a7a" LeftValue="CompareDates(../CURRENT_PHASE_DUE_DATE,REVISED_DUEDATE) &lt; 0" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'true'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Effectiveness Plan - Effectiveness Review Interval in Days" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Effectiveness Plan - Effectiveness Review Interval in Days" RowIdentifier="PK_ID" RuleId="c29112ca-d2f0-4a29-a129-5aa56e308502">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="67aeabfb-aeaf-4edc-a559-bf0d69cb1d64" LeftValue="EFFECT_REVIEW_INTVL_UNIT" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Days'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Effectiveness Plan - Effectiveness Review Interval in Months" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Effectiveness Plan - Effectiveness Review Interval in Months" RowIdentifier="PK_ID" RuleId="1933ad58-26f0-4b9e-86f7-33d664f1e961">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="4ff67747-e6d6-4bb7-940e-74b41241683e" LeftValue="EFFECT_REVIEW_INTVL_UNIT" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Months'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Team Members-Due Date Extension Approval task should be defined" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="97050" Name="Team Members-Due Date Extension Approval task should be defined" RowIdentifier="PK_ID" RuleId="12e4050f-1e94-4268-b8a4-54eccabf0382">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="ad1890d0-5265-4dc5-9c45-f53514ba4813" LeftValue="count(V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Due Date Extension Approval'])" OpenGroup="false" Operator="GT" RelationalOperator="" RightValue="'0'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Investigation - Due Date extension needs approval" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Investigation - Due Date extension needs approval" RowIdentifier="PK_ID" RuleId="c3f29116-903c-4c84-933d-0a460ba2e55e">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="c99ebd6b-0049-4871-8dc0-c3d1b913ab05" LeftValue="GetNumberOfSubWorkflowsStarted(PK_ID , 'Due Date Extension')" OpenGroup="false" Operator="GT" RelationalOperator="And" RightValue="'0'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="d16f484d-db7a-4af0-a2b0-285db5e3f233" LeftValue="count(V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Investigation'])" OpenGroup="false" Operator="GT" RelationalOperator="" RightValue="'0'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Implementation - Due Date needs Approval" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Implementation - Due Date needs Approval" RowIdentifier="PK_ID" RuleId="792d3d75-715a-4bbd-b3b6-674f10ccfcbc">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="60eb0937-f740-4a10-abef-55f3e3c7c6dc" LeftValue="GetNumberOfSubWorkflowsStarted(PK_ID , 'Due Date Extension')" OpenGroup="false" Operator="GT" RelationalOperator="And" RightValue="'0'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="7ede5fc7-ccdc-42c6-bae2-2c1c57dc036c" LeftValue="count(V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Implementation'])" OpenGroup="false" Operator="GT" RelationalOperator="" RightValue="'0'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Completion Review - Due Date needs Approval" RowIdentifier="PK_ID" RuleId="aff2d5a9-956a-4db4-9304-d7172f11d86a">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="4d0fc958-412c-4754-b35f-81372116194e" LeftValue="GetNumberOfSubWorkflowsStarted(PK_ID, 'Due Date Extension')" OpenGroup="false" Operator="GT" RelationalOperator="And" RightValue="'0'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="a825b2c4-2970-4205-be67-fbe3db3a7d6c" LeftValue="count(V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Completion Review'])" OpenGroup="false" Operator="GT" RelationalOperator="" RightValue="'0'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Workflow action - Update Team" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Workflow action - Update Team" RowIdentifier="PK_ID" RuleId="16ad53ab-b7bb-4e5a-8995-06d60e884b72">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="7a64902d-4572-4061-9493-d9909554b959" LeftValue="PRIMARY_STATUS = 'INWORKS' and PHASE != 'Initiation Verification' and ActorHasRight('CAPA_VIEW') and ActorHasRight('CAPA_EDIT')" OpenGroup="true" Operator="EQ" RelationalOperator="And" RightValue="'true'" />
            <Conditions ChildRowsModifier="All" CloseGroup="true" ConditionId="0d82b3bb-72dc-4a40-b03a-145b8d65452f" LeftValue="GetCurrentUserInfo('ActorCode')" OpenGroup="false" Operator="EQ" RelationalOperator="Or" RightValue="COORDINATOR_CODE" />
            <Conditions ChildRowsModifier="All" CloseGroup="true" ConditionId="51266f63-4fad-4d03-9f16-0a0574e1076a" LeftValue="PRIMARY_STATUS = 'INWORKS' and PHASE != 'Initiation Verification' and ActorHasRight('CAPA_VIEW') and ActorHasRight('CAPA_EDIT') and ActorHasRight('CAPA_SUPERVISOR')" OpenGroup="true" Operator="EQ" RelationalOperator="" RightValue="'true'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Implementation Verification - Verification is accepted" Entity="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Implementation Verification - Verification is accepted" RowIdentifier="ENU_ID" RuleId="2a9aaaf9-68b3-42f6-ad8c-bbdbeaf06a3c">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="7bc48fe6-f2a7-4013-be0f-614e3266e42f" LeftValue="ENU_ACTION" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Acceptable'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Investigation - Atleast one Risk Assessment is required" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="V_SS_CAPA-V_SS_CAPA_POLICY/FINAL_RISK_ASSMNT_REQ='true'" IsTemplateRule="false" Message="97068" Name="Investigation - Atleast one Risk Assessment is required" RowIdentifier="PK_ID" RuleId="17200d1e-82ad-49de-bfed-3d763fd24001">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="b97220cd-b18f-463a-8e71-0ae457c64d2c" LeftValue="count(V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE='Final'])" OpenGroup="false" Operator="GT" RelationalOperator="" RightValue="'0'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Completion Review - Effectiveness Review Due Date cannot be lesss than today" Entity="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" FieldIdentifier="" FilterData="EFFECT_FOLLOWUP_REQ='true'" IsTemplateRule="false" Message="97070" Name="Completion Review - Effectiveness Review Due Date cannot be lesss than today" RowIdentifier="PK_ID" RuleId="7950d92e-517a-4216-9f8b-1842a178e684">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="440716e6-cb89-4b08-abe1-8fbfcf4c8a9c" LeftValue="CompareDates(VOE_DUE_DATE,GetDate('Today')) &gt;=0" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'true'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Notification - Approval" Entity="V_SS_CAPA/V_SS_CAPA-V_ESG_ENTITY_SIGNATURE" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Notification - Approval" RowIdentifier="ESG_ID" RuleId="ac042119-32c1-451b-9bb7-2f977851e48c">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="53ba5530-5b88-4c9e-b1c5-89122615a6ab" LeftValue="ESG_ACTION_TAKEN" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Approve'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Notification - Reject" Entity="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Notification - Reject" RowIdentifier="ENU_ID" RuleId="f17bb72a-f657-4d03-972c-f7c8ac84147a">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="ebd2936c-fdc4-4434-8c1d-8cee7553a83f" LeftValue="ENU_ACTION" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Reject'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Due Date Extension Approval - Approved" Entity="V_SS_CAPA/V_SS_CAPA-V_ESG_ENTITY_SIGNATURE" FieldIdentifier="" FilterData="ESG_PHASE_NAME='Due Date Extension Approval'" IsTemplateRule="false" Message="" Name="Due Date Extension Approval - Approved" RowIdentifier="ESG_ID" RuleId="06dc7ad3-d3d7-4ccb-a873-f066e0e0a8a6">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="3b587e6b-9064-4b17-9060-86a1a577f541" LeftValue="ESG_ACTION_TAKEN" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Approve'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="Any" Description="" Entity="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" FieldIdentifier="" FilterData="" IsTemplateRule="true" Message="" Name="Approval-Anyone reject - stop at first rejection" RowIdentifier="ENU_ID" RuleId="a8734507-d466-42ab-b2f1-44cbeba31839">
          <RuleConditions>
            <Conditions ChildRowsModifier="Any" CloseGroup="false" ConditionId="919966eb-b56d-4150-be4f-8fddbef8de7f" LeftValue="ENU_ACTION" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="[RejectAction]" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Approval-All need to accept Investigation approval" RowIdentifier="PK_ID" RuleId="cd1749ea-ecc1-446e-9206-f0912970557f">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="f15f3553-2c99-4aeb-bca7-79e5e75f73e5" LeftValue="V_SS_CAPA-V_ESG_ENTITY_SIGNATURE/ESG_ACTION_TAKEN" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'Approve'" />
            <Conditions ChildRowsModifier="Any" CloseGroup="false" ConditionId="40e51ef6-3dcb-4c7c-860d-77d7e8af47fa" LeftValue="CROSS_SITE_CAPA_ENABLED" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'true'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Do Not Show In Menu" RowIdentifier="PK_ID" RuleId="4cedffbc-3671-4109-b4f8-dcc33aaa00f6">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="4ecc3fd0-f948-406f-96cb-09dd8ff4801b" LeftValue="PK_ID" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Pilgrim'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="" Entity="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Reject Implementation Verification - Notification" RowIdentifier="ENU_ID" RuleId="1c4410c5-24f1-4701-8571-0bebabd55000">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="edbfc522-8e06-45df-93a0-342f31e7f009" LeftValue="ENU_ACTION" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Not Acceptable'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="" Entity="V_SS_CAPA/V_SS_CAPA-V_ESG_ENTITY_SIGNATURE" FieldIdentifier="" FilterData="ESG_PHASE_NAME='Implementation Verification'" IsTemplateRule="false" Message="" Name="Approve Implementation Verification" RowIdentifier="ESG_ID" RuleId="007d7593-f33c-46c8-9db5-8e734c1ccfa3">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="ba6fdac8-4b60-4355-bde8-75c6491b0b17" LeftValue="ESG_ACTION_TAKEN" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Acceptable'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="" Entity="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Approve" RowIdentifier="ENU_ID" RuleId="45a51f50-afc3-41c9-8755-8da486ab0833">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="e0045271-be43-4cf7-ae33-c7f6d157b527" LeftValue="ENU_ACTION" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Approve'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="" Entity="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Reject" RowIdentifier="ENU_ID" RuleId="03af2de6-a566-4012-812c-f8d42e29f55c">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="593a7ccf-2bb2-483b-aaad-4fdf27d70c47" LeftValue="ENU_ACTION" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Reject'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="If actor is NOT equal to CAPA Coordinator" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="If actor is NOT equal to CAPA Coordinator" RowIdentifier="PK_ID" RuleId="3f95b188-da59-4628-8fbd-927ace1c99e9">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="ec2a3c89-19c2-4c26-a694-64443231043c" LeftValue="V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Due Date Extension Approval']/ACTOR_CODE" OpenGroup="false" Operator="NEQ" RelationalOperator="" RightValue="COORDINATOR_CODE" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Effectiveness Review - Create New CAPA and Not already Created" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Effectiveness Review - Create New CAPA and Not already Created" RowIdentifier="PK_ID" RuleId="726474da-8839-4576-9b6b-718544d34d22">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="d6983efe-cdbf-4b8d-8be1-b383eb18c016" LeftValue="VOE_RESULT" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'Create New CAPA'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="81fc7c0e-4a17-4b39-9af2-466dd24eaeb4" LeftValue="INEFFECTIVE_CAPA_NO = ''" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'true'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Due Date Extension Exist?" RowIdentifier="PK_ID" RuleId="714712e8-b2a1-41b4-ad34-342fb844131a">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="c483828a-2303-4e29-94f8-a7d4838792a5" LeftValue="GetNumberOfSubWorkflowsStarted(PK_ID , 'Due Date Extension')" OpenGroup="false" Operator="GT" RelationalOperator="" RightValue="'0'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Workflow action - Adhoc Task" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Workflow action - Adhoc Task" RowIdentifier="PK_ID" RuleId="16f47701-c2cd-43f9-885a-10be6a19666c">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="f1513fb0-835e-4b84-a40f-3fddbca31b7c" LeftValue="PRIMARY_STATUS='INWORKS' and ActorHasRight('CAPA_VIEW') and ActorHasRight('CAPA_EDIT')" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'true'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="true" Message="" Name="Blocking Phase Rule" RowIdentifier="PK_ID" RuleId="93f8f914-a3b2-437b-830a-640e3af0bf98">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="4ca7c522-0a01-45a6-a6f8-a7601fb02237" LeftValue="GetBlockingWorkflowCount(PK_ID, 'tbpBlockingPhase')" OpenGroup="false" Operator="GT" RelationalOperator="" RightValue="'0'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Always True" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Always True" RowIdentifier="PK_ID" RuleId="423b596f-761a-4ed7-bdc9-6c65aa55ad9f">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="21f712f6-4ed1-4867-8985-944a9a3df216" LeftValue="1" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'1'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Adhoc Task Exists" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Adhoc Task Exists" RowIdentifier="PK_ID" RuleId="782c94c5-b9b7-43d3-9215-bc491bfdaca2">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="047eb633-0efa-4e87-a130-acd28464c70c" LeftValue="count(V_SS_CAPA-V_SS_CAPA_ACTIVITY[TASK_NAME='tAdhoc' and C_TASK_ID=''])" OpenGroup="false" Operator="GT" RelationalOperator="" RightValue="'0'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Is CAPA Reopened and for Supplier" RowIdentifier="PK_ID" RuleId="ffee9c02-48ab-4e9e-8b0b-2f14d829953f">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="35b74a12-4826-4cac-86e0-0fd0b890f2fd" LeftValue="IS_CAPA_REOPENED" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'true'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="24d81616-0630-4b69-a08c-29ff4b8248fe" LeftValue="CAPA_TYPE" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Supplier'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="CAPA Type is Supplier" RowIdentifier="PK_ID" RuleId="3c20b1e2-9342-40b8-b0b2-d59770c8b426">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="a3ed3bf7-2b5b-4a7b-863b-d9e5c7b86e17" LeftValue="CAPA_TYPE" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Supplier'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Team Members-Action Plan Verification/Validation task should be defined if Verification/Validation is required" Entity="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" FieldIdentifier="PK_ID" FilterData="ACT_PLN_VAL_REQ='true'" IsTemplateRule="false" Message="97092" Name="Team Members-Action Plan Verification/Validation task should be defined if Verification/Validation is required" RowIdentifier="PK_ID" RuleId="5c1da371-189b-4a25-9dc7-ef7a306d0eee">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="94562667-7a60-4a79-ab24-ad293222f539" LeftValue="count(../V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Verification/Validation'])" OpenGroup="false" Operator="GT" RelationalOperator="" RightValue="'0'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Act Pln Verification - Failed" Entity="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Act Pln Verification - Failed" RowIdentifier="ENU_ID" RuleId="c13a91c2-b4f2-4a84-8d55-0d225a6ea652">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="8ada203f-c1b3-48a7-8a49-658f0f1c9c0f" LeftValue="ENU_ACTION" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Verification/Validation Failed'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Act Pln Verification - Passed" Entity="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Act Pln Verification - Passed" RowIdentifier="ENU_ID" RuleId="4abb8551-54f4-4891-819b-4a6efdef2e7e">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="2992ab94-86e7-41ac-a34a-1d11016b33c9" LeftValue="ENU_ACTION" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Verification/Validation Passed'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="New Task Owner is not current user" Entity="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="New Task Owner is not current user" RowIdentifier="ENU_ID" RuleId="9072f1f5-c0a2-4fc0-b9b6-b2769d8beb2b">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="c5df9b53-db42-4da1-8898-d9a29a5ea143" LeftValue="ENU_OWNER_CODE" OpenGroup="false" Operator="NEQ" RelationalOperator="And" RightValue="GetCurrentUserInfo('ActorCode')" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="66ebabeb-c56a-45b5-a205-8a7d197822e8" LeftValue="ENU_OWNER_CODE" OpenGroup="false" Operator="NEQ" RelationalOperator="" RightValue="''" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="" Entity="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Investigation - Evaluate Failure Mode and Cause" RowIdentifier="PK_ID" RuleId="d7ed56a5-1081-4204-8c3b-c717397ac9d2">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="b2fffe45-3c02-4a2a-9af1-a7b2ae2abf2d" LeftValue="FMD_NEW_EVAL" OpenGroup="false" Operator="NEQ" RelationalOperator="" RightValue="'Do nothing'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Investigation - Notification upon adding new Failure Mode or Cause" RowIdentifier="PK_ID" RuleId="24e4cca1-be4b-40ae-804d-4516fc2c0dfd">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="1dbfd837-31ed-43ce-80ed-12cf2d80208e" LeftValue="V_SS_CAPA-V_SS_CAPA_POLICY/FMD_NEW_EVAL" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'Auto add new FM to master setup'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="8eafebd3-ef43-4dc8-8457-c9d2bfa1e566" LeftValue="count(V_SS_CAPA-V_SS_CAPA_ROOT_CAUSE[FMD_IS_NEW='true']/PK_ID)" OpenGroup="false" Operator="GT" RelationalOperator="" RightValue="'0'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Investigation - Route task upon adding new Failure Mode or Cause" RowIdentifier="PK_ID" RuleId="cefe09be-94bb-4057-9315-802cecf2e2e7">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="c14ac19c-f1ec-485d-a14b-0546f31144c4" LeftValue="V_SS_CAPA-V_SS_CAPA_POLICY/FMD_NEW_EVAL" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'Route task'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="b4f9188d-2aa5-42a3-90f8-d70573868c86" LeftValue="count(V_SS_CAPA-V_SS_CAPA_ROOT_CAUSE[FMD_IS_NEW='true']/PK_ID)" OpenGroup="false" Operator="GT" RelationalOperator="" RightValue="'0'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Is this a Quality Portal Supplier CAPA?" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Quality Portal Supplier CAPA" RowIdentifier="PK_ID" RuleId="9271bdc0-4e08-4888-8adb-f9e4dd48c9c7">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="51ccf373-a55c-4409-85a6-fa9c21db281e" LeftValue="QUALITY_PORTAL_CAPA" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'true'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Initiation Verification - Is Quality Portal User not Defined" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Initiation Verification - Is Quality Portal User not Defined" RowIdentifier="PK_ID" RuleId="bcb640ec-d66b-4813-b825-79bc239cf70a">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="6c354fb5-8de8-4647-8a56-0d37d71cac51" LeftValue="QUALITY_PORTAL_CAPA" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="''" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Act Pln Verification - Failed" Entity="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Act Pln Verification - Failed for Supplier CAPA" RowIdentifier="ENU_ID" RuleId="fd8384c5-6880-44e9-950b-04f76b6c34fe">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="792362e2-839c-4d65-bb8d-cf91b42ca124" LeftValue="ENU_ACTION" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Verification/Validation Failed'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Always False" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Always False" RowIdentifier="PK_ID" RuleId="37b01792-21ea-4623-8eb1-c7d330f62275">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="f6ab35b0-d3ba-4686-b5ee-824e7aeca405" LeftValue="'1'" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'0'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Is CAPA Reopened" RowIdentifier="PK_ID" RuleId="309d5f48-a7c5-458c-b4a9-16a1ffb19448">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="703d859d-2a9f-4a26-bd68-a8a595fa5cae" LeftValue="IS_CAPA_REOPENED" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'true'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="PLAN_FAILED_TO_VERIFY='true'" IsTemplateRule="false" Message="97094" Name="Verify/Validate - Atleast one action plan must be marked as failed if applicable" RowIdentifier="PK_ID" RuleId="0dd8266a-226a-48be-8234-3146dcad4c5a">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="da3eb934-9232-4def-bd67-44987335041e" LeftValue="count(V_SS_CAPA-V_SS_CAPA_ACTION[FAIL_TO_VERIFY='true'])" OpenGroup="false" Operator="GT" RelationalOperator="" RightValue="'0'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Planning - Assigned Role should match Assigned Actor" Entity="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION" FieldIdentifier="ASSIGNED_ACT_CODE" FilterData="count(PLAN_NO)&gt;0 and ACTION_TYPE  != 'Effectiveness Review Plan' and STATUS != 'Yes' and STATUS != 'Skipped'" IsTemplateRule="false" Message="54040" Name="Planning - Assigned Role should match Assigned Actor" RowIdentifier="PK_ID" RuleId="afed0701-4e78-487a-b3a6-25d512027071">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="80601f2d-5047-4d37-9a7e-e87a3f5acc8d" LeftValue="ValidateActorAndHasRole(ASSIGNED_ACT_CODE, ASSIGNED_ROLE_CODE)" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'true'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Planning- At least one action plan should be defined" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="97010" Name="Planning- At least one action plan should be defined" RowIdentifier="PK_ID" RuleId="e69247fe-0272-4ced-a3f2-9094bf2c4205">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="a249f335-0d90-446e-97a5-9b9b215c3783" LeftValue="count(V_SS_CAPA-V_SS_CAPA_ACTION[ACTION_TYPE='Action Plan'])" OpenGroup="false" Operator="GT" RelationalOperator="" RightValue="'0'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Team Members - Ownership task should be defined" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="97080" Name="Team Members - Ownership task should be defined" RowIdentifier="PK_ID" RuleId="fd3ce2a8-889c-4f0a-80bd-e7df40cd2f7e">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="87cfe3fd-a4af-473d-a398-aaa162386474" LeftValue="count(V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Ownership'])" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'1'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Team Members-Action Plan Development task should be defined" Entity="V_SS_CAPA" FieldIdentifier="PK_ID" FilterData="" IsTemplateRule="false" Message="97108" Name="Team Members-Action Plan Development task should be defined" RowIdentifier="PK_ID" RuleId="b21cec92-9222-42fb-a50f-2ed11ec9fb04">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="d9cb9873-3d60-45c5-94ab-b1be96905c1d" LeftValue="count(V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Development'])" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'1'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Evaluate Heat Map Code : If Product Line is null" RowIdentifier="PK_ID" RuleId="0ac67a04-bcea-442c-8fae-530d97b44f6f">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="8c3eab18-022c-423a-ac87-6b476baea667" LeftValue="PRODUCTLINE_CODE" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="''" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Planning - If Risk Assesment was not transferred for the first time" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Planning - If Risk Assesment was not transferred for the first time" RowIdentifier="PK_ID" RuleId="8b68afac-eaf6-479a-b1aa-46920ae2cc98">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="bc4bac1b-9edc-4888-9afc-cb9942b28924" LeftValue="V_SS_CAPA-V_SS_CAPA_POLICY/INITIAL_RISK_ASSMNT_REQ" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'true'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="07c6d4ee-1be8-4e00-a61d-dbc8280121bb" LeftValue="V_SS_CAPA-V_SS_CAPA_POLICY/FINAL_RISK_ASSMNT_REQ" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'true'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="ec6efd27-7888-491f-82c6-bc2c771a64ea" LeftValue="count(V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE = 'Final'])" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'0'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Team Members-Investigation task should be defined if Investigation is required" Entity="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" FieldIdentifier="PK_ID" FilterData="INV_REQ='true'" IsTemplateRule="false" Message="97042" Name="Team Members-Investigation task should be defined if Investigation is required" RowIdentifier="PK_ID" RuleId="5c5d03ba-e6a1-4699-b186-72c84b9a8e7d">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="2c573527-054d-4c4e-93fc-d19e2d87dd46" LeftValue="count(../V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Investigation'])" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'1'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Team Members-Action Plan Approval task should be defined if Action Plan Approval is required" Entity="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" FieldIdentifier="PK_ID" FilterData="ACT_PLN_APP_REQ='true'" IsTemplateRule="false" Message="97110" Name="Team Members-Action Plan Approval task should be defined if Action Plan Approval is required" RowIdentifier="PK_ID" RuleId="a0497929-5d70-4e96-a68e-000382d4910b">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="3451e993-8f3d-4661-93b5-7b0b84d459e0" LeftValue="count(../V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Approval'])" OpenGroup="false" Operator="GT" RelationalOperator="" RightValue="'0'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Team Members-Completion Review task should be defined" Entity="V_SS_CAPA" FieldIdentifier="PK_ID" FilterData="" IsTemplateRule="false" Message="97112" Name="Team Members-Completion Review task should be defined" RowIdentifier="PK_ID" RuleId="3047ad57-0264-4a23-ab09-e0cd70a31f7b">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="953ef1db-4608-40f4-8dc7-de3af160b5ef" LeftValue="count(V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Completion Review'])" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'1'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Team Members-Effectiveness Review task should be defined" Entity="V_SS_CAPA" FieldIdentifier="PK_ID" FilterData="" IsTemplateRule="false" Message="97114" Name="Team Members-Effectiveness Review task should be defined" RowIdentifier="PK_ID" RuleId="07c50ecf-0188-47a6-877a-45b2af11d928">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="40b4a50e-83fb-4828-8a45-3618ced6b8a0" LeftValue="count(V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Effectiveness Review'])" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'1'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Team Members - Coordination task should be defined" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="97116" Name="Team Members - Coordination task should be defined" RowIdentifier="PK_ID" RuleId="ea410d9b-35fa-4648-9f07-943137aa3413">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="3a3eb537-d9c4-4f9f-8c0c-30fe7581968d" LeftValue="count(V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Coordination'])" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'1'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Investigation - Investigation is required" Entity="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Investigation - Investigation is required" RowIdentifier="PK_ID" RuleId="70476279-4d19-4104-b8cb-e14965d5964e">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="eb97d6a4-601f-418c-8b6d-dbc25bb6f968" LeftValue="INV_REQ" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'true'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Planning - Approval Action Plan is required" Entity="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Planning - Approval Action Plan is required" RowIdentifier="PK_ID" RuleId="3d816e69-6977-4473-ac7d-d3019a765890">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="95ecdca3-ec2c-42b5-9d0a-d790a1163785" LeftValue="ACT_PLN_APP_REQ" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'true'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Planning - Action Plan Approval is not required" Entity="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Planning - Action Plan Approval is not required" RowIdentifier="PK_ID" RuleId="be975fd8-7fd6-4f12-9351-aa6989086ad3">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="c1dd3e31-5b9f-43d0-9cb2-5e1e6f78a7de" LeftValue="ACT_PLN_APP_REQ" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'false'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Action Plan Approval - Approved" Entity="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Action Plan Approval - Approved" RowIdentifier="ENU_ID" RuleId="8704fdbb-95a0-4a7e-b049-c29855472b30">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="4daa7ef3-d205-47ed-9167-cf5c5b1000fc" LeftValue="ENU_ACTION" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Approve'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Investigation Approval - Approved" Entity="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Policy - Approved" RowIdentifier="ENU_ID" RuleId="8e430e8f-9753-42ee-96b3-f35e906ad06a">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="ff15cf28-489c-441d-b88c-fca1958e1f3a" LeftValue="ENU_ACTION" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Approve'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Planning - Action Plan Verification/Validation is required" Entity="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Planning - Action Plan Verification/Validation is required" RowIdentifier="PK_ID" RuleId="22b00456-bdac-4c16-8e1b-16fc288dfa41">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="5392b197-2895-496d-9fb2-940d723dff8d" LeftValue="ACT_PLN_VAL_REQ" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'true'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Planning - Due Date extension needs approval" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Planning - Due Date extension needs approval" RowIdentifier="PK_ID" RuleId="644b0394-9919-408b-b5e8-8684eebf24f9">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="e41c6417-aa40-4f13-a43e-09f42e1af85c" LeftValue="GetNumberOfSubWorkflowsStarted(PK_ID , 'Due Date Extension')" OpenGroup="false" Operator="GT" RelationalOperator="And" RightValue="'0'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="9c0f6de4-3a48-49ad-965d-9f6c1d3fe580" LeftValue="count(V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Planning'])" OpenGroup="false" Operator="GT" RelationalOperator="" RightValue="'0'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Reopen Phase for Investigation" Entity="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Reopen Phase for Investigation" RowIdentifier="ENU_ID" RuleId="9b4506ce-e787-4b8f-9961-acb24657e153">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="0ae22ccf-374b-4e1a-a688-4138014071c2" LeftValue="ENU_PHASE_NAME" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Investigation'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Reopen Phase for Planning" Entity="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Reopen Phase for Planning" RowIdentifier="ENU_ID" RuleId="f2aaaeb6-2fc8-4ddb-8f39-5fcfb4c95889">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="ecf9e9dd-6834-4466-ae3c-3debe5b4e26b" LeftValue="ENU_PHASE_NAME" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Planning'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Reopen Planning" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Reopen Planning" RowIdentifier="PK_ID" RuleId="5d0125f9-2e99-475e-ac38-d71cea122cb0">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="1b03ba20-5626-4345-b710-55a797abd948" LeftValue="VOE_RESULT" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Reopen Planning Phase'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Accept and Planning" RowIdentifier="PK_ID" RuleId="95f7ce37-a91f-47ca-b606-76d6ff1b12e5">
          <RuleConditions>
            <Conditions ChildRowsModifier="Any" CloseGroup="false" ConditionId="b7b9174b-fec3-4126-834e-582131195fc1" LeftValue="V_ENU_NONPERSIS_USER_DATA/ENU_ACTION" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'Approve'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="14bc925b-4eeb-490d-a66e-05d9eabc3201" LeftValue="CURRENT_PHASE" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Planning'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Reject and Planning" RowIdentifier="PK_ID" RuleId="2a7ca64b-946f-4deb-99c6-ec7765f3ca2b">
          <RuleConditions>
            <Conditions ChildRowsModifier="Any" CloseGroup="false" ConditionId="2f4331a3-4ab2-43ea-baba-a1e9267ef899" LeftValue="V_ENU_NONPERSIS_USER_DATA/ENU_ACTION" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'Reject'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="4e475bb8-d510-407d-9124-122248a03310" LeftValue="CURRENT_PHASE" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Planning'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Due Date Phase Planning from Develop Action Plans task" Entity="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION" FieldIdentifier="" FilterData="IS_EXT_REQUEST_COMPL = 'false'" IsTemplateRule="false" Message="" Name="Due Date Phase Planning from Develop Action Plans task" RowIdentifier="PK_ID" RuleId="eda1af8d-6b19-4b8d-91a9-f79ecab112c4">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="8b311520-abe3-430d-90a2-336b4e42461c" LeftValue="EXTENSION_PHASE" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'Planning'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="01ef51c4-f593-4153-8c84-52f09a84493c" LeftValue="../PHASE" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Planning'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Implementation - Due Date needs Approval if Verify Implementation is Not Acceptable" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Implementation - Due Date needs Approval if Verify Implementation is Not Acceptable" RowIdentifier="PK_ID" RuleId="2a69e1c5-87c0-478b-b62d-a9470a2ef633">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="e396752f-8252-4de5-9c84-31fff83e7df5" LeftValue="GetNumberOfSubWorkflowsStarted(PK_ID , 'Due Date Extension')" OpenGroup="false" Operator="GT" RelationalOperator="And" RightValue="'0'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="52546e1f-e02e-4915-ac07-b6f0a427019c" LeftValue="count(V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Implementation'])" OpenGroup="false" Operator="GT" RelationalOperator="And" RightValue="'0'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="86570994-35e9-48f5-922b-bb0be53dfacb" LeftValue="V_ENU_NONPERSIS_USER_DATA/ENU_ACTION" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Not Acceptable'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Due Date Phase Investigation from Investigate CAPA task" Entity="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION" FieldIdentifier="" FilterData="IS_EXT_REQUEST_COMPL = 'false'" IsTemplateRule="false" Message="" Name="Due Date Phase Investigation from Investigate CAPA task" RowIdentifier="PK_ID" RuleId="a0880ad9-1a6f-44b7-aa9d-f4f5cc497fb2">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="a8e7a7ca-6b2f-47e2-a575-e139e4447d1a" LeftValue="EXTENSION_PHASE" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'Investigation'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="5471657e-3a37-4b2f-ac33-dc5fcd517631" LeftValue="../PHASE" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Investigation'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Due Date Phase Investigation from Approve CAPA Investigation task" Entity="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION" FieldIdentifier="" FilterData="IS_EXT_REQUEST_COMPL = 'false'" IsTemplateRule="false" Message="" Name="Due Date Phase Investigation from Approve CAPA Investigation task" RowIdentifier="PK_ID" RuleId="a2817fce-ec3e-4c64-8b85-7725e24577c5">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="fc48e490-4d93-43e1-9512-31947e3a43b8" LeftValue="EXTENSION_PHASE" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'Investigation'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="ffff7a7d-1496-4336-96b1-835ac978a895" LeftValue="../PHASE" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Investigation Approval'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Due Date Phase Planning from Verify/Validate Action Plans task" Entity="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION" FieldIdentifier="" FilterData="IS_EXT_REQUEST_COMPL = 'false'" IsTemplateRule="false" Message="" Name="Due Date Phase Planning from Verify/Validate Action Plans task" RowIdentifier="PK_ID" RuleId="681f5854-dbe7-473d-a8c4-c92ee10023b4">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="a45b1214-8b9b-49d2-941e-92e81f367dd4" LeftValue="EXTENSION_PHASE" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'Planning'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="0344fe66-0637-46a9-963a-103381d19240" LeftValue="../PHASE" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Action Plan Verification/Validation'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Due Date Phase Planning from Approve Action Plans task" Entity="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION" FieldIdentifier="" FilterData="IS_EXT_REQUEST_COMPL = 'false'" IsTemplateRule="false" Message="" Name="Due Date Phase Planning from Approve Action Plans task" RowIdentifier="PK_ID" RuleId="4c153751-8198-476f-afeb-1f3738d1a8ff">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="32dafe89-6ec4-4b12-94a1-3a908c8afc5d" LeftValue="EXTENSION_PHASE" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'Planning'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="affdfb04-fec4-45a1-ba93-4cb63973cc1f" LeftValue="../PHASE" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Action Plan Approval'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Due Date Phase Implementation from Verify Implementation task" Entity="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION" FieldIdentifier="" FilterData="IS_EXT_REQUEST_COMPL = 'false'" IsTemplateRule="false" Message="" Name="Due Date Phase Implementation from Verify Implementation task" RowIdentifier="PK_ID" RuleId="f6bc697c-765d-4875-8c8a-1df5441ea152">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="d9b7cac1-af11-45f3-9d0a-fac7185b77f3" LeftValue="EXTENSION_PHASE" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'Implementation'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="cb099631-94ec-452e-bfa8-40fc10f3295e" LeftValue="../PHASE" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Implementation Verification'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Due Date Phase Implementation" Entity="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION" FieldIdentifier="" FilterData="IS_EXT_REQUEST_COMPL = 'false'" IsTemplateRule="false" Message="" Name="Due Date Phase Implementation" RowIdentifier="PK_ID" RuleId="eb03a603-2d99-41dd-941c-84ad1222c44c">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="050e26e3-2a6c-4ff7-a318-775c56a47928" LeftValue="EXTENSION_PHASE" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'Implementation'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="6c102dd7-cd12-42db-8cd1-5b335710ad70" LeftValue="../PHASE" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Implementation'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Due Date Phase Completion Review" Entity="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION" FieldIdentifier="" FilterData="IS_EXT_REQUEST_COMPL = 'false'" IsTemplateRule="false" Message="" Name="Due Date Phase Completion Review" RowIdentifier="PK_ID" RuleId="6931c1df-f39c-471f-b956-89954ab234af">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="7c5116d2-feb9-4f44-8b4c-cc13183cf642" LeftValue="EXTENSION_PHASE" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'Completion'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="928db563-b6b6-4857-95a0-9af2bb581dbc" LeftValue="../PHASE" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Completion Review'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Reject and Completion" RowIdentifier="PK_ID" RuleId="e9706f0a-218c-46f3-9f5b-d9ffbf216a3a">
          <RuleConditions>
            <Conditions ChildRowsModifier="Any" CloseGroup="false" ConditionId="6cc367d0-4b66-4721-8b2e-4aa21a310886" LeftValue="V_ENU_NONPERSIS_USER_DATA/ENU_ACTION" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'Reject'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="9ce89635-e98b-4d36-98f9-72ae074c3530" LeftValue="CURRENT_PHASE" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Completion'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Reject and Implementation" RowIdentifier="PK_ID" RuleId="565059f8-1586-4ebf-aea8-2da58cf64521">
          <RuleConditions>
            <Conditions ChildRowsModifier="Any" CloseGroup="false" ConditionId="85853104-b698-4062-b3c7-c407ffcfe25e" LeftValue="V_ENU_NONPERSIS_USER_DATA/ENU_ACTION" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'Reject'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="b09f5aff-ce9e-40b7-a687-73e9ef50f97f" LeftValue="CURRENT_PHASE" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Implementation'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Reject and Investigation" RowIdentifier="PK_ID" RuleId="d5ba9e59-8b46-49b6-bbee-65af3504db8d">
          <RuleConditions>
            <Conditions ChildRowsModifier="Any" CloseGroup="false" ConditionId="5e0975f0-201b-41c2-8cfe-1dd283e11401" LeftValue="V_ENU_NONPERSIS_USER_DATA/ENU_ACTION" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'Reject'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="74f8db88-4bfd-4c68-aff3-a9e58caf4c30" LeftValue="CURRENT_PHASE" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Investigation'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Accept and Completion" RowIdentifier="PK_ID" RuleId="873763b4-813e-494f-a921-b190ba9fddd4">
          <RuleConditions>
            <Conditions ChildRowsModifier="Any" CloseGroup="false" ConditionId="708cde9a-0178-47e6-8879-9b6ef86b4d78" LeftValue="V_ENU_NONPERSIS_USER_DATA/ENU_ACTION" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'Approve'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="8381bfbf-7427-42c1-a5de-6d5e9314adb3" LeftValue="CURRENT_PHASE" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Completion'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Accept and Implementation" RowIdentifier="PK_ID" RuleId="31c24490-33a9-453a-a432-a311f5c55126">
          <RuleConditions>
            <Conditions ChildRowsModifier="Any" CloseGroup="false" ConditionId="3a53b018-87fe-4cd3-87fc-abb232d1d298" LeftValue="V_ENU_NONPERSIS_USER_DATA/ENU_ACTION" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'Approve'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="16e7328a-de62-4de4-ae4a-d9d76fca262b" LeftValue="CURRENT_PHASE" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Implementation'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Accept and Investigation" RowIdentifier="PK_ID" RuleId="81308252-f194-42a0-934d-6df536ff2624">
          <RuleConditions>
            <Conditions ChildRowsModifier="Any" CloseGroup="false" ConditionId="5b38dc58-0a14-48e6-9865-ede306c08f9d" LeftValue="V_ENU_NONPERSIS_USER_DATA/ENU_ACTION" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'Approve'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="1d3f1ada-525e-44d0-bb8a-d98e7ba54c4f" LeftValue="CURRENT_PHASE" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'Investigation'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Workflow action - Due Date Extension" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Workflow action - Due Date Extension" RowIdentifier="PK_ID" RuleId="06c9004a-9ba5-41b1-a698-a9dcd8a33e87">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="5c54d739-c088-41ef-a0ea-3f75743f9d82" LeftValue="PRIMARY_STATUS='INWORKS' and (CURRENT_PHASE='Investigation' or CURRENT_PHASE = 'Planning' or CURRENT_PHASE='Implementation' or CURRENT_PHASE='Completion') and ActorHasRight('CAPA_VIEW') and ActorHasRight('CAPA_EDIT')" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'true'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="ddbaf4c7-e515-4145-ade8-476f052128f8" LeftValue="CAPA_ISDUEDTEXT_INPROCESS" OpenGroup="false" Operator="NEQ" RelationalOperator="" RightValue="'true'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Workflow action - Reopen Phase" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Workflow action - Reopen Phase" RowIdentifier="PK_ID" RuleId="7f793af2-1919-4d3b-9923-4324effe7864">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="dbd4c018-f4ba-4e03-914e-38604c43589b" LeftValue="PRIMARY_STATUS = 'INWORKS' and ActorHasRight('CAPA_VIEW') and ActorHasRight('CAPA_EDIT')" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'true'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="a94497d5-f545-4689-9a10-9aebf89f439d" LeftValue="GetCurrentUserInfo('ActorCode')" OpenGroup="true" Operator="EQ" RelationalOperator="Or" RightValue="COORDINATOR_CODE" />
            <Conditions ChildRowsModifier="All" CloseGroup="true" ConditionId="2679e14b-850a-4232-9457-1e152991fa80" LeftValue="ActorHasRight('CAPA_SUPERVISOR')" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'true'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="24516d96-c2db-40dd-9e01-bf3d2cb36d70" LeftValue="CURRENT_PHASE = 'Planning' and V_SS_CAPA-V_SS_CAPA_POLICY/INV_REQ = 'true'" OpenGroup="true" Operator="EQ" RelationalOperator="Or" RightValue="'true'" />
            <Conditions ChildRowsModifier="All" CloseGroup="true" ConditionId="d666dbe9-5e6d-4447-9f7e-bb26dfb60ad8" LeftValue="CURRENT_PHASE = 'Implementation' or CURRENT_PHASE = 'Completion' or CURRENT_PHASE = 'Effectiveness Review'" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'true'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Initiation Verification team and Update Team Member - Assigned Role Should match Assigned Actor" Entity="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM" FieldIdentifier="ACTOR_CODE" FilterData="ROLE_CODE != '' and ACTOR_CODE != ''" IsTemplateRule="false" Message="54040" Name="Initiation Verification team and Update Team Member - Assigned Role Should match Assigned Actor" RowIdentifier="PK_ID" RuleId="5c8063d9-8410-47f8-b26e-59fdaf62ef36">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="cf6f9bf0-0bc2-4a8b-95df-12b3f004c65c" LeftValue="ValidateActorAndHasRole(ACTOR_CODE, ROLE_CODE)" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'true'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Team Members - Is  Coordination defined" RowIdentifier="PK_ID" RuleId="3f90d274-7474-434e-b570-254434a4362b">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="6565235e-7bb6-4266-b6a3-88cbbc22ff11" LeftValue="count(V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Coordination'])" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'1'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="1804db2e-675f-41ed-a16d-02300fc31050" LeftValue="V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Coordination']/ACTOR_CODE" OpenGroup="false" Operator="NEQ" RelationalOperator="" RightValue="''" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Team Members - Is Ownership defined" RowIdentifier="PK_ID" RuleId="b8f15b80-4ff3-4589-9fb7-856f50a10faa">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="7efc572b-04a6-44b3-b53a-6f11d0734c88" LeftValue="count(V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Ownership'])" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'1'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="3106bb7d-f800-4431-86b9-1165962d1040" LeftValue="V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Ownership']/ACTOR_CODE" OpenGroup="false" Operator="NEQ" RelationalOperator="" RightValue="''" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="Implementation - Is Implementation Verification Required" Entity="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="Implementation - Is Implementation Verification Required" RowIdentifier="PK_ID" RuleId="a1aa266c-3b2b-44c3-a53d-e4b96f241446">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="703d89c2-b851-425c-bd67-9f65486edfdf" LeftValue="IMPL_VERIFICATION_APP_REQ" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'true'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="83eadf73-7fc3-4e6c-8a66-4bf469acb17d" LeftValue="EFFECT_PLANNING_REQ" OpenGroup="true" Operator="EQ" RelationalOperator="Or" RightValue="'true'" />
            <Conditions ChildRowsModifier="All" CloseGroup="true" ConditionId="f23df0f9-9ced-4368-9427-7cb73e836739" LeftValue="count(../V_SS_CAPA-V_SS_CAPA_ACTION[ACTION_TYPE='Action Plan'])" OpenGroup="false" Operator="GT" RelationalOperator="" RightValue="'0'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="If Perform Initial Risk Assessment is Yes and Initial Risk Assessment is not available" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="false" Message="" Name="If Perform Initial Risk Assessment is Yes and Initial Risk Assessment is not available" RowIdentifier="PK_ID" RuleId="4acfe83d-34e1-44e6-b42d-ddd20e87c117">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="47ccde28-a0ab-41c8-bec4-c51faf593ee2" LeftValue="V_SS_CAPA-V_SS_CAPA_POLICY/INITIAL_RISK_ASSMNT_REQ" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'true'" />
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="88a6fafa-36c1-4689-8bd8-2340947d3805" LeftValue="count(V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE = 'Initial'])" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'0'" />
          </RuleConditions>
        </Rule>
        <Rule ChildRowsModifier="" Description="" Entity="V_SS_CAPA" FieldIdentifier="" FilterData="" IsTemplateRule="true" Message="" Name="Waiting for Closure Rule" RowIdentifier="PK_ID" RuleId="657271fd-8e51-40c7-9a22-36e2a1f11f0e">
          <RuleConditions>
            <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="4c44cc28-231a-4097-9eca-8f7f547962bb" LeftValue="GetBlockingWorkflowCount(PK_ID, 'tbpWaitingforClosure')" OpenGroup="false" Operator="GT" RelationalOperator="" RightValue="'0'" />
          </RuleConditions>
        </Rule>
      </RuleDefinitions>
      <StartNodeData Category="Start" DroppedToDiagram="true" Figure="Circle" HasErrors="true" Key="sswDueDateExtensionStart2" Location="704.09375 -180" SubGraphKey="swDueDateExtension" Text="Start" />
      <StartNodeData Category="Start" DroppedToDiagram="true" Figure="Circle" HasErrors="true" Key="sStart" Location="360 -540" SubGraphKey="" Text="Start" />
      <StartNodeData Category="Start" DroppedToDiagram="true" Figure="Circle" HasErrors="true" Key="sswAdHocTaskSubWorkflowsswSubWorkflowStart" Location="654.5 2622.5" SubGraphKey="swAdHocTaskSubWorkflow" Text="Start" />
      <SubWorkflowNodeData Category="SubWorkflow" DroppedToDiagram="true" Figure="Square" IsSubGraph="true" Key="swDueDateExtension" Location="780 80" RestartSubWorkflow="false" Text="Due Date Extension">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      </SubWorkflowNodeData>
      <SubWorkflowNodeData Category="SubWorkflow" DroppedToDiagram="true" Figure="Square" IsSubGraph="true" Key="swAdHocTaskSubWorkflow" Location="720 2760" RestartSubWorkflow="false" Text="AdHoc Task SubWorkflow">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      </SubWorkflowNodeData>
      <SystemFormNodeData Category="SystemForm" Description="Initiate task" DroppedToDiagram="true" Figure="Square" FormName="CAPA_INITIATION" GoToStep="Verify CAPA Initiation" GoToStepKey="tVerifyCAPAInitiation" GoToStepType="Step" Key="SystemForm" Location="65 -421.25" RequiresSignature="false" SkipConfirmation="true" SortOrder="" SubGraphKey="ipSystemForms" Text="Initiate CAPA">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="Action_f8496b18-1ae1-4092-9453-65a9ab39b140" Name="Update default values" SuccessfulMessage="97040" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="d56115e9-1d27-42d1-b741-3886563aae07" Name="INITIATED_BY_CODE" Type="String">GetCurrentUserInfo('ActorCode')</Param>
              <Param Id="9fb0b143-3117-4056-b8d0-bff09d72d706" Name="INITIATION_DATE" Type="String">GetDate('Today')</Param>
              <Param Id="8203ff6f-93be-4daf-8fc7-a10112661fc9" Name="STATUS" Type="String">'INWORKS'</Param>
              <Param Id="d5b0d2f0-9601-4e17-a270-30a8a835c0ed" Name="INITIATING_SITE_CODE" Type="String">OWNING_SITE_CODE</Param>
              <Param Id="42e64e65-50d4-4c60-9e76-ec29e75c0d6e" Name="COORDINATOR_CODE" Type="String">GetCurrentUserInfo('ActorCode')</Param>
              <Param Id="48af84d0-a500-4757-9e5e-300159c3c71f" Name="COORDINATOR_ROLE_CODE" Type="String">GetCurrentUserInfo('RoleCode')</Param>
              <Param Id="937ef715-f28b-4a40-87b2-a60c9b26ccea" Name="CAPA_OWNER_CODE" Type="String">GetCurrentUserInfo('ActorCode')</Param>
              <Param Id="2b55f5e0-152d-4234-a4f3-a4655dab417a" Name="OWNER_ROLE_CODE" Type="String">GetCurrentUserInfo('RoleCode')</Param>
            </Params>
          </Action>
        </ExitActions>
      </SystemFormNodeData>
      <SystemTaskContainerNodeData Category="SystemTasks" DroppedToDiagram="true" Figure="Square" IsSubGraph="true" Key="stsswDueDateExtensionSystemTasks2" Location="893.40625 -130" SubGraphKey="swDueDateExtension" Text="Task Library" />
      <SystemTaskContainerNodeData Category="SystemTasks" DroppedToDiagram="true" Figure="Square" IsSubGraph="true" Key="SystemTasks" Location="794.5 2622.5" SubGraphKey="swAdHocTaskSubWorkflow" Text="Task Library" />
      <SystemTaskContainerNodeData Category="SystemTasks" DroppedToDiagram="true" Figure="Square" IsSubGraph="true" Key="stsSystemTasks" Location="400 -280" SubGraphKey="" Text="Task Library" />
      <SystemTaskNodeData Category="SystemTask" DroppedToDiagram="true" Figure="Square" FormName="" Key="stVoidDueDate" Location="893.40625 -130" SubGraphKey="stsswDueDateExtensionSystemTasks2" Text="Void Due Date">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action CreationMode="Temp" Id="Action_4f08daf3-1fcd-475a-96f9-3e5cabb6c521" Name="Abort Due Date Extension Workflow" SuccessfulMessage="" Type="Generic" Xml="&lt;Rule Type=&quot;Decision&quot; Name=&quot;Void Due Date Extension&quot; FailureMessageId=&quot;86200&quot; Id=&quot;Rule_3234c0d8-7577-4ca3-b47d-601ffeddee49&quot;&gt;&#xD; &lt;Conditions&gt;&lt;/Conditions&gt;&#xD; &lt;Actions&gt;&#xD;  &lt;Action Type=&quot;ABORTWORKFLOW&quot; ContextNode=&quot;&quot; SuccessMessageId=&quot;Abort Phase&quot; Name=&quot;Void Due Date Extension&quot; Id=&quot;Action_7fec829f-607f-48cd-a126-f943fa1267b6&quot;&gt;&#xD;   &lt;Params&gt;&lt;/Params&gt;&#xD;  &lt;/Action&gt;&#xD; &lt;/Actions&gt;&#xD;&lt;/Rule&gt;" xsi:type="GenericAction">
            <Params />
          </Action>
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="Action_a02cb2cf-d829-4857-ae07-b245b525c775" Name="Update Action Due Date in Process" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="dd65b3e6-9fd9-4a22-8441-6180f4670611" Name="CAPA_ISDUEDTEXT_INPROCESS" Type="String">'False'</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION" CreationMode="Temp" Id="Action_c4782686-d480-4678-838d-c1195199c121" Name="Update Action Is Request Complete" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="add0d6f3-db83-49f4-b113-518bdadcae11" Name="IS_EXT_REQUEST_COMPL" Type="String">'true'</Param>
            </Params>
          </Action>
        </ExitActions>
      </SystemTaskNodeData>
      <SystemTaskNodeData Category="SystemTask" DroppedToDiagram="true" Figure="Square" FormName="" Key="stAddInitialRiskAssessment" Location="542.5 -280" SubGraphKey="stsSystemTasks" Text="Add Initial Risk Assessment">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action CreationMode="Temp" Id="030a6b13-8417-48c8-8c97-d273e27ae6e6" Name="Add Initial Risk Assessment if Perform Initial Risk Assessment is Yes" Rule="If Perform Initial Risk Assessment is Yes and Initial Risk Assessment is not available" SuccessfulMessage="" Type="Generic" Xml="&lt;Actions&gt;&#xD;  &lt;Action Type=&quot;INSERTCHILDENTITIES&quot; Name=&quot;Add Risk Assessment&quot; ActionMode=&quot;PerRecord&quot; RowIdentifier=&quot;PK_ID&quot; RowIdentifierValue=&quot;&quot; ContextNode=&quot;V_SS_CAPA&quot; SuccessMessageId=&quot;&quot; Id=&quot;Action_ee1ff254-7855-4ca4-8c6a-726411d3303b&quot;&gt;&#xD;    &lt;Params&gt;&#xD;      &lt;Param Type=&quot;String&quot; Name=&quot;ParentContextNode&quot;&gt;'V_SS_CAPA'&lt;/Param&gt;&#xD;      &lt;Param Type=&quot;String&quot; Name=&quot;ChildEntity&quot;&gt;'V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT'&lt;/Param&gt;&#xD;      &lt;Param Type=&quot;FieldsToSet&quot; Name=&quot;FieldsToSet&quot;&gt;&#xD;        &lt;FieldsToSet&gt;&#xD;          &lt;DataMaps&gt;&#xD;            &lt;DataMap FieldName=&quot;IsExistingObject&quot;&gt;'false'&lt;/DataMap&gt;&#xD;            &lt;DataMap FieldName=&quot;RISK_ASSESSMENT_TYPE&quot;&gt;'Initial'&lt;/DataMap&gt;&#xD;          &lt;/DataMaps&gt;&#xD;        &lt;/FieldsToSet&gt;&#xD;      &lt;/Param&gt;&#xD;    &lt;/Params&gt;&#xD;  &lt;/Action&gt;&#xD;&lt;/Actions&gt;&#xD;" xsi:type="GenericAction">
            <Params />
          </Action>
        </ExitActions>
      </SystemTaskNodeData>
      <SystemTaskNodeData Category="SystemTask" DroppedToDiagram="true" Figure="Square" FormName="" Key="stVoidDueDateExtension" Location="257.5 -280" SubGraphKey="stsSystemTasks" Text="Void Due Date Extension">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action CreationMode="Temp" Id="Action_e6481ff8-b0c4-4435-9300-4f408f69211c" Name="Void Due Date Extension" Rule="Due Date Extension Exist?" SuccessfulMessage="" Type="Generic" Xml="&lt;Action Type=&quot;EvaluateStep&quot; Name=&quot;VoidDueDate&quot; ContextNode=&quot;&quot; SuccessMessageId=&quot;&quot; Id=&quot;Action_197983f7-1234-429f-afd9-a099d8f6b931&quot;&gt;&#xD;                      &lt;Params&gt;&#xD;                        &lt;Param Name=&quot;ContainerWorkflowKey&quot; Type=&quot;String&quot;&gt;'CAPAWORKFLOW'&lt;/Param&gt;&#xD;                        &lt;Param Name=&quot;WorkflowKey&quot; Type=&quot;String&quot;&gt;'Due Date Extension'&lt;/Param&gt;&#xD;                        &lt;Param Name=&quot;EntityTypeId&quot; Type=&quot;String&quot;&gt;'CAPA'&lt;/Param&gt;&#xD;                        &lt;Param Name=&quot;RecordId&quot; Type=&quot;String&quot;&gt;PK_ID&lt;/Param&gt;&#xD;                        &lt;Param Name=&quot;WorkflowInstanceId&quot; Type=&quot;String&quot;&gt;&lt;/Param&gt;&#xD;                        &lt;Param Name=&quot;StepId&quot; Type=&quot;String&quot;&gt;'stVoidDueDate'&lt;/Param&gt;&#xD;                        &lt;Param Name=&quot;Scope&quot; Type=&quot;String&quot;&gt;'SameContainerWorkFlow'&lt;/Param&gt;&#xD;                      &lt;/Params&gt;&#xD;                    &lt;/Action&gt;" xsi:type="GenericAction">
            <Params />
          </Action>
        </ExitActions>
      </SystemTaskNodeData>
      <SystemTaskNodeData Category="SystemTask" DroppedToDiagram="true" Figure="Square" FormName="" Key="stAssignAdhocTaskSystem" Location="327.5 -280" SubGraphKey="stsSystemTasks" Text="Assign Adhoc Task System">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action CreationMode="Temp" Id="Action_0d6d2a20-7b98-4478-83a0-55bdc5351b1d" Name="Initiate Adhoc SubWorkflow" Rule="Always True" SuccessfulMessage="" Type="Generic" Xml="                     &lt;Actions&gt;&#xD;                    &lt;Action Type=&quot;INITIATEWORKFLOW&quot; ContextNode=&quot;&quot; SuccessMessageId=&quot;97098&quot; Name=&quot;AdHoc Task SubWorkflow&quot; ApplyWhenRuleIsNotSuccessful=&quot;false&quot; Id=&quot;Action_c2b0d0a4-5496-43f9-ae6d-cd87add498b4&quot;&gt;&#xD;                      &lt;Params&gt;&#xD;                        &lt;Param Type=&quot;String&quot; Name=&quot;ContainerWorkflowKey&quot;&gt;'CAPAWORKFLOW'&lt;/Param&gt;&#xD;                        &lt;Param Type=&quot;String&quot; Name=&quot;WorkflowKey&quot;&gt;'AdHoc Task SubWorkflow'&lt;/Param&gt;&#xD;                        &lt;Param Type=&quot;String&quot; Name=&quot;IsBlocking&quot;&gt;'true'&lt;/Param&gt;&#xD;                        &lt;Param Type=&quot;String&quot; Name=&quot;BlockingStepId&quot;&gt;'tbpWaitingforClosure'&lt;/Param&gt;&#xD;                        &lt;Param Type=&quot;String&quot; Name=&quot;WorkflowType&quot;&gt;'SubWorkflow'&lt;/Param&gt;&#xD;                         &lt;Param Type=&quot;String&quot; Name=&quot;UseExistingSubWorkflowIfExist&quot;&gt;'true'&lt;/Param&gt;&#xD;                    &lt;/Params&gt;&#xD;                    &lt;/Action&gt;&#xD;                  &lt;/Actions&gt;" xsi:type="GenericAction">
            <Params />
          </Action>
        </ExitActions>
      </SystemTaskNodeData>
      <SystemTaskNodeData Category="SystemTask" DroppedToDiagram="true" Figure="Square" FormName="" Key="stSystemPolicyOnCreate" Location="472.5 -280" SubGraphKey="stsSystemTasks" Text="System Policy On Create">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action CreationMode="Temp" Id="6a9b90e3-94b7-40fa-884d-5043990388c9" Name="Transfer from CAPA Setup" Rule="Always True" SuccessfulMessage="" Type="TransferDataWithTwoLevelFiltering" Xml="&lt;Actions&gt;&#xD;  &lt;Action Type=&quot;TRANSFERDATAWITHTWOLEVELFILTERING&quot; Name=&quot;TransferDataWithTwoLevelFiltering&quot; ContextNode=&quot;V_SS_CAPA&quot; SuccessMessageId=&quot;&quot;&gt;&#xD;    &lt;Params&gt;&#xD;      &lt;!--&#xD;      EntityName           : The Entity Name of the Source Data from which to copy&#xD;      ParentFilterCriteria : Filters the Parent level of the Source Data&#xD;      TransferDataMapping  : Transfers the Child level of the Source Data&#xD;      --&gt;&#xD;      &lt;Param Type=&quot;String&quot; Name=&quot;EntityName&quot;&gt;'SS_CAPA_SETUP'&lt;/Param&gt;&#xD;      &lt;Param Type=&quot;ParentFilterCriteria&quot; Name=&quot;ParentFilterCriteria&quot;&gt;&#xD;        &lt;!--&#xD;        Filters the Parent level of the Source Data.&#xD;        Allows multiple nested &lt;Criteria&gt;&lt;Criterion&gt; - each Criterion is appended to the filter.&#xD;            Field   : The field from the Source Data used in the filter&#xD;            {value} : A static value, or the field from the ContextNode Data used in the filter&#xD;        If the exact match doesn't result in records, we use ApplyToAllField to find records.&#xD;            ApplyToAllField : The field from the Source Data used in the filter if the above Field={value} returns null&#xD;            ApplyToAllValue : The static value used in the ApplyToAllField filter&#xD;        --&gt;&#xD;        &lt;FilterCriteria&gt;&#xD;          &lt;Criteria&gt;&#xD;            &lt;Criterion Type=&quot;String&quot; Field=&quot;CAPA_TYPE&quot; ApplyToAllField=&quot;&quot; ApplyToAllValue=&quot;&quot;&gt;CAPA_TYPE&lt;/Criterion&gt;&#xD;            &lt;Criteria&gt;&#xD;                 &lt;Criterion Type=&quot;String&quot; Field=&quot;CAPA_SOURCE&quot; ApplyToAllField=&quot;APPLY_TO_ALL_CAPA_SOURCE&quot; ApplyToAllValue=&quot;true&quot;&gt;CAPA_SOURCE&lt;/Criterion&gt;&#xD;              &lt;Criteria&gt;&#xD;                 &lt;Criterion Type=&quot;String&quot; Field=&quot;OWNING_SITE_CODE&quot; ApplyToAllField=&quot;APPLY_TO_ALL_OWNING_SITE&quot; ApplyToAllValue=&quot;true&quot;&gt;OWNING_SITE_CODE&lt;/Criterion&gt;&#xD;              &lt;/Criteria&gt;&#xD;            &lt;/Criteria&gt;&#xD;          &lt;/Criteria&gt;&#xD;        &lt;/FilterCriteria&gt;&#xD;      &lt;/Param&gt;&#xD;      &lt;Param Type=&quot;TransferDataMapping&quot; Name=&quot;TransferDataMapping&quot;&gt;&#xD;        &lt;!--&#xD;        Transfers the Child level of the Source Data.&#xD;        Allows multiple nested &lt;DataMaps&gt;&lt;DataMap&gt;.&#xD;            SourceEntity : The view of the Source Data from which to copy&#xD;                           Can contain multiple field=value qualifying conditions separated by and/or where:&#xD;                               field        : The field from the Source Data used in the filter&#xD;                               value        : A static value, or the full path to a field starting at the ContextNode's parent (starting with &quot;//&quot;)&#xD;            TargetEntity : The view of the Destination Data of which to populate&#xD;            TargetXPath  : The field of the Destination Data of which to populate&#xD;            {value}      : The field from the Source Data used to populate the TargetXPath&#xD;        --&gt;&#xD;        &lt;TransferData SourceEntity=&quot;V_SS_CAPA_SETUP&quot; TargetEntity=&quot;V_SS_CAPA&quot;&gt;&#xD;          &lt;DataMaps&gt;&#xD;            &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;TEAM_CODE&quot;&gt;TEAM_CODE&lt;/DataMap&gt;&#xD;            &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;TEAM_NAME&quot;&gt;TEAM_NAME&lt;/DataMap&gt;&#xD;            &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;NUMBERING_SCHEME_CODE&quot;&gt;NUMBERING_SCHEME_CODE&lt;/DataMap&gt;&#xD;            &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;NUMBERING_SCHEME_NAME&quot;&gt;NUMBERING_SCHEME_NAME&lt;/DataMap&gt;&#xD;            &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;IS_TRANSFERRED_FROM_SETUP&quot;&gt;&quot;true&quot;&lt;/DataMap&gt;&#xD;            &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;SETUP_CODE&quot;&gt;CODE&lt;/DataMap&gt;&#xD;            &lt;DataMaps SourceEntity=&quot;&quot; TargetEntity=&quot;V_SS_CAPA-V_SS_CAPA_POLICY&quot;&gt;&#xD;              &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;FMD_NEW_EVAL&quot;&gt;FMD_NEW_EVAL&lt;/DataMap&gt;&#xD;              &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;INITIAL_RISK_ASSMNT_REQ&quot;&gt;INITIAL_RISK_ASSMNT_REQ&lt;/DataMap&gt;&#xD;              &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;FINAL_RISK_ASSMNT_REQ&quot;&gt;FINAL_RISK_ASSMNT_REQ&lt;/DataMap&gt;&#xD;              &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;INV_REQ&quot;&gt;INV_REQ&lt;/DataMap&gt;&#xD;              &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;INV_APP_REQ&quot;&gt;INV_APP_REQ&lt;/DataMap&gt;&#xD;              &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;ACT_PLN_VAL_REQ&quot;&gt;ACT_PLN_VAL_REQ&lt;/DataMap&gt;&#xD;              &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;ACT_PLN_APP_REQ&quot;&gt;ACT_PLN_APP_REQ&lt;/DataMap&gt;&#xD;              &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;EFFECT_PLANNING_REQ&quot;&gt;EFFECT_PLANNING_REQ&lt;/DataMap&gt;&#xD;              &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;IMPL_VERIFICATION_APP_REQ&quot;&gt;IMPL_VERIFICATION_APP_REQ&lt;/DataMap&gt;&#xD;              &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;INVEST_INTERVAL&quot;&gt;INVEST_INTERVAL&lt;/DataMap&gt;&#xD;              &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;PLAN_INTERVAL&quot;&gt;PLAN_INTERVAL&lt;/DataMap&gt;&#xD;              &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;IMPL_INTERVAL&quot;&gt;IMPL_INTERVAL&lt;/DataMap&gt;&#xD;              &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;CLOSURE_INTERVAL&quot;&gt;CLOSURE_INTERVAL&lt;/DataMap&gt;&#xD;            &lt;/DataMaps&gt;&#xD;          &lt;/DataMaps&gt;&#xD;        &lt;/TransferData&gt;&#xD;      &lt;/Param&gt;&#xD;    &lt;/Params&gt;&#xD;  &lt;/Action&gt;&#xD;&lt;/Actions&gt;" xsi:type="TransferDataWithTwoLevelFilteringAction">
            <Params />
          </Action>
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="a04b0b34-1ffe-4c8a-afbe-1c61967b022b" Name="Update default values for Extension and Reopen" RowIdentifier="PK_ID" Rule="" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="bceafe95-3ce2-44c0-a1fc-80c3beb4b133" Name="CAPA_ISDUEDTEXT_INPROCESS" Type="String">'false'</Param>
              <Param Id="9ccee28b-3d71-4008-a5e8-bbde00d940e3" Name="IS_CAPA_REOPENED" Type="String">'false'</Param>
              <Param Id="f2a456a7-56bd-4b15-a668-125aea99b761" Name="EXTENSION_COUNT" Type="String">'0'</Param>
              <Param Id="7ce3d7d7-31db-4480-94c8-d7e61ffaa6d4" Name="CAPA_REOPEN_COUNT" Type="String">'0'</Param>
            </Params>
          </Action>
        </ExitActions>
      </SystemTaskNodeData>
      <SystemTaskNodeData Category="SystemTask" DroppedToDiagram="true" Figure="Square" FormName="" Key="stEvaluateSetupPolicy" Location="405 -280" SubGraphKey="stsSystemTasks" Text="Evaluate Setup Policy">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="9df18e97-7703-439c-a390-50bc76d272eb" Name="Update Is Transferred from Setup to false (if no matching policy is available)" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="17bf924f-f3ff-449e-bb32-5561f30d04d7" Name="IS_TRANSFERRED_FROM_SETUP" Type="String">'false'</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM" Id="1673876f-f423-4d81-b32e-00542586418d" Name="Delete Team" Rule="Always True" SuccessfulMessage="" Type="DeleteChildEntity" xsi:type="DeleteChildEntityAction">
            <Params />
            <QualifyingConditions />
          </Action>
          <Action CreationMode="Temp" Id="d40ff425-5e25-44c5-a71c-214c80d348a7" Name="Transfer from CAPA Setup for Reevaluation" Rule="Always True" SuccessfulMessage="" Type="TransferDataWithTwoLevelFiltering" Xml="&lt;Actions&gt;&#xD;  &lt;Action Type=&quot;TRANSFERDATAWITHTWOLEVELFILTERING&quot; Name=&quot;TransferDataWithTwoLevelFiltering&quot; ContextNode=&quot;V_SS_CAPA&quot; SuccessMessageId=&quot;&quot;&gt;&#xD;    &lt;Params&gt;&#xD;      &lt;!--&#xD;      EntityName           : The Entity Name of the Source Data from which to copy&#xD;      ParentFilterCriteria : Filters the Parent level of the Source Data&#xD;      TransferDataMapping  : Transfers the Child level of the Source Data&#xD;      --&gt;&#xD;      &lt;Param Type=&quot;String&quot; Name=&quot;EntityName&quot;&gt;'SS_CAPA_SETUP'&lt;/Param&gt;&#xD;      &lt;Param Type=&quot;ParentFilterCriteria&quot; Name=&quot;ParentFilterCriteria&quot;&gt;&#xD;        &lt;!--&#xD;        Filters the Parent level of the Source Data.&#xD;        Allows multiple nested &lt;Criteria&gt;&lt;Criterion&gt; - each Criterion is appended to the filter.&#xD;            Field   : The field from the Source Data used in the filter&#xD;            {value} : A static value, or the field from the ContextNode Data used in the filter&#xD;        If the exact match doesn't result in records, we use ApplyToAllField to find records.&#xD;            ApplyToAllField : The field from the Source Data used in the filter if the above Field={value} returns null&#xD;            ApplyToAllValue : The static value used in the ApplyToAllField filter&#xD;        --&gt;&#xD;        &lt;FilterCriteria&gt;&#xD;          &lt;Criteria&gt;&#xD;            &lt;Criterion Type=&quot;String&quot; Field=&quot;CAPA_TYPE&quot; ApplyToAllField=&quot;&quot; ApplyToAllValue=&quot;&quot;&gt;CAPA_TYPE&lt;/Criterion&gt;&#xD;            &lt;Criteria&gt;&#xD;                 &lt;Criterion Type=&quot;String&quot; Field=&quot;CAPA_SOURCE&quot; ApplyToAllField=&quot;APPLY_TO_ALL_CAPA_SOURCE&quot; ApplyToAllValue=&quot;true&quot;&gt;CAPA_SOURCE&lt;/Criterion&gt;&#xD;              &lt;Criteria&gt;&#xD;                 &lt;Criterion Type=&quot;String&quot; Field=&quot;OWNING_SITE_CODE&quot; ApplyToAllField=&quot;APPLY_TO_ALL_OWNING_SITE&quot; ApplyToAllValue=&quot;true&quot;&gt;OWNING_SITE_CODE&lt;/Criterion&gt;&#xD;              &lt;/Criteria&gt;&#xD;            &lt;/Criteria&gt;&#xD;          &lt;/Criteria&gt;&#xD;        &lt;/FilterCriteria&gt;&#xD;      &lt;/Param&gt;&#xD;      &lt;Param Type=&quot;TransferDataMapping&quot; Name=&quot;TransferDataMapping&quot;&gt;&#xD;        &lt;!--&#xD;        Transfers the Child level of the Source Data.&#xD;        Allows multiple nested &lt;DataMaps&gt;&lt;DataMap&gt;.&#xD;            SourceEntity : The view of the Source Data from which to copy&#xD;                           Can contain multiple field=value qualifying conditions separated by and/or where:&#xD;                               field        : The field from the Source Data used in the filter&#xD;                               value        : A static value, or the full path to a field starting at the ContextNode's parent (starting with &quot;//&quot;)&#xD;            TargetEntity : The view of the Destination Data of which to populate&#xD;            TargetXPath  : The field of the Destination Data of which to populate&#xD;            {value}      : The field from the Source Data used to populate the TargetXPath&#xD;        --&gt;&#xD;        &lt;TransferData SourceEntity=&quot;V_SS_CAPA_SETUP&quot; TargetEntity=&quot;V_SS_CAPA&quot;&gt;&#xD;          &lt;DataMaps&gt;&#xD;            &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;TEAM_CODE&quot;&gt;TEAM_CODE&lt;/DataMap&gt;&#xD;            &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;TEAM_NAME&quot;&gt;TEAM_NAME&lt;/DataMap&gt;&#xD;            &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;IS_TRANSFERRED_FROM_SETUP&quot;&gt;&quot;true&quot;&lt;/DataMap&gt;&#xD;            &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;SETUP_CODE&quot;&gt;CODE&lt;/DataMap&gt;&#xD;            &lt;DataMaps SourceEntity=&quot;&quot; TargetEntity=&quot;V_SS_CAPA-V_SS_CAPA_POLICY&quot;&gt;&#xD;              &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;FMD_NEW_EVAL&quot;&gt;FMD_NEW_EVAL&lt;/DataMap&gt;&#xD;              &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;INITIAL_RISK_ASSMNT_REQ&quot;&gt;INITIAL_RISK_ASSMNT_REQ&lt;/DataMap&gt;&#xD;              &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;FINAL_RISK_ASSMNT_REQ&quot;&gt;FINAL_RISK_ASSMNT_REQ&lt;/DataMap&gt;&#xD;              &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;INV_REQ&quot;&gt;INV_REQ&lt;/DataMap&gt;&#xD;              &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;INV_APP_REQ&quot;&gt;INV_APP_REQ&lt;/DataMap&gt;&#xD;              &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;ACT_PLN_VAL_REQ&quot;&gt;ACT_PLN_VAL_REQ&lt;/DataMap&gt;&#xD;              &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;ACT_PLN_APP_REQ&quot;&gt;ACT_PLN_APP_REQ&lt;/DataMap&gt;&#xD;              &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;EFFECT_PLANNING_REQ&quot;&gt;EFFECT_PLANNING_REQ&lt;/DataMap&gt;&#xD;              &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;IMPL_VERIFICATION_APP_REQ&quot;&gt;IMPL_VERIFICATION_APP_REQ&lt;/DataMap&gt;&#xD;              &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;INVEST_INTERVAL&quot;&gt;INVEST_INTERVAL&lt;/DataMap&gt;&#xD;              &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;PLAN_INTERVAL&quot;&gt;PLAN_INTERVAL&lt;/DataMap&gt;&#xD;              &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;IMPL_INTERVAL&quot;&gt;IMPL_INTERVAL&lt;/DataMap&gt;&#xD;              &lt;DataMap Type=&quot;String&quot; TargetXPath=&quot;CLOSURE_INTERVAL&quot;&gt;CLOSURE_INTERVAL&lt;/DataMap&gt;&#xD;            &lt;/DataMaps&gt;&#xD;          &lt;/DataMaps&gt;&#xD;        &lt;/TransferData&gt;&#xD;      &lt;/Param&gt;&#xD;    &lt;/Params&gt;&#xD;  &lt;/Action&gt;&#xD;&lt;/Actions&gt;" xsi:type="TransferDataWithTwoLevelFilteringAction">
            <Params />
          </Action>
          <Action Id="1d6303df-c96a-41d1-a635-217bffede38f" MappingDataObject="GroupRole" MappingDataSource="SmartSolve Data" Name="Initialize Team for Reevaluation" SuccessfulMessage="" TargetContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM" Type="InitializeData" xsi:type="InitializeDataAction">
            <DataMaps>
              <DataMap Id="d8d6c76d-625d-4d8c-bb4c-afdc50c6985c" TargetXPath="MEMBER_TYPE" Type="String">GPR_MEMBER_TYPE</DataMap>
              <DataMap Id="c21545a9-b73b-4ecc-9f9b-1f473525f3ce" TargetXPath="MEMBER_TYPE_ROLE" Type="String">GPR_MEMBER_TYPE_ROLE</DataMap>
              <DataMap Id="9ce1edf6-64fb-4b8a-8394-934597288ef6" TargetXPath="MEMBER_TYPE_REQUIRED" Type="String">GPR_REQUIRED</DataMap>
              <DataMap Id="d32f97f0-ecbc-4464-9dbc-f4d1f88335da" TargetXPath="LEVEL_NO" Type="String">GLV_LEVEL</DataMap>
              <DataMap Id="1555e50b-cc02-4af7-b29d-e8753b13eea6" TargetXPath="ROLE_CODE" Type="String">GPR_ROL_CODE</DataMap>
              <DataMap Id="259fce17-0ec9-4ba2-8a36-385b0e45cd01" TargetXPath="ACTOR_CODE" Type="String">GPR_PREFERRED_ACT_CODE</DataMap>
            </DataMaps>
            <Params />
            <QualifyingConditions>
              <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="ae1f5f48-9578-44aa-b13e-315a5935aa4c" LeftValue="GPR_GRP_CODE" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="TEAM_CODE" />
            </QualifyingConditions>
          </Action>
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="16d2b799-2126-43d9-982a-f84f806a5885" Name="Update Is Setup Policy Changed to Re-evaluate to false" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="e05303a0-c89c-437f-9bd8-b0099bcf6676" Name="IS_SETUP_POLICY_CHANGED" Type="String">'false'</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT" Id="55a53d41-1787-4276-afcd-a24a79e4db77" Name="Delete Initial Risk Assessment if Perform Risk Assessment is No" Rule="" SuccessfulMessage="" Type="DeleteChildEntity" xsi:type="DeleteChildEntityAction">
            <Params />
            <QualifyingConditions>
              <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="58ade381-9d5d-4913-9055-b8ca44289d28" LeftValue="RISK_ASSESSMENT_TYPE" OpenGroup="false" Operator="EQ" RelationalOperator="And" RightValue="'Initial'" />
              <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="3096e5f8-3aa3-482d-bea3-d0102c6cf95c" LeftValue="../V_SS_CAPA-V_SS_CAPA_POLICY/INITIAL_RISK_ASSMNT_REQ" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="'false'" />
            </QualifyingConditions>
          </Action>
          <Action ContainerWorkflowKey="CAPAWORKFLOW" Id="fa8e0ab0-0c70-45fa-9760-f13c675a69b3" Name="Add Initial Risk Assessment if Perform Initial Risk Assessment is Yes for Reevaluation" RecordId="PK_ID" Rule="" Scope="SameWorkFlow" SuccessfulMessage="" SystemTaskNodeDataId="stAddInitialRiskAssessment" SystemTaskWorkflowKey="CAPAWORKFLOW" Type="EvaluateSystemTask" xsi:type="EvaluateSystemTaskAction">
            <Params />
          </Action>
        </ExitActions>
      </SystemTaskNodeData>
      <TaskNodeData AllowedTime="" AllowedTimeSiteCode="" AllowedTimeUnit="" AllowOtherUsersWithSameRoleToSignOff="true" Category="Task" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTIVITY" DroppedToDiagram="true" DueDate="DUE_DATE" DynamicFormName="" DynamicTaskName="TASK_NAME" EscalateToOwner="true" ExecuteInPortal="" FieldToBeSetWithStepID="" Figure="Square" FormName="CAPA_GENERALTASK_FORM" IsApproverTask="false" Key="tAdhoc" Level="'1'" Location="654.5 2762.5" NotifyOwner="true" NotifyOwnerWithEscalationCode="CAPA_ADHOC" Owner="ASSIGNED_ACT_CODE" OwnerRole="ASSIGNED_ROLE_CODE" PerUniqueUsers="false" QualifyingCondition="C_TASK_ID='' and ACTIVITY_TYPE='tAdhoc'" SignatureRequired="true" SkipConfirmation="false" SubGraphKey="pAdhocTaskPhase" TaskCreationMode="Dynamic" Text="Adhoc">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="" CreationMode="Temp" FormName="" Id="Action_41c6b6c8-0fa5-4562-8aa4-63677d449d0c" IsSetupMeeting="false" Name="" QualifyingCondition="" Rule="" SuccessfulMessage="" Type="NotifyOwner" xsi:type="NotifyOwnerAction">
            <Params>
              <Param Name="To">//PhaseStepBeingEvaluated/StepBeingEvaluated/Owner</Param>
              <Param Name="Cc" />
              <Param Name="Bcc" />
              <Param Name="Subject">$Param$StepName$Param$ for $GRC_RECORD_NUMBER$ has been assigned to you.</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">#lt;#br#gt;#</Param>
              <Param Name="AppendTaskLink">false</Param>
              <Param Name="AppendRecordLink">false</Param>
            </Params>
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTIVITY" CreationMode="Temp" Id="Action_f9ce7aa2-969e-477a-8871-2aa7641e0f40" Name="Update Current Record Status" QualifyingCondition="C_TASK_ID=//PhaseStepBeingEvaluated/StepBeingEvaluated/TaskId" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="ac7e8dfe-9b40-4178-8502-95550588f005" Name="RECORD_STATUS" Type="String">'COMPLETED'</Param>
              <Param Id="96cb05ab-51af-450f-bf82-83e6e16f44d5" Name="COMPLETED_BY_CODE" Type="String">GetCurrentUserInfo('ActorCode')</Param>
              <Param Id="1c6685fe-137c-4157-998a-a99bd77cd45d" Name="COMPLETED_DATE" Type="String">GetDateIgnoreTime('Today')</Param>
            </Params>
          </Action>
        </ExitActions>
      </TaskNodeData>
      <TaskNodeData AllowedTime="" AllowedTimeSiteCode="" AllowedTimeUnit="" AllowOtherUsersWithSameRoleToSignOff="true" Category="Task" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM" Description="Verify CAPA Completion task" DroppedToDiagram="true" DueDate="../V_SS_CAPA-V_SS_CAPA_POLICY/CLOSURE_DUE_DATE" DynamicFormName="" DynamicTaskName="" EscalateToOwner="true" ExecuteInPortal="" FieldToBeSetWithStepID="" Figure="Square" FormName="CAPA_COMPLETION_REVIEW" IsApproverTask="false" Key="tVerifyCAPACompletion" Level="'1'" Location="40 2080" NotifyOwner="true" NotifyOwnerWithEscalationCode="CAPA_NOT_CLOS" Owner="ACTOR_CODE" OwnerRole="ROLE_CODE" PerUniqueUsers="false" QualifyingCondition="MEMBER_TYPE='Completion Review'" SignatureRequired="true" SkipConfirmation="false" SubGraphKey="pCompletionReview" TaskCreationMode="Dynamic" Text="Verify CAPA Completion">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="" CreationMode="Temp" FormName="" Id="Action_7c05ea8a-7bec-4f26-9cf4-e864dee2706b" IsSetupMeeting="false" Name="" QualifyingCondition="" Rule="" SuccessfulMessage="" Type="NotifyOwner" xsi:type="NotifyOwnerAction">
            <Params>
              <Param Name="To">//PhaseStepBeingEvaluated/StepBeingEvaluated/Owner</Param>
              <Param Name="Cc" />
              <Param Name="Bcc" />
              <Param Name="Subject">Completion Review for CAPA: $../RECORD_NUMBER$ has been assigned to you.</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">#lt;#br#gt;#</Param>
              <Param Name="AppendTaskLink">true</Param>
              <Param Name="AppendRecordLink">false</Param>
            </Params>
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action CreationMode="Temp" Id="Action_7771a60d-b773-4554-99d4-0bbc866005ea" Name="Evaluate Void Due Date Extension step in subworkflow" Rule="Completion Review - Due Date needs Approval" SuccessfulMessage="" Type="Generic" Xml="&lt;Actions&gt;&#xD; &lt;Action Type=&quot;EvaluateStep&quot; Name=&quot;VoidDueDate&quot; ContextNode=&quot;&quot; SuccessMessageId=&quot;&quot; Id=&quot;Action_be9486c8-fe6e-4696-b7dd-17d2b14fd5e3&quot;&gt;&#xD;  &lt;Params&gt;&#xD;   &lt;Param Name=&quot;ContainerWorkflowKey&quot; Type=&quot;String&quot;&gt;'CAPAWORKFLOW'&lt;/Param&gt;&#xD;   &lt;Param Name=&quot;WorkflowKey&quot; Type=&quot;String&quot;&gt;'Due Date Extension'&lt;/Param&gt;&#xD;   &lt;Param Name=&quot;EntityTypeId&quot; Type=&quot;String&quot;&gt;'CAPA'&lt;/Param&gt;&#xD;   &lt;Param Name=&quot;RecordId&quot; Type=&quot;String&quot;&gt;PK_ID&lt;/Param&gt;&#xD;   &lt;Param Name=&quot;WorkflowInstanceId&quot; Type=&quot;String&quot;&gt;&lt;/Param&gt;&#xD;   &lt;Param Name=&quot;StepId&quot; Type=&quot;String&quot;&gt;'stVoidDueDate'&lt;/Param&gt;&#xD;   &lt;Param Name=&quot;Scope&quot; Type=&quot;String&quot;&gt;'SameContainerWorkFlow'&lt;/Param&gt;&#xD;  &lt;/Params&gt;&#xD; &lt;/Action&gt;&#xD;&lt;/Actions&gt;" xsi:type="GenericAction">
            <Params />
          </Action>
        </ExitActions>
      </TaskNodeData>
      <TaskNodeData AllowedTime="" AllowedTimeSiteCode="" AllowedTimeUnit="" AllowOtherUsersWithSameRoleToSignOff="true" Category="Task" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM" Description="Verify CAPA Effectiveness task" DroppedToDiagram="true" DueDate="../V_SS_CAPA-V_SS_CAPA_POLICY/VOE_DUE_DATE" DynamicFormName="" DynamicTaskName="" EscalateToOwner="true" ExecuteInPortal="" FieldToBeSetWithStepID="" Figure="Square" FormName="CAPA_EFFECTIVENESS_REVIEW" IsApproverTask="false" Key="tVerifyCAPAEffectiveness" Level="'1'" Location="440 2300" NotifyOwner="true" NotifyOwnerWithEscalationCode="CAPA_NOT_VER_EFF" Owner="ACTOR_CODE" OwnerRole="ROLE_CODE" PerUniqueUsers="false" QualifyingCondition="MEMBER_TYPE='Effectiveness Review'" SignatureRequired="true" SkipConfirmation="false" SubGraphKey="pEffectivenessReview" TaskCreationMode="Dynamic" Text="Verify CAPA Effectiveness">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="d4b1e0f1-3d65-4a1a-8581-2ae1b481e766" Name="Reset Is CAPA Effective Flag" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="6452641b-110f-49a0-b383-c8688e5ecae2" Name="IS_CAPA_JUDGED_EFFECTIVE" Type="String">''</Param>
            </Params>
          </Action>
          <Action ContextNode="" CreationMode="Temp" FormName="" Id="Action_9c7facbb-a8fa-4be6-aad1-fac21060af34" IsSetupMeeting="false" Name="" QualifyingCondition="" Rule="" SuccessfulMessage="" Type="NotifyOwner" xsi:type="NotifyOwnerAction">
            <Params>
              <Param Name="To">//PhaseStepBeingEvaluated/StepBeingEvaluated/Owner</Param>
              <Param Name="Cc" />
              <Param Name="Bcc" />
              <Param Name="Subject">$Param$StepName$Param$ for $GRC_RECORD_NUMBER$ has been assigned to you.</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">#lt;#br#gt;#</Param>
              <Param Name="AppendTaskLink">true</Param>
              <Param Name="AppendRecordLink">false</Param>
            </Params>
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action CreationMode="Complete" Id="Action_d460895a-157e-4d50-bc69-af33b85e8f47" Name="Validation" Rule="Completion Review - Effectiveness Review Due Date cannot be lesss than today" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
            <Params />
          </Action>
        </ExitActions>
      </TaskNodeData>
      <TaskNodeData AllowedTime="" AllowedTimeSiteCode="" AllowedTimeUnit="" AllowOtherUsersWithSameRoleToSignOff="true" Category="Task" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM" Description="Approve Action Plan task" DroppedToDiagram="true" DueDate="../V_SS_CAPA-V_SS_CAPA_POLICY/PLAN_DUE_DATE" DynamicFormName="" DynamicTaskName="" EscalateToOwner="true" ExecuteInPortal="" FieldToBeSetWithStepID="" Figure="BpmnTaskUser" FormName="CAPA_PLANNING_APPROVAL" IsApproverTask="true" Key="tApproveActionPlans" Level="'1'" Location="300 1280" NotifyOwner="true" NotifyOwnerWithEscalationCode="CAPA_NOT_ACT_PLN_APR" Owner="ACTOR_CODE" OwnerRole="ROLE_CODE" PerUniqueUsers="false" QualifyingCondition="MEMBER_TYPE='Action Plan Approval'" SignatureRequired="true" SkipConfirmation="false" SubGraphKey="ApprovalLevel 5" TaskCreationMode="Dynamic" Text="Approve Action Plans">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="" CreationMode="Temp" FormName="" Id="f0544681-2c8b-4600-9eec-f27020deb717" IsSetupMeeting="false" Name="" QualifyingCondition="" Rule="" SuccessfulMessage="" Type="NotifyOwner" xsi:type="NotifyOwnerAction">
            <Params>
              <Param Name="To">//PhaseStepBeingEvaluated/StepBeingEvaluated/Owner</Param>
              <Param Name="Cc" />
              <Param Name="Bcc" />
              <Param Name="Subject">$Param$StepName$Param$ for $GRC_RECORD_NUMBER$ has been assigned to you.</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">#lt;#br#gt;#</Param>
              <Param Name="AppendTaskLink">true</Param>
              <Param Name="AppendRecordLink">false</Param>
            </Params>
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action CreationMode="Temp" FormName="" Id="11bdd192-f8f3-4678-986d-066133ea14d6" IsSetupMeeting="false" Name="Notification Action Plan Reject" Rule="Notification - Reject" SuccessfulMessage="" Type="Notification" xsi:type="NotificationAction">
            <Params>
              <Param Name="To">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Development']/ACTOR_CODE</Param>
              <Param Name="Cc">COORDINATOR_CODE</Param>
              <Param Name="Bcc" />
              <Param Name="Subject">Action Plans for $RECORD_NUMBER$ have been rejected</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">
                Action Plans for $RECORD_NUMBER$ have been rejected.
                #lt;#br#gt;#
                #lt;#br#gt;#
                Rejection Comment:
                $V_ENU_NONPERSIS_USER_DATA/ENU_COMMENT$
                #lt;#br#gt;#
                #lt;#br#gt;#
                CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)
              </Param>
              <Param Name="AppendTaskLink">false</Param>
              <Param Name="AppendRecordLink">true</Param>
            </Params>
          </Action>
        </ExitActions>
      </TaskNodeData>
      <TaskNodeData AllowedTime="" AllowedTimeSiteCode="" AllowedTimeUnit="" AllowOtherUsersWithSameRoleToSignOff="true" Category="Task" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM" Description="Verify/Validate CAPA Action Plan task" DroppedToDiagram="true" DueDate="../V_SS_CAPA-V_SS_CAPA_POLICY/PLAN_DUE_DATE" DynamicFormName="" DynamicTaskName="" EscalateToOwner="true" ExecuteInPortal="" FieldToBeSetWithStepID="" Figure="BpmnTaskUser" FormName="CAPA_ACT_PLAN_VERIFICATION" IsApproverTask="true" Key="tVerify/ValidateActionPlans" Level="'1'" Location="100 920" NotifyOwner="true" NotifyOwnerWithEscalationCode="CAPA_NOT_ACT_PLN_VER" Owner="ACTOR_CODE" OwnerRole="ROLE_CODE" PerUniqueUsers="false" QualifyingCondition="MEMBER_TYPE='Action Plan Verification/Validation'" SignatureRequired="true" SkipConfirmation="false" SubGraphKey="ApprovalLevel 3" TaskCreationMode="Dynamic" Text="Verify/Validate Action Plans">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="" CreationMode="Temp" FormName="" Id="9c9745ce-0793-40b5-ab38-8b065a20afe9" IsSetupMeeting="false" Name="" QualifyingCondition="" Rule="" SuccessfulMessage="" Type="NotifyOwner" xsi:type="NotifyOwnerAction">
            <Params>
              <Param Name="To">//PhaseStepBeingEvaluated/StepBeingEvaluated/Owner</Param>
              <Param Name="Cc" />
              <Param Name="Bcc" />
              <Param Name="Subject">$Param$StepName$Param$ for $GRC_RECORD_NUMBER$ has been assigned to you.</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">#lt;#br#gt;#</Param>
              <Param Name="AppendTaskLink">true</Param>
              <Param Name="AppendRecordLink">false</Param>
            </Params>
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action CreationMode="Temp" FormName="" Id="1b11c1c1-2f4a-471e-85c2-59b1828e8972" IsSetupMeeting="false" Name="Notification Action Verification Reject" Rule="Act Pln Verification - Failed" SuccessfulMessage="" Type="Notification" xsi:type="NotificationAction">
            <Params>
              <Param Name="To">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Verification/Validation']/ACTOR_CODE</Param>
              <Param Name="Cc">COORDINATOR_CODE</Param>
              <Param Name="Bcc" />
              <Param Name="Subject">Action Plan Verification/Validation for $RECORD_NUMBER$ has been rejected</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">
                Action Plan Verification/Validation for $RECORD_NUMBER$ has been rejected.
                #lt;#br#gt;#
                #lt;#br#gt;#
                Rejection Comment:$V_ENU_NONPERSIS_USER_DATA/ENU_COMMENT$
                #lt;#br#gt;#
                #lt;#br#gt;#
                CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)
              </Param>
              <Param Name="AppendTaskLink">false</Param>
              <Param Name="AppendRecordLink">true</Param>
            </Params>
          </Action>
          <Action CreationMode="Complete" Id="22287431-13e7-48af-ab88-2a97adaf3cf1" Name="Validation" Rule="Verify/Validate - Atleast one action plan must be marked as failed if applicable" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
            <Params />
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION" CreationMode="Temp" Id="bd472e7e-8e6d-4134-bfbc-9a323f3c212f" Name="Reset Action Plan Verify/Validate Information " QualifyingCondition="../PLAN_FAILED_TO_VERIFY!='true'" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="79a9ca25-aac4-48c2-88c6-84bd3d6ff028" Name="FAIL_TO_VERIFY" Type="String">'false'</Param>
              <Param Id="9a2679ba-80e4-4946-88df-62d563a51207" Name="VERIFICATION_NOTE" Type="String">''</Param>
              <Param Id="f5580e5b-935a-4050-8e4c-e2a520207b72" Name="VERIFICATION_RESULT" Type="String">'Pass'</Param>
            </Params>
          </Action>
        </ExitActions>
      </TaskNodeData>
      <TaskNodeData AllowedTime="" AllowedTimeSiteCode="" AllowedTimeUnit="" AllowOtherUsersWithSameRoleToSignOff="true" Category="Task" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM" Description="Develop Action Plan task" DroppedToDiagram="true" DueDate="../V_SS_CAPA-V_SS_CAPA_POLICY/PLAN_DUE_DATE" DynamicFormName="" DynamicTaskName="" EscalateToOwner="true" ExecuteInPortal="" FieldToBeSetWithStepID="" Figure="Square" FormName="CAPA_PLANNING" IsApproverTask="false" Key="tDevelopActionPlans" Level="'1'" Location="40 640" NotifyOwner="true" NotifyOwnerWithEscalationCode="CAPA_NOT_ACT_PLN" Owner="ACTOR_CODE" OwnerRole="ROLE_CODE" PerUniqueUsers="false" QualifyingCondition="MEMBER_TYPE='Action Plan Development'" SignatureRequired="true" SkipConfirmation="false" SubGraphKey="pPlanning" TaskCreationMode="Dynamic" Text="Develop Action Plans">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="" CreationMode="Temp" FormName="" Id="45ad0fca-96f5-4e6b-8274-3470551d0650" IsSetupMeeting="false" Name="" QualifyingCondition="" Rule="" SuccessfulMessage="" Type="NotifyOwner" xsi:type="NotifyOwnerAction">
            <Params>
              <Param Name="To">//PhaseStepBeingEvaluated/StepBeingEvaluated/Owner</Param>
              <Param Name="Cc" />
              <Param Name="Bcc" />
              <Param Name="Subject">$Param$StepName$Param$ for $GRC_RECORD_NUMBER$ has been assigned to you.</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">#lt;#br#gt;#</Param>
              <Param Name="AppendTaskLink">true</Param>
              <Param Name="AppendRecordLink">false</Param>
            </Params>
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action CreationMode="Complete" Id="4996f8e6-9e46-4a63-8935-d58026d690b3" Name="Validation" Rule="Planning- At least one action plan should be defined" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
            <Params />
          </Action>
          <Action CreationMode="Complete" Id="48272e22-5d83-49b3-bb9b-ee24cb9e01d6" Name="Validation" Rule="Planning - Assigned Role should match Assigned Actor" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
            <Params />
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION" CreationMode="Temp" Id="0fee8902-bfcc-492a-8f6d-ce2169c1448a" Name="Update Action Verification/Validation Information" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="e8798b94-2d65-422b-ad30-4caa56651cbc" Name="FAIL_TO_VERIFY" Type="String">'false'</Param>
              <Param Id="89e9dc1e-ea80-4c9e-9cf3-4baf4ba696eb" Name="VERIFICATION_NOTE" Type="String">''</Param>
              <Param Id="eec28c09-bb32-48de-ab7f-be61a0e3f70f" Name="VERIFICATION_RESULT" Type="String">''</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="efb578bd-4419-4eb0-9cfd-931274bef346" Name="Update CAPA Action Plan Verification Flag" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="2484e044-88df-4e5f-8410-185795af3a63" Name="PLAN_FAILED_TO_VERIFY" Type="String">''</Param>
            </Params>
          </Action>
        </ExitActions>
      </TaskNodeData>
      <TaskNodeData AllowedTime="" AllowedTimeSiteCode="" AllowedTimeUnit="" AllowOtherUsersWithSameRoleToSignOff="true" Category="Task" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM" Description="Approve CAPA Investigation task" DroppedToDiagram="true" DueDate="../V_SS_CAPA-V_SS_CAPA_POLICY/INVEST_DUE_DATE" DynamicFormName="" DynamicTaskName="" EscalateToOwner="true" ExecuteInPortal="" FieldToBeSetWithStepID="" Figure="BpmnTaskUser" FormName="CAPA_INVESTIGATION_APPROVAL" IsApproverTask="true" Key="tApproveCAPAInvestigation" Level="'1'" Location="380 300" NotifyOwner="true" NotifyOwnerWithEscalationCode="CAPA_NOT_INV_APR" Owner="ACTOR_CODE" OwnerRole="ROLE_CODE" PerUniqueUsers="false" QualifyingCondition="MEMBER_TYPE='Investigation Approval'" SignatureRequired="true" SkipConfirmation="false" SubGraphKey="alpInvestigationApprovalApprovalLevel" TaskCreationMode="Dynamic" Text="Approve CAPA Investigation">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="" CreationMode="Temp" FormName="" Id="Action_64836c6b-a1db-4c65-b4a6-3a85819be754" IsSetupMeeting="false" Name="" QualifyingCondition="" Rule="" SuccessfulMessage="" Type="NotifyOwner" xsi:type="NotifyOwnerAction">
            <Params>
              <Param Name="To">//PhaseStepBeingEvaluated/StepBeingEvaluated/Owner</Param>
              <Param Name="Cc" />
              <Param Name="Bcc" />
              <Param Name="Subject">Investigation approval for CAPA: $../RECORD_NUMBER$ has been assigned to you.</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">#lt;#br#gt;#</Param>
              <Param Name="AppendTaskLink">true</Param>
              <Param Name="AppendRecordLink">false</Param>
            </Params>
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action CreationMode="Temp" FormName="" Id="Action_0adef663-fc5c-4297-a95d-b831c6112e24" IsSetupMeeting="false" Name="Notification Action Reject" Rule="Notification - Reject" SuccessfulMessage="" Type="Notification" xsi:type="NotificationAction">
            <Params>
              <Param Name="To">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Investigation']/ACTOR_CODE</Param>
              <Param Name="Cc">COORDINATOR_CODE</Param>
              <Param Name="Bcc" />
              <Param Name="Subject">Investigation for $RECORD_NUMBER$ has been Rejected</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">Investigation for $RECORD_NUMBER$ has been Rejected.
#lt;#br#gt;#
#lt;#br#gt;#
                Rejection Comment:
                $V_ENU_NONPERSIS_USER_DATA/ENU_COMMENT$
#lt;#br#gt;#
#lt;#br#gt;#
                CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)</Param>
              <Param Name="AppendTaskLink">false</Param>
              <Param Name="AppendRecordLink">true</Param>
            </Params>
          </Action>
        </ExitActions>
      </TaskNodeData>
      <TaskNodeData AllowedTime="" AllowedTimeSiteCode="" AllowedTimeUnit="" AllowOtherUsersWithSameRoleToSignOff="true" Category="Task" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM" Description="Investigate CAPA task" DroppedToDiagram="true" DueDate="../V_SS_CAPA-V_SS_CAPA_POLICY/INVEST_DUE_DATE" DynamicFormName="" DynamicTaskName="" EscalateToOwner="true" ExecuteInPortal="../QUALITY_PORTAL_CAPA" FieldToBeSetWithStepID="" Figure="Square" FormName="CAPA_INVESTIGATION" IsApproverTask="false" Key="tInvestigateCAPA" Level="'1'" Location="300 -20" NotifyOwner="true" NotifyOwnerWithEscalationCode="CAPA_NOT_INV" Owner="ACTOR_CODE" OwnerRole="ROLE_CODE" PerUniqueUsers="false" QualifyingCondition="MEMBER_TYPE='Investigation'" SignatureRequired="true" SkipConfirmation="false" SubGraphKey="pInvestigation" TaskCreationMode="Dynamic" Text="Investigate CAPA">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="" CreationMode="Temp" FormName="" Id="Action_0225fb22-6da3-4d8d-852f-11a2ecf32da9" IsSetupMeeting="false" Name="" QualifyingCondition="" Rule="" SuccessfulMessage="" Type="NotifyOwner" xsi:type="NotifyOwnerAction">
            <Params>
              <Param Name="To">//PhaseStepBeingEvaluated/StepBeingEvaluated/Owner</Param>
              <Param Name="Cc" />
              <Param Name="Bcc" />
              <Param Name="Subject">Investigation for CAPA: $../RECORD_NUMBER$ has been assigned to you.</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">#lt;#br#gt;#</Param>
              <Param Name="AppendTaskLink">true</Param>
              <Param Name="AppendRecordLink">false</Param>
            </Params>
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action CreationMode="Complete" Id="Action_24827657-1ac3-475a-99cf-c6c0241bcaa2" Name="Validation" Rule="Investigation - At least one root cause is defined" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
            <Params />
          </Action>
          <Action CreationMode="Complete" Id="Action_5df8f09b-b7fd-4417-9950-aff6cda73126" Name="Validation" Rule="Investigation - Performed Date should be less than or equal to today's date" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
            <Params />
          </Action>
        </ExitActions>
      </TaskNodeData>
      <TaskNodeData AllowedTime="" AllowedTimeSiteCode="" AllowedTimeUnit="" AllowOtherUsersWithSameRoleToSignOff="true" Category="Task" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM" Description="Include Effectiveness Review Plan task" DroppedToDiagram="true" DueDate="../V_SS_CAPA-V_SS_CAPA_POLICY/IMPL_DUE_DATE" DynamicFormName="" DynamicTaskName="" EscalateToOwner="true" ExecuteInPortal="" FieldToBeSetWithStepID="" Figure="Square" FormName="CAPA_EFFECTIVENESS_PLANNING" IsApproverTask="false" Key="tIncludeEffectivenessReviewPlan" Level="'1'" Location="255.625 1638.125" NotifyOwner="true" NotifyOwnerWithEscalationCode="CAPA_NOT_INC_EFF_RVW_PLN" Owner="ACTOR_CODE" OwnerRole="ROLE_CODE" PerUniqueUsers="false" QualifyingCondition="MEMBER_TYPE='Effectiveness Review Plan' and //V_SS_CAPA /V_SS_CAPA-V_SS_CAPA_POLICY/EFFECT_PLANNING_REQ='true'" SignatureRequired="true" SkipConfirmation="false" SubGraphKey="pImplementation" TaskCreationMode="Dynamic" Text="Include Effectiveness Review Plan">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="" CreationMode="Temp" FormName="" Id="5e57f50c-d851-48a9-ac26-e8dc7626a2a0" IsSetupMeeting="false" Name="" QualifyingCondition="" Rule="" SuccessfulMessage="" Type="NotifyOwner" xsi:type="NotifyOwnerAction">
            <Params>
              <Param Name="To">//PhaseStepBeingEvaluated/StepBeingEvaluated/Owner</Param>
              <Param Name="Cc" />
              <Param Name="Bcc" />
              <Param Name="Subject">$Param$StepName$Param$ for $GRC_RECORD_NUMBER$ has been assigned to you.</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">#lt;#br#gt;#</Param>
              <Param Name="AppendTaskLink">true</Param>
              <Param Name="AppendRecordLink">false</Param>
            </Params>
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action CreationMode="Complete" Id="Action_3f5764ba-30b4-494d-9f2b-fe0e66c9367a" Name="Validation" Rule="Effectiveness Plan - At least one Effectiveness Review plan is defined." SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
            <Params />
          </Action>
        </ExitActions>
      </TaskNodeData>
      <TaskNodeData AllowedTime="" AllowedTimeSiteCode="" AllowedTimeUnit="" AllowOtherUsersWithSameRoleToSignOff="true" Category="Task" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION" Description="Implement Action Plan task" DroppedToDiagram="true" DueDate="DUE_DATE" DynamicFormName="" DynamicTaskName="" EscalateToOwner="true" ExecuteInPortal="../QUALITY_PORTAL_CAPA" FieldToBeSetWithStepID="" Figure="Square" FormName="CAPA_IMPLEMENTATION_ACTPLAN" IsApproverTask="false" Key="tImplementActionPlans" Level="'1'" Location="344.375 1641.875" NotifyOwner="true" NotifyOwnerWithEscalationCode="CAPA_NOT_IMP" Owner="ASSIGNED_ACT_CODE" OwnerRole="ASSIGNED_ROLE_CODE" PerUniqueUsers="true" QualifyingCondition="TRANSFERED_RECORD='Yes' and STATUS='No' and ACTION_TYPE='Action Plan'" SignatureRequired="true" SkipConfirmation="false" SubGraphKey="pImplementation" TaskCreationMode="Dynamic" Text="Implement Action Plans">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION" CreationMode="Temp" Id="7d396063-dfdf-4c1b-9420-6fda9a5cca8b" Name="Update Complete Action Phase" QualifyingCondition="(STATUS='Yes' or STATUS='Skipped') and SIGN_OFF_PHASE=''" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="9c662a3f-821d-4e62-a144-d7a2389cf147" Name="SIGN_OFF_PHASE" Type="String">'Implementation'</Param>
            </Params>
          </Action>
          <Action ContextNode="" CreationMode="Temp" FormName="" Id="Action_e654da83-0d0e-498e-8275-63c84cbcd07a" IsSetupMeeting="false" Name="" QualifyingCondition="" Rule="" SuccessfulMessage="" Type="NotifyOwner" xsi:type="NotifyOwnerAction">
            <Params>
              <Param Name="To">//PhaseStepBeingEvaluated/StepBeingEvaluated/Owner</Param>
              <Param Name="Cc" />
              <Param Name="Bcc" />
              <Param Name="Subject">Implementation for CAPA: $../RECORD_NUMBER$ has been assigned to you.</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">#lt;#br#gt;#</Param>
              <Param Name="AppendTaskLink">true</Param>
              <Param Name="AppendRecordLink">false</Param>
            </Params>
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action CreationMode="Complete" Id="Action_a97737ba-0055-4587-8696-7cbfc6a29cc4" Name="Validation" Rule="Implementation - All the action plans should be completed" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
            <Params />
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION" CreationMode="Temp" Id="ef8ad1f2-ba74-4d66-a538-fbbe5d935144" Name="Reset Requirement Fulfilled if Skipped" QualifyingCondition="STATUS != 'Yes'" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="62978b0f-3f89-4664-92b6-1eecc3f4047d" Name="REQUIREMENT_FULFILLED" Type="String">''</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION" CreationMode="Temp" Id="b8bdd612-63fd-4423-8af4-e0d06a306f99" Name="Update Sign-off Phase" QualifyingCondition="(STATUS='Yes' or STATUS='Skipped') and SIGN_OFF_PHASE=''" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="c589847d-e17b-4c04-8fc5-8b24986f5a33" Name="SIGN_OFF_PHASE" Type="String">'Implementation'</Param>
            </Params>
          </Action>
        </ExitActions>
      </TaskNodeData>
      <TaskNodeData AllowedTime="" AllowedTimeSiteCode="" AllowedTimeUnit="" AllowOtherUsersWithSameRoleToSignOff="true" Category="Task" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM" DroppedToDiagram="true" DueDate="" DynamicFormName="" DynamicTaskName="" EscalateToOwner="true" ExecuteInPortal="" FieldToBeSetWithStepID="" Figure="BpmnTaskUser" FormName="CAPA_DUE_DATE_EXTENSION_APPROVAL" IsApproverTask="true" Key="tApproveDueDateExtension" Level="'1'" Location="704.09375 -20" NotifyOwner="true" NotifyOwnerWithEscalationCode="CAPA_NOT_DUE_EXT" Owner="ACTOR_CODE" OwnerRole="ROLE_CODE" PerUniqueUsers="false" QualifyingCondition="MEMBER_TYPE='Due Date Extension Approval'" SignatureRequired="true" SkipConfirmation="false" SubGraphKey="ApprovalLevel" TaskCreationMode="Dynamic" Text="Approve Due Date Extension">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action CreationMode="Temp" FormName="" Id="Action_32a83415-9c7a-406d-b096-e46e8d3dcaa3" IsSetupMeeting="false" Name="Notification Action" Rule="If actor is NOT equal to CAPA Coordinator" SuccessfulMessage="" Type="Notification" xsi:type="NotificationAction">
            <Params>
              <Param Name="To">COORDINATOR_CODE</Param>
              <Param Name="Cc" />
              <Param Name="Bcc" />
              <Param Name="Subject">Due Date Extension has been requested for $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">Due Date Extension has been requested for $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$. #lt;#br#gt;#
#lt;#br#gt;#
New Due Date requested: $V_SS_CAPA-V_SS_CAPA_EXTENSION[WORKFLOW_ID=//WorkFlow/Id]/REVISED_DUEDATE,{0:MMM-dd-yyyy}$
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)</Param>
              <Param Name="AppendTaskLink">false</Param>
              <Param Name="AppendRecordLink">true</Param>
            </Params>
          </Action>
          <Action ContextNode="" CreationMode="Temp" FormName="" Id="Action_edc367a5-1611-4b41-b21a-1817a1c4fcc6" IsSetupMeeting="false" Name="" QualifyingCondition="" Rule="" SuccessfulMessage="" Type="NotifyOwner" xsi:type="NotifyOwnerAction">
            <Params>
              <Param Name="To">//PhaseStepBeingEvaluated/StepBeingEvaluated/Owner</Param>
              <Param Name="Cc" />
              <Param Name="Bcc" />
              <Param Name="Subject">$Param$StepName$Param$ for $GRC_RECORD_NUMBER$ has been assigned to you.</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">#lt;#br#gt;#</Param>
              <Param Name="AppendTaskLink">true</Param>
              <Param Name="AppendRecordLink">false</Param>
            </Params>
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      </TaskNodeData>
      <TaskNodeData AllowedTime="" AllowedTimeSiteCode="" AllowedTimeUnit="" AllowOtherUsersWithSameRoleToSignOff="true" Category="Task" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM" DroppedToDiagram="true" DueDate="../V_SS_CAPA-V_SS_CAPA_POLICY/IMPL_DUE_DATE" DynamicFormName="" DynamicTaskName="" EscalateToOwner="true" ExecuteInPortal="" FieldToBeSetWithStepID="" Figure="BpmnTaskUser" FormName="CAPA_IMPLEMENTATION_VERIFICATION" IsApproverTask="true" Key="tVerifyImplementation" Level="'1'" Location="500 1880" NotifyOwner="true" NotifyOwnerWithEscalationCode="CAPA_NOT_IMP_APR" Owner="ACTOR_CODE" OwnerRole="ROLE_CODE" PerUniqueUsers="false" QualifyingCondition="MEMBER_TYPE='Implementation Verification'" SignatureRequired="true" SkipConfirmation="false" SubGraphKey="alpImplementationVerificationApprovalLevel2" TaskCreationMode="Dynamic" Text="Verify Implementation">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="" CreationMode="Temp" FormName="" Id="Action_0277c667-db71-4465-a56d-b8de8e65fd41" IsSetupMeeting="false" Name="" QualifyingCondition="" Rule="" SuccessfulMessage="" Type="NotifyOwner" xsi:type="NotifyOwnerAction">
            <Params>
              <Param Name="To">//PhaseStepBeingEvaluated/StepBeingEvaluated/Owner</Param>
              <Param Name="Cc" />
              <Param Name="Bcc" />
              <Param Name="Subject">$Param$StepName$Param$ for $GRC_RECORD_NUMBER$ has been assigned to you.</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">#lt;#br#gt;#</Param>
              <Param Name="AppendTaskLink">true</Param>
              <Param Name="AppendRecordLink">false</Param>
            </Params>
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action CreationMode="Temp" Id="cfa36f6c-6bb2-4834-976d-50ee831f1bb7" Name="Evaluate Void Due Date Extension step in subworkflow" Rule="Implementation - Due Date needs Approval if Verify Implementation is Not Acceptable" SuccessfulMessage="" Type="Generic" Xml="&lt;Actions&gt;&#xD; &lt;Action Type=&quot;EvaluateStep&quot; Name=&quot;VoidDueDate&quot; ContextNode=&quot;&quot; SuccessMessageId=&quot;&quot; Id=&quot;Action_be9486c8-fe6e-4696-b7dd-17d2b14fd5e3&quot;&gt;&#xD;  &lt;Params&gt;&#xD;   &lt;Param Name=&quot;ContainerWorkflowKey&quot; Type=&quot;String&quot;&gt;'CAPAWORKFLOW'&lt;/Param&gt;&#xD;   &lt;Param Name=&quot;WorkflowKey&quot; Type=&quot;String&quot;&gt;'Due Date Extension'&lt;/Param&gt;&#xD;   &lt;Param Name=&quot;EntityTypeId&quot; Type=&quot;String&quot;&gt;'CAPA'&lt;/Param&gt;&#xD;   &lt;Param Name=&quot;RecordId&quot; Type=&quot;String&quot;&gt;PK_ID&lt;/Param&gt;&#xD;   &lt;Param Name=&quot;WorkflowInstanceId&quot; Type=&quot;String&quot;&gt;&lt;/Param&gt;&#xD;   &lt;Param Name=&quot;StepId&quot; Type=&quot;String&quot;&gt;'stVoidDueDate'&lt;/Param&gt;&#xD;   &lt;Param Name=&quot;Scope&quot; Type=&quot;String&quot;&gt;'SameContainerWorkFlow'&lt;/Param&gt;&#xD;  &lt;/Params&gt;&#xD; &lt;/Action&gt;&#xD;&lt;/Actions&gt;" xsi:type="GenericAction">
            <Params />
          </Action>
          <Action CreationMode="Temp" FormName="" Id="Action_6ef6a395-d40e-43fa-848b-1e42477c6f6c" IsSetupMeeting="false" Name="Notification Action Reject" Rule="Reject Implementation Verification - Notification" SuccessfulMessage="" Type="Notification" xsi:type="NotificationAction">
            <Params>
              <Param Name="To">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Development']/ACTOR_CODE</Param>
              <Param Name="Cc">V_SS_CAPA-V_SS_CAPA_ACTION[ACTION_TYPE='Action Plan']/ASSIGNED_ACT_CODE; COORDINATOR_CODE</Param>
              <Param Name="Bcc" />
              <Param Name="Subject">Implementation Verification for CAPA: $RECORD_NUMBER$ has been rejected</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">Implementation Verification for CAPA: $RECORD_NUMBER$ has been rejected.
#lt;#br#gt;#
#lt;#br#gt;#
Comment: $V_ENU_NONPERSIS_USER_DATA/ENU_COMMENT$
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)</Param>
              <Param Name="AppendTaskLink">false</Param>
              <Param Name="AppendRecordLink">true</Param>
            </Params>
          </Action>
        </ExitActions>
      </TaskNodeData>
      <TaskNodeData AllowedTime="" AllowedTimeSiteCode="" AllowedTimeUnit="" AllowOtherUsersWithSameRoleToSignOff="true" Category="Task" ContextNode="V_SS_CAPA" Description="Verify CAPA Initiation task" DroppedToDiagram="true" DueDate="" DynamicFormName="" DynamicTaskName="" EscalateToOwner="true" ExecuteInPortal="" FieldToBeSetWithStepID="" Figure="Square" FormName="CAPA_INITIATION_VERIFICATION" IsApproverTask="false" Key="tVerifyCAPAInitiation" Level="'1'" Location="100 -160" NotifyOwner="true" NotifyOwnerWithEscalationCode="CAPA_NOT_INIT" Owner="COORDINATOR_CODE" OwnerRole="COORDINATOR_ROLE_CODE" PerUniqueUsers="false" QualifyingCondition="" SignatureRequired="true" SkipConfirmation="false" SubGraphKey="pInitiationVerification" TaskCreationMode="Dynamic" Text="Verify CAPA Initiation">
        <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM" CreationMode="Temp" Id="cf3371e6-25da-446a-9d7a-601dee679154" Name="Update Coordinator in Team if reopened" QualifyingCondition="MEMBER_TYPE = &quot;Coordination&quot; and ACTOR_CODE != ../COORDINATOR_CODE" RowIdentifier="PK_ID" Rule="Is CAPA Reopened" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="b28d3f85-f2c1-4ff9-b9fe-f4d2df187386" Name="ACTOR_CODE" Type="String">../COORDINATOR_CODE</Param>
            </Params>
          </Action>
          <Action ContextNode="" CreationMode="Temp" FormName="" Id="08ad9860-d47a-40af-96e1-7e6f74be56b1" IsSetupMeeting="false" Name="" QualifyingCondition="" Rule="" SuccessfulMessage="" Type="NotifyOwner" xsi:type="NotifyOwnerAction">
            <Params>
              <Param Name="To">//PhaseStepBeingEvaluated/StepBeingEvaluated/Owner</Param>
              <Param Name="Cc" />
              <Param Name="Bcc" />
              <Param Name="Subject">$Param$StepName$Param$ for $GRC_RECORD_NUMBER$ has been assigned to you.</Param>
              <Param Name="StartDateTime" />
              <Param Name="EndDateTime" />
              <Param Name="Location" />
              <Param Name="Message">#lt;#br#gt;#</Param>
              <Param Name="AppendTaskLink">true</Param>
              <Param Name="AppendRecordLink">false</Param>
            </Params>
          </Action>
        </EntryActions>
        <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="Action_1229cbde-6fca-4690-91a4-cb6abf08a271" Name="Update Coordinator" RowIdentifier="PK_ID" Rule="Team Members - Is  Coordination defined" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="5cbc42aa-5c3c-4015-a534-959f67b24479" Name="COORDINATOR_CODE" Type="String">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Coordination']/ACTOR_CODE</Param>
              <Param Id="485e2220-e18d-415c-af23-2bc5b0600583" Name="COORDINATOR_ROLE_CODE" Type="String">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Coordination']/ROLE_CODE</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="Action_38f0a7ed-026e-42b3-94ce-98a9fb074463" Name="Update  Owner" RowIdentifier="PK_ID" Rule="Team Members - Is Ownership defined" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="38b1cea9-b171-4daf-8554-1ce6c1e9a79e" Name="CAPA_OWNER_CODE" Type="String">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Ownership']/ACTOR_CODE</Param>
              <Param Id="1045c48e-3c96-45f6-9d36-4b004bab5eb7" Name="OWNER_ROLE_CODE" Type="String">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Ownership']/ROLE_CODE</Param>
            </Params>
          </Action>
          <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="5dd6d2a3-6130-4d67-ae20-9f7d064ef25c" Name="Update Quality Portal User" RowIdentifier="PK_ID" Rule="Initiation Verification - Is Quality Portal User not Defined" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
            <Params>
              <Param Id="ba2995dc-0d75-4530-bd77-4146704699db" Name="QUALITY_PORTAL_CAPA" Type="String">'false'</Param>
            </Params>
          </Action>
          <Action CreationMode="Complete" Id="1720ee15-b278-4888-bba7-a70e5ff9bddc" Name="Validation" Rule="Team Members-Investigation task should be defined if Investigation is required" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
            <Params />
          </Action>
          <Action CreationMode="Complete" Id="dad3f92e-8bad-4f3f-b0db-b5e7317ced4d" Name="Validation" Rule="Team Members-Investigation Approval task should be defined if Approval is required" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
            <Params />
          </Action>
          <Action CreationMode="Complete" Id="c9f8dd2a-0aed-40b0-aeca-16ae582d54b6" Name="Validation" Rule="Team Members-Action Plan Development task should be defined" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
            <Params />
          </Action>
          <Action CreationMode="Complete" Id="b9a4933b-7b22-4670-b823-9c604c533e56" Name="Validation" Rule="Team Members-Action Plan Verification/Validation task should be defined if Verification/Validation is required" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
            <Params />
          </Action>
          <Action CreationMode="Complete" Id="18c7c5f3-e1f6-42ff-b74d-dba689b1eb2e" Name="Validation" Rule="Team Members-Action Plan Approval task should be defined if Action Plan Approval is required" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
            <Params />
          </Action>
          <Action CreationMode="Complete" Id="2c764704-d03d-4ff4-a590-12a512631c86" Name="Validation" Rule="Team Members-Effectiveness Review Plan task should be defined if Plan is required" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
            <Params />
          </Action>
          <Action CreationMode="Complete" Id="567dfd19-561b-4596-ae12-c1ce40534118" Name="Validation" Rule="Team Members-Implementation Verification task should be defined if Approval is required" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
            <Params />
          </Action>
          <Action CreationMode="Complete" Id="20ef0d5e-a73f-4af5-afb9-ac531db38d53" Name="Validation" Rule="Team Members-Completion Review task should be defined" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
            <Params />
          </Action>
          <Action CreationMode="Complete" Id="c640e02d-cdff-4c37-a1ed-746a7a167e3a" Name="Validation" Rule="Team Members-Effectiveness Review task should be defined" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
            <Params />
          </Action>
          <Action CreationMode="Complete" Id="60f7e87e-9e48-425e-ad17-fbf049a7999e" Name="Validation" Rule="Team Members-Due Date Extension Approval task should be defined" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
            <Params />
          </Action>
          <Action CreationMode="Complete" Id="d7812926-53ea-407a-98a5-0462ccdf5c33" Name="Validation" Rule="Team Members - Coordination task should be defined" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
            <Params />
          </Action>
          <Action CreationMode="Complete" Id="775d09db-ae3f-418e-a805-b70c704df16e" Name="Validation" Rule="Team Members - Ownership task should be defined" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
            <Params />
          </Action>
          <Action CreationMode="Complete" Id="e2ba14e5-9494-467f-8248-526370797ef1" Name="Validation" Rule="Initiation Verification team and Update Team Member - Assigned Role Should match Assigned Actor" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
            <Params />
          </Action>
          <Action Id="11fe7563-97f0-40ff-8337-20b26935e05b" MappingDataObject="CAPA Source" MappingDataSource="List" Name="Initialize CAPA Source Type" SuccessfulMessage="" TargetContextNode="V_SS_CAPA" Type="InitializeData" xsi:type="InitializeDataAction">
            <DataMaps>
              <DataMap Id="8e23e5e1-c967-40af-af66-a0fb2f44ee54" TargetXPath="CAPA_SOURCE_TYPE" Type="String">LST_VALUE3</DataMap>
            </DataMaps>
            <Params />
            <QualifyingConditions>
              <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="e11b41a9-5515-4a80-be60-095c3c0e5f62" LeftValue="LST_VALUE" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="CAPA_SOURCE" />
            </QualifyingConditions>
          </Action>
        </ExitActions>
      </TaskNodeData>
      <WorkflowActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
      <WorkflowLinkData From="pInvestigationApproval" FromPort="0" Text="Yes" To="adApprovalDecision" ToPort="1" />
      <WorkflowLinkData From="adApprovalDecision" FromPort="2" Text="Reject" To="pInvestigation" ToPort="1" />
      <WorkflowLinkData From="dDecision2" FromPort="3" Text="True" To="pInvestigationApproval" ToPort="1" />
      <WorkflowLinkData From="pCompletionReview" FromPort="0" Text="Yes" To="dDecision7" ToPort="1" />
      <WorkflowLinkData From="dDecision7" FromPort="3" Text="True" To="pEffectivenessReview" ToPort="1" />
      <WorkflowLinkData From="pEffectivenessReview" FromPort="0" Text="Yes" To="dDecision" ToPort="1" />
      <WorkflowLinkData From="dDecision" FromPort="2" Text="False" To="dDecision8" ToPort="1" />
      <WorkflowLinkData From="pImplementationVerification" FromPort="0" Text="Yes" To="adApprovalDecision2" ToPort="1" />
      <WorkflowLinkData From="pImplementation" FromPort="0" Text="Yes" To="dDecision3" ToPort="1" />
      <WorkflowLinkData From="dDecision3" FromPort="3" Text="True" To="pImplementationVerification" ToPort="1" />
      <WorkflowLinkData From="apSendNotificationonApprove" FromPort="0" Text="Yes" To="eswDueDateExtensionEnd2" ToPort="1" />
      <WorkflowLinkData From="pDueDateExtensionApproval" FromPort="0" Text="Yes" To="ApprovalDecision" ToPort="1" />
      <WorkflowLinkData From="sswDueDateExtensionStart2" FromPort="0" Text="Yes" To="pDueDateExtensionApproval" ToPort="1" />
      <WorkflowLinkData From="apSendNotificationonReject" FromPort="0" Text="Yes" To="eswDueDateExtensionEnd2" ToPort="1" />
      <WorkflowLinkData From="ApprovalDecision" FromPort="2" Text="Reject" To="apSendNotificationonReject" ToPort="1" />
      <WorkflowLinkData From="ApprovalDecision" FromPort="3" Text="Approve" To="apSendNotificationonApprove" ToPort="1" />
      <WorkflowLinkData From="dDecision7" FromPort="2" Text="False" To="bpWaitingforClosure" ToPort="1" />
      <WorkflowLinkData From="apCloseCAPA" FromPort="0" Text="Yes" To="eEnd" ToPort="1" />
      <WorkflowLinkData From="dDecision" FromPort="3" Text="True" To="apOnFollowuprequired" ToPort="1" />
      <WorkflowLinkData From="apOnFollowuprequired" FromPort="0" Text="Yes" To="pEffectivenessReview" ToPort="1" />
      <WorkflowLinkData From="dDecision8" FromPort="2" Text="False" To="dDecision12" ToPort="1" />
      <WorkflowLinkData From="dDecision12" FromPort="3" Text="True" To="apCreateNewCAPA" ToPort="1" />
      <WorkflowLinkData From="apCreateNewCAPA" FromPort="0" Text="Yes" To="apOnCompleteoffEffectivenessReview" ToPort="1" />
      <WorkflowLinkData From="dDecision12" FromPort="2" Text="False" To="apNonEffectivenessOtherAction" ToPort="1" />
      <WorkflowLinkData From="apNonEffectivenessOtherAction" FromPort="0" Text="Yes" To="Decision 2" ToPort="1" />
      <WorkflowLinkData From="apOnCompleteoffEffectivenessReview" FromPort="0" Text="True" To="bpWaitingforClosure" ToPort="1" />
      <WorkflowLinkData From="dDecision8" FromPort="3" Text="True" To="apOnCompleteoffEffectivenessReview" ToPort="1" />
      <WorkflowLinkData From="Decision 2" FromPort="3" Text="True" To="apOnCompleteoffEffectivenessReview" ToPort="1" />
      <WorkflowLinkData From="sswAdHocTaskSubWorkflowsswSubWorkflowStart" FromPort="0" Text="Yes" To="pAdhocTaskPhase" ToPort="1" />
      <WorkflowLinkData From="pAdhocTaskPhase" FromPort="0" Text="Yes" To="eswAdHocTaskSubWorkfloweswSubWorkflowEnd" ToPort="0" />
      <WorkflowLinkData From="bpWaitingforClosure" FromPort="0" Text="Yes" To="apCloseCAPA" ToPort="1" />
      <WorkflowLinkData From="swAdHocTaskSubWorkflow" FromPort="3" Text="Yes" To="bpWaitingforClosure" ToPort="1" />
      <WorkflowLinkData From="dDecision2" FromPort="2" Text="False" To="apEvaluateFailureModeandCause" ToPort="1" />
      <WorkflowLinkData From="adApprovalDecision" FromPort="3" Text="Approve" To="apEvaluateFailureModeandCause" ToPort="1" />
      <WorkflowLinkData From="adApprovalDecision2" FromPort="3" Text="Acceptable" To="apEndofImplementation" ToPort="1" />
      <WorkflowLinkData From="dDecision3" FromPort="2" Text="False" To="apEndofImplementation" ToPort="1" />
      <WorkflowLinkData From="apEndofImplementation" FromPort="0" Text="Yes" To="pCompletionReview" ToPort="1" />
      <WorkflowLinkData From="SystemForm" FromPort="0" Text="Yes" To="apBeforeInitiationVerification" ToPort="1" />
      <WorkflowLinkData From="apBeforeInitiationVerification" FromPort="0" Text="Yes" To="pInitiationVerification" ToPort="1" />
      <WorkflowLinkData From="apMovetoImplementation" FromPort="0" Text="Yes" To="pImplementation" ToPort="1" />
      <WorkflowLinkData From="pActionPlanVerification/Validation" FromPort="0" Text="Yes" To="ApprovalDecision 3" ToPort="1" />
      <WorkflowLinkData From="sStart" FromPort="0" Text="Yes" To="ipSystemForms" ToPort="" />
      <WorkflowLinkData From="pInitiationVerification" FromPort="0" Text="Yes" To="Decision 3" ToPort="1" />
      <WorkflowLinkData From="ApprovalDecision 3" FromPort="2" Text="Verification/Validation Failed" To="pPlanning" ToPort="1" />
      <WorkflowLinkData From="pActionPlanApproval" FromPort="0" Text="Yes" To="ApprovalDecision 5" ToPort="1" />
      <WorkflowLinkData From="ApprovalDecision 5" FromPort="2" Text="Reject" To="pPlanning" ToPort="1" />
      <WorkflowLinkData From="ApprovalDecision 5" FromPort="3" Text="Approve" To="apMovetoImplementation" ToPort="1" />
      <WorkflowLinkData From="ApprovalDecision 3" FromPort="3" Text="Verification/Validation Passed" To="apMoveontoActionPlanApproval" ToPort="1" />
      <WorkflowLinkData From="Decision 5" FromPort="2" Text="False" To="apMoveontoActionPlanApproval" ToPort="1" />
      <WorkflowLinkData From="Decision 4" FromPort="2" Text="False" To="apMovetoImplementation" ToPort="1" />
      <WorkflowLinkData From="Decision 3" FromPort="2" Text="False" To="apEvaluateFailureModeandCause" ToPort="1" />
      <WorkflowLinkData From="apEvaluateFailureModeandCause" FromPort="0" Text="Yes" To="pPlanning" ToPort="1" />
      <WorkflowLinkData From="adApprovalDecision2" FromPort="2" Text="Not Acceptable" To="pPlanning" ToPort="1" />
      <WorkflowLinkData From="pPlanning" FromPort="0" Text="Yes" To="Decision 5" ToPort="1" />
      <WorkflowLinkData From="apMoveontoActionPlanApproval" FromPort="0" Text="Yes" To="Decision 4" ToPort="1" />
      <WorkflowLinkData From="pInvestigation" FromPort="0" Text="Yes" To="dDecision2" ToPort="1" />
      <WorkflowLinkData From="Decision 5" FromPort="3" Text="True" To="pActionPlanVerification/Validation" ToPort="1" />
      <WorkflowLinkData From="Decision 3" FromPort="3" Text="True" To="pInvestigation" ToPort="2" />
      <WorkflowLinkData From="Decision 4" FromPort="3" Text="True" To="pActionPlanApproval" ToPort="2" />
    </WorkflowDesigner>
  </PilgrimVersion>
  <DeltaChanges>
    <Custom>
      <Added>
        <OnDemandFormNodeData Category="OnDemand" Description="" DroppedToDiagram="true" Figure="DividedProcess" FormName="CAPA_SUBMIT_REPORT" GoToStep="" GoToStepKey="" GoToStepType="" HasErrors="" Key="odCreateReportAndRouteForApproval" Location="750 -420" RequiresSignature="false" Rule="" SkipConfirmation="false" SortOrder="" SubGraphKey="ipSystemForms" SuccessfulMessage="" Text="CreateReportAndRouteForApproval">
          <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
          <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" />
        </OnDemandFormNodeData>
      </Added>
      <Deleted />
      <Modified>
        <Original VersionInfo="CAPA Management 4.0.10 - PILGRIM - v6">
          <InitializationPhase Category="InitializationPhase" Description="" DroppedToDiagram="true" Figure="Square" HasErrors="" IsSubGraph="true" Key="ipSystemForms" Location="362.5 -420" SubGraphKey="" SuccessfulMessage="" Text="System Forms" />
          <PhaseNodeData Category="Phase" Description="Initiation Verification Phase" DroppedToDiagram="true" DueDate="" Figure="Square" HasErrors="" IsSubGraph="true" Key="pInitiationVerification" Location="100 -160" SubGraphKey="" SuccessfulMessage="" SyncEntity="true" Text="Initiation Verification">
            <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
              <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="Action_275bf112-db0f-41d7-9eff-999772243cd9" Name="Update Status and Current Phase" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
                <Params>
                  <Param Id="7623aaca-d957-4f51-80be-011717e66591" Name="STATUS" Type="String">'INWORKS'</Param>
                  <Param Id="60d9bb79-24cc-4dea-9d81-0eb67d2bb899" Name="CURRENT_PHASE" Type="String">'Verification'</Param>
                </Params>
              </Action>
              <Action CreationMode="Temp" Id="Action_6525d567-ad70-4ad0-b081-ac00320dc993" Name="CAPA Unpost SQD" Rule="Is CAPA Reopened and for Supplier" SuccessfulMessage="" Type="Generic" Xml="&lt;Actions&gt;&#xD; &lt;Action Type=&quot;InvokeSmartSolveAPI&quot; Name=&quot;CAPAPostUnpostSQD&quot; ContextNode=&quot;V_SS_CAPA&quot; SuccessMessageId=&quot;&quot; &gt;&#xD;  &lt;Params&gt;&#xD; &lt;Param Type=&quot;String&quot; Name=&quot;Assembly&quot;&gt;'EQM.Biz.CAPA.SupplierQuality'&lt;/Param&gt;&#xD; &lt;Param Type=&quot;String&quot; Name=&quot;Type&quot;&gt;'EQM.Biz.CAPA.SupplierQuality.StudioCAPASupplierUtil'&lt;/Param&gt;&#xD; &lt;Param Type=&quot;String&quot; Name=&quot;Method&quot;&gt;'CAPAPostUnpostSQD'&lt;/Param&gt;&#xD; &lt;Param Type=&quot;String&quot; Name=&quot;PostUnpostValue&quot;&gt;'Unpost'&lt;/Param&gt;&#xD; &lt;/Params&gt; &#xD; &lt;/Action&gt;&#xD;&lt;/Actions&gt;" xsi:type="GenericAction">
                <Params />
              </Action>
              <Action ContainerWorkflowKey="CAPAWORKFLOW" Id="2b27d25b-ebd6-41f2-81a0-61bdd02df8d1" Name="Add Initial Risk Assessment if Perform Initial Risk Assessment is Yes" RecordId="PK_ID" Rule="If Perform Initial Risk Assessment is Yes and Initial Risk Assessment is not available" Scope="SameWorkFlow" SuccessfulMessage="" SystemTaskNodeDataId="stAddInitialRiskAssessment" SystemTaskWorkflowKey="CAPAWORKFLOW" Type="EvaluateSystemTask" xsi:type="EvaluateSystemTaskAction">
                <Params />
              </Action>
            </EntryActions>
            <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
              <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="Action_307439c0-67f0-480f-afc0-aedff46db80f" Name="Update columns if category is Internal" RowIdentifier="PK_ID" Rule="Capa Category is Internal" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
                <Params>
                  <Param Id="c346f026-5cb6-4731-9009-5b99c0d6e59c" Name="CLIENT_CODE" Type="String">''</Param>
                  <Param Id="85b7dc3c-57b3-4b9c-9ca0-232b5d869212" Name="CLIENT_NAME" Type="String">''</Param>
                </Params>
              </Action>
              <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM" CreationMode="Temp" Id="0aefa300-616b-4907-9d08-8485b5550c29" Name="Update Investigation Contact" QualifyingCondition="MEMBER_TYPE='Investigation'" RowIdentifier="PK_ID" Rule="Quality Portal Supplier CAPA" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
                <Params>
                  <Param Id="53dc7586-96c4-4325-91f3-9308e9662fbe" Name="ACTOR_CODE" Type="String">CONTACT_CODE</Param>
                  <Param Id="fd76f07a-0ef7-4da7-81dd-697b79fd9577" Name="ACTOR_NAME" Type="String">CONTACT_NAME</Param>
                </Params>
              </Action>
              <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="a9228e9d-62e5-447f-b8af-c1d50350807d" Name="Update Investigation Due Date" QualifyingCondition="INV_REQ = 'true' and INVEST_DUE_DATE = ''" RowIdentifier="PK_ID" Rule="" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
                <Params>
                  <Param Id="02a16967-a17b-497f-a4de-1e635e4b188f" Name="INVEST_DUE_DATE" Type="String">AddBusinessDays(GetDate('Today'), INVEST_INTERVAL, ../OWNING_SITE_CODE)</Param>
                </Params>
              </Action>
              <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="4bb19173-ab01-4e6f-8c82-2107ff57d07f" Name="Update Planning Due Date" QualifyingCondition="INV_REQ = 'false' and PLAN_DUE_DATE = ''" RowIdentifier="PK_ID" Rule="" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
                <Params>
                  <Param Id="36c61f2c-b001-45c8-85ba-f42b54e8a08b" Name="PLAN_DUE_DATE" Type="String">AddBusinessDays(GetDate('Today'), PLAN_INTERVAL, ../OWNING_SITE_CODE)</Param>
                </Params>
              </Action>
            </ExitActions>
          </PhaseNodeData>
          <TaskNodeData AllowedTime="" AllowedTimeSiteCode="" AllowedTimeUnit="" AllowOtherUsersWithSameRoleToSignOff="true" Category="Task" ContextNode="V_SS_CAPA" Description="Verify CAPA Initiation task" DroppedToDiagram="true" DueDate="" DynamicFormName="" DynamicTaskName="" EscalateToOwner="true" ExecuteInPortal="" FieldToBeSetWithStepID="" Figure="Square" FormName="CAPA_INITIATION_VERIFICATION" GoToStep="" GoToStepKey="" GoToStepType="" HasErrors="" IsApproverTask="false" Key="tVerifyCAPAInitiation" Level="'1'" Location="100 -160" NotifyOwner="true" NotifyOwnerWithEscalationCode="CAPA_NOT_INIT" Owner="COORDINATOR_CODE" OwnerRole="COORDINATOR_ROLE_CODE" PerUniqueUsers="false" QualifyingCondition="" SignatureRequired="true" SkipConfirmation="false" SubGraphKey="pInitiationVerification" SuccessfulMessage="" TaskCreationMode="Dynamic" Text="Verify CAPA Initiation">
            <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
              <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM" CreationMode="Temp" Id="cf3371e6-25da-446a-9d7a-601dee679154" Name="Update Coordinator in Team if reopened" QualifyingCondition="MEMBER_TYPE = &quot;Coordination&quot; and ACTOR_CODE != ../COORDINATOR_CODE" RowIdentifier="PK_ID" Rule="Is CAPA Reopened" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
                <Params>
                  <Param Id="b28d3f85-f2c1-4ff9-b9fe-f4d2df187386" Name="ACTOR_CODE" Type="String">../COORDINATOR_CODE</Param>
                </Params>
              </Action>
              <Action ContextNode="" CreationMode="Temp" FormName="" Id="08ad9860-d47a-40af-96e1-7e6f74be56b1" IsSetupMeeting="false" Name="" QualifyingCondition="" Rule="" SuccessfulMessage="" Type="NotifyOwner" xsi:type="NotifyOwnerAction">
                <Params>
                  <Param Name="To">//PhaseStepBeingEvaluated/StepBeingEvaluated/Owner</Param>
                  <Param Name="Cc" />
                  <Param Name="Bcc" />
                  <Param Name="Subject">$Param$StepName$Param$ for $GRC_RECORD_NUMBER$ has been assigned to you.</Param>
                  <Param Name="StartDateTime" />
                  <Param Name="EndDateTime" />
                  <Param Name="Location" />
                  <Param Name="Message">#lt;#br#gt;#</Param>
                  <Param Name="AppendTaskLink">true</Param>
                  <Param Name="AppendRecordLink">false</Param>
                </Params>
              </Action>
            </EntryActions>
            <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
              <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="Action_1229cbde-6fca-4690-91a4-cb6abf08a271" Name="Update Coordinator" RowIdentifier="PK_ID" Rule="Team Members - Is  Coordination defined" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
                <Params>
                  <Param Id="5cbc42aa-5c3c-4015-a534-959f67b24479" Name="COORDINATOR_CODE" Type="String">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Coordination']/ACTOR_CODE</Param>
                  <Param Id="485e2220-e18d-415c-af23-2bc5b0600583" Name="COORDINATOR_ROLE_CODE" Type="String">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Coordination']/ROLE_CODE</Param>
                </Params>
              </Action>
              <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="Action_38f0a7ed-026e-42b3-94ce-98a9fb074463" Name="Update  Owner" RowIdentifier="PK_ID" Rule="Team Members - Is Ownership defined" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
                <Params>
                  <Param Id="38b1cea9-b171-4daf-8554-1ce6c1e9a79e" Name="CAPA_OWNER_CODE" Type="String">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Ownership']/ACTOR_CODE</Param>
                  <Param Id="1045c48e-3c96-45f6-9d36-4b004bab5eb7" Name="OWNER_ROLE_CODE" Type="String">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Ownership']/ROLE_CODE</Param>
                </Params>
              </Action>
              <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="5dd6d2a3-6130-4d67-ae20-9f7d064ef25c" Name="Update Quality Portal User" RowIdentifier="PK_ID" Rule="Initiation Verification - Is Quality Portal User not Defined" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
                <Params>
                  <Param Id="ba2995dc-0d75-4530-bd77-4146704699db" Name="QUALITY_PORTAL_CAPA" Type="String">'false'</Param>
                </Params>
              </Action>
              <Action CreationMode="Complete" Id="1720ee15-b278-4888-bba7-a70e5ff9bddc" Name="Validation" Rule="Team Members-Investigation task should be defined if Investigation is required" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
                <Params />
              </Action>
              <Action CreationMode="Complete" Id="dad3f92e-8bad-4f3f-b0db-b5e7317ced4d" Name="Validation" Rule="Team Members-Investigation Approval task should be defined if Approval is required" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
                <Params />
              </Action>
              <Action CreationMode="Complete" Id="c9f8dd2a-0aed-40b0-aeca-16ae582d54b6" Name="Validation" Rule="Team Members-Action Plan Development task should be defined" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
                <Params />
              </Action>
              <Action CreationMode="Complete" Id="b9a4933b-7b22-4670-b823-9c604c533e56" Name="Validation" Rule="Team Members-Action Plan Verification/Validation task should be defined if Verification/Validation is required" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
                <Params />
              </Action>
              <Action CreationMode="Complete" Id="18c7c5f3-e1f6-42ff-b74d-dba689b1eb2e" Name="Validation" Rule="Team Members-Action Plan Approval task should be defined if Action Plan Approval is required" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
                <Params />
              </Action>
              <Action CreationMode="Complete" Id="2c764704-d03d-4ff4-a590-12a512631c86" Name="Validation" Rule="Team Members-Effectiveness Review Plan task should be defined if Plan is required" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
                <Params />
              </Action>
              <Action CreationMode="Complete" Id="567dfd19-561b-4596-ae12-c1ce40534118" Name="Validation" Rule="Team Members-Implementation Verification task should be defined if Approval is required" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
                <Params />
              </Action>
              <Action CreationMode="Complete" Id="20ef0d5e-a73f-4af5-afb9-ac531db38d53" Name="Validation" Rule="Team Members-Completion Review task should be defined" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
                <Params />
              </Action>
              <Action CreationMode="Complete" Id="c640e02d-cdff-4c37-a1ed-746a7a167e3a" Name="Validation" Rule="Team Members-Effectiveness Review task should be defined" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
                <Params />
              </Action>
              <Action CreationMode="Complete" Id="60f7e87e-9e48-425e-ad17-fbf049a7999e" Name="Validation" Rule="Team Members-Due Date Extension Approval task should be defined" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
                <Params />
              </Action>
              <Action CreationMode="Complete" Id="d7812926-53ea-407a-98a5-0462ccdf5c33" Name="Validation" Rule="Team Members - Coordination task should be defined" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
                <Params />
              </Action>
              <Action CreationMode="Complete" Id="775d09db-ae3f-418e-a805-b70c704df16e" Name="Validation" Rule="Team Members - Ownership task should be defined" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
                <Params />
              </Action>
              <Action CreationMode="Complete" Id="e2ba14e5-9494-467f-8248-526370797ef1" Name="Validation" Rule="Initiation Verification team and Update Team Member - Assigned Role Should match Assigned Actor" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
                <Params />
              </Action>
              <Action Id="11fe7563-97f0-40ff-8337-20b26935e05b" MappingDataObject="CAPA Source" MappingDataSource="List" Name="Initialize CAPA Source Type" SuccessfulMessage="" TargetContextNode="V_SS_CAPA" Type="InitializeData" xsi:type="InitializeDataAction">
                <DataMaps>
                  <DataMap Id="8e23e5e1-c967-40af-af66-a0fb2f44ee54" TargetXPath="CAPA_SOURCE_TYPE" Type="String">LST_VALUE3</DataMap>
                </DataMaps>
                <Params />
                <QualifyingConditions>
                  <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="e11b41a9-5515-4a80-be60-095c3c0e5f62" LeftValue="LST_VALUE" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="CAPA_SOURCE" />
                </QualifyingConditions>
              </Action>
            </ExitActions>
          </TaskNodeData>
        </Original>
        <Updated VersionInfo="CAPA Management 4.0.10 - CUSTOM - v22">
          <InitializationPhase Category="InitializationPhase" Description="" DroppedToDiagram="true" Figure="Square" HasErrors="" IsSubGraph="true" Key="ipSystemForms" Location="407.5 -420" SubGraphKey="" SuccessfulMessage="" Text="System Forms" />
          <PhaseNodeData Category="Phase" Description="Initiation Verification Phase" DroppedToDiagram="true" DueDate="" Figure="Square" HasErrors="" IsSubGraph="true" Key="pInitiationVerification" Location="120 -160" SubGraphKey="" SuccessfulMessage="" SyncEntity="true" Text="Initiation Verification">
            <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
              <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="Action_275bf112-db0f-41d7-9eff-999772243cd9" Name="Update Status and Current Phase" RowIdentifier="PK_ID" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
                <Params>
                  <Param Id="7623aaca-d957-4f51-80be-011717e66591" Name="STATUS" Type="String">'INWORKS'</Param>
                  <Param Id="60d9bb79-24cc-4dea-9d81-0eb67d2bb899" Name="CURRENT_PHASE" Type="String">'Verification'</Param>
                </Params>
              </Action>
              <Action CreationMode="Temp" Id="Action_6525d567-ad70-4ad0-b081-ac00320dc993" Name="CAPA Unpost SQD" Rule="Is CAPA Reopened and for Supplier" SuccessfulMessage="" Type="Generic" Xml="&lt;Actions&gt;&#xD; &lt;Action Type=&quot;InvokeSmartSolveAPI&quot; Name=&quot;CAPAPostUnpostSQD&quot; ContextNode=&quot;V_SS_CAPA&quot; SuccessMessageId=&quot;&quot; &gt;&#xD;  &lt;Params&gt;&#xD; &lt;Param Type=&quot;String&quot; Name=&quot;Assembly&quot;&gt;'EQM.Biz.CAPA.SupplierQuality'&lt;/Param&gt;&#xD; &lt;Param Type=&quot;String&quot; Name=&quot;Type&quot;&gt;'EQM.Biz.CAPA.SupplierQuality.StudioCAPASupplierUtil'&lt;/Param&gt;&#xD; &lt;Param Type=&quot;String&quot; Name=&quot;Method&quot;&gt;'CAPAPostUnpostSQD'&lt;/Param&gt;&#xD; &lt;Param Type=&quot;String&quot; Name=&quot;PostUnpostValue&quot;&gt;'Unpost'&lt;/Param&gt;&#xD; &lt;/Params&gt; &#xD; &lt;/Action&gt;&#xD;&lt;/Actions&gt;" xsi:type="GenericAction">
                <Params />
              </Action>
              <Action ContainerWorkflowKey="CAPAWORKFLOW" Id="2b27d25b-ebd6-41f2-81a0-61bdd02df8d1" Name="Add Initial Risk Assessment if Perform Initial Risk Assessment is Yes" RecordId="PK_ID" Rule="If Perform Initial Risk Assessment is Yes and Initial Risk Assessment is not available" Scope="SameWorkFlow" SuccessfulMessage="" SystemTaskNodeDataId="stAddInitialRiskAssessment" SystemTaskWorkflowKey="CAPAWORKFLOW" Type="EvaluateSystemTask" xsi:type="EvaluateSystemTaskAction">
                <Params />
              </Action>
            </EntryActions>
            <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
              <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="Action_307439c0-67f0-480f-afc0-aedff46db80f" Name="Update columns if category is Internal" RowIdentifier="PK_ID" Rule="Capa Category is Internal" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
                <Params>
                  <Param Id="c346f026-5cb6-4731-9009-5b99c0d6e59c" Name="CLIENT_CODE" Type="String">''</Param>
                  <Param Id="85b7dc3c-57b3-4b9c-9ca0-232b5d869212" Name="CLIENT_NAME" Type="String">''</Param>
                </Params>
              </Action>
              <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM" CreationMode="Temp" Id="0aefa300-616b-4907-9d08-8485b5550c29" Name="Update Investigation Contact" QualifyingCondition="MEMBER_TYPE='Investigation'" RowIdentifier="PK_ID" Rule="Quality Portal Supplier CAPA" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
                <Params>
                  <Param Id="53dc7586-96c4-4325-91f3-9308e9662fbe" Name="ACTOR_CODE" Type="String">CONTACT_CODE</Param>
                  <Param Id="fd76f07a-0ef7-4da7-81dd-697b79fd9577" Name="ACTOR_NAME" Type="String">CONTACT_NAME</Param>
                </Params>
              </Action>
              <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="a9228e9d-62e5-447f-b8af-c1d50350807d" Name="Update Investigation Due Date" QualifyingCondition="INV_REQ = 'true' and INVEST_DUE_DATE = ''" RowIdentifier="PK_ID" Rule="" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
                <Params>
                  <Param Id="02a16967-a17b-497f-a4de-1e635e4b188f" Name="INVEST_DUE_DATE" Type="String">AddBusinessDays(GetDate('Today'), INVEST_INTERVAL, ../OWNING_SITE_CODE)</Param>
                </Params>
              </Action>
              <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" CreationMode="Temp" Id="4bb19173-ab01-4e6f-8c82-2107ff57d07f" Name="Update Planning Due Date" QualifyingCondition="INV_REQ = 'false' and PLAN_DUE_DATE = ''" RowIdentifier="PK_ID" Rule="" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
                <Params>
                  <Param Id="36c61f2c-b001-45c8-85ba-f42b54e8a08b" Name="PLAN_DUE_DATE" Type="String">AddBusinessDays(GetDate('Today'), PLAN_INTERVAL, ../OWNING_SITE_CODE)</Param>
                </Params>
              </Action>
            </ExitActions>
          </PhaseNodeData>
          <TaskNodeData AllowedTime="" AllowedTimeSiteCode="" AllowedTimeUnit="" AllowOtherUsersWithSameRoleToSignOff="true" Category="Task" ContextNode="V_SS_CAPA" Description="Verify CAPA Initiation task" DroppedToDiagram="true" DueDate="" DynamicFormName="" DynamicTaskName="" EscalateToOwner="true" ExecuteInPortal="" FieldToBeSetWithStepID="" Figure="Square" FormName="CAPA_INITIATION_VERIFICATION" GoToStep="" GoToStepKey="" GoToStepType="" HasErrors="" IsApproverTask="false" Key="tVerifyCAPAInitiation" Level="'1'" Location="120 -160" NotifyOwner="true" NotifyOwnerWithEscalationCode="CAPA_NOT_INIT" Owner="COORDINATOR_CODE" OwnerRole="COORDINATOR_ROLE_CODE" PerUniqueUsers="false" QualifyingCondition="" SignatureRequired="true" SkipConfirmation="false" SubGraphKey="pInitiationVerification" SuccessfulMessage="" TaskCreationMode="Dynamic" Text="Verify CAPA Initiation">
            <EntryActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
              <Action ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM" CreationMode="Temp" Id="cf3371e6-25da-446a-9d7a-601dee679154" Name="Update Coordinator in Team if reopened" QualifyingCondition="MEMBER_TYPE = &quot;Coordination&quot; and ACTOR_CODE != ../COORDINATOR_CODE" RowIdentifier="PK_ID" Rule="Is CAPA Reopened" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
                <Params>
                  <Param Id="b28d3f85-f2c1-4ff9-b9fe-f4d2df187386" Name="ACTOR_CODE" Type="String">../COORDINATOR_CODE</Param>
                </Params>
              </Action>
              <Action ContextNode="" CreationMode="Temp" FormName="" Id="08ad9860-d47a-40af-96e1-7e6f74be56b1" IsSetupMeeting="false" Name="" QualifyingCondition="" Rule="" SuccessfulMessage="" Type="NotifyOwner" xsi:type="NotifyOwnerAction">
                <Params>
                  <Param Name="To">//PhaseStepBeingEvaluated/StepBeingEvaluated/Owner</Param>
                  <Param Name="Cc" />
                  <Param Name="Bcc" />
                  <Param Name="Subject">$Param$StepName$Param$ for $GRC_RECORD_NUMBER$ has been assigned to you.</Param>
                  <Param Name="StartDateTime" />
                  <Param Name="EndDateTime" />
                  <Param Name="Location" />
                  <Param Name="Message">#lt;#br#gt;#</Param>
                  <Param Name="AppendTaskLink">true</Param>
                  <Param Name="AppendRecordLink">false</Param>
                </Params>
              </Action>
            </EntryActions>
            <ExitActions xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
              <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="Action_1229cbde-6fca-4690-91a4-cb6abf08a271" Name="Update Coordinator" RowIdentifier="PK_ID" Rule="Team Members - Is  Coordination defined" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
                <Params>
                  <Param Id="5cbc42aa-5c3c-4015-a534-959f67b24479" Name="COORDINATOR_CODE" Type="String">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Coordination']/ACTOR_CODE</Param>
                  <Param Id="485e2220-e18d-415c-af23-2bc5b0600583" Name="COORDINATOR_ROLE_CODE" Type="String">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Coordination']/ROLE_CODE</Param>
                </Params>
              </Action>
              <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="Action_38f0a7ed-026e-42b3-94ce-98a9fb074463" Name="Update  Owner" RowIdentifier="PK_ID" Rule="Team Members - Is Ownership defined" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
                <Params>
                  <Param Id="38b1cea9-b171-4daf-8554-1ce6c1e9a79e" Name="CAPA_OWNER_CODE" Type="String">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Ownership']/ACTOR_CODE</Param>
                  <Param Id="1045c48e-3c96-45f6-9d36-4b004bab5eb7" Name="OWNER_ROLE_CODE" Type="String">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Ownership']/ROLE_CODE</Param>
                </Params>
              </Action>
              <Action ContextNode="V_SS_CAPA" CreationMode="Temp" Id="5dd6d2a3-6130-4d67-ae20-9f7d064ef25c" Name="Update Quality Portal User" RowIdentifier="PK_ID" Rule="Initiation Verification - Is Quality Portal User not Defined" SuccessfulMessage="" Type="Update" xsi:type="UpdateAction">
                <Params>
                  <Param Id="ba2995dc-0d75-4530-bd77-4146704699db" Name="QUALITY_PORTAL_CAPA" Type="String">'false'</Param>
                </Params>
              </Action>
              <Action CreationMode="Complete" Id="1720ee15-b278-4888-bba7-a70e5ff9bddc" Name="Validation" Rule="Team Members-Investigation task should be defined if Investigation is required" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
                <Params />
              </Action>
              <Action CreationMode="Complete" Id="dad3f92e-8bad-4f3f-b0db-b5e7317ced4d" Name="Validation" Rule="Team Members-Investigation Approval task should be defined if Approval is required" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
                <Params />
              </Action>
              <Action CreationMode="Complete" Id="c9f8dd2a-0aed-40b0-aeca-16ae582d54b6" Name="Validation" Rule="Team Members-Action Plan Development task should be defined" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
                <Params />
              </Action>
              <Action CreationMode="Complete" Id="b9a4933b-7b22-4670-b823-9c604c533e56" Name="Validation" Rule="Team Members-Action Plan Verification/Validation task should be defined if Verification/Validation is required" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
                <Params />
              </Action>
              <Action CreationMode="Complete" Id="18c7c5f3-e1f6-42ff-b74d-dba689b1eb2e" Name="Validation" Rule="Team Members-Action Plan Approval task should be defined if Action Plan Approval is required" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
                <Params />
              </Action>
              <Action CreationMode="Complete" Id="2c764704-d03d-4ff4-a590-12a512631c86" Name="Validation" Rule="Team Members-Effectiveness Review Plan task should be defined if Plan is required" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
                <Params />
              </Action>
              <Action CreationMode="Complete" Id="567dfd19-561b-4596-ae12-c1ce40534118" Name="Validation" Rule="Team Members-Implementation Verification task should be defined if Approval is required" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
                <Params />
              </Action>
              <Action CreationMode="Complete" Id="20ef0d5e-a73f-4af5-afb9-ac531db38d53" Name="Validation" Rule="Team Members-Completion Review task should be defined" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
                <Params />
              </Action>
              <Action CreationMode="Complete" Id="c640e02d-cdff-4c37-a1ed-746a7a167e3a" Name="Validation" Rule="Team Members-Effectiveness Review task should be defined" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
                <Params />
              </Action>
              <Action CreationMode="Complete" Id="60f7e87e-9e48-425e-ad17-fbf049a7999e" Name="Validation" Rule="Team Members-Due Date Extension Approval task should be defined" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
                <Params />
              </Action>
              <Action CreationMode="Complete" Id="d7812926-53ea-407a-98a5-0462ccdf5c33" Name="Validation" Rule="Team Members - Coordination task should be defined" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
                <Params />
              </Action>
              <Action CreationMode="Complete" Id="775d09db-ae3f-418e-a805-b70c704df16e" Name="Validation" Rule="Team Members - Ownership task should be defined" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
                <Params />
              </Action>
              <Action CreationMode="Complete" Id="e2ba14e5-9494-467f-8248-526370797ef1" Name="Validation" Rule="Initiation Verification team and Update Team Member - Assigned Role Should match Assigned Actor" SuccessfulMessage="" Type="Validation" xsi:type="ValidationAction">
                <Params />
              </Action>
              <Action Id="11fe7563-97f0-40ff-8337-20b26935e05b" MappingDataObject="CAPA Source" MappingDataSource="List" Name="Initialize CAPA Source Type" SuccessfulMessage="" TargetContextNode="V_SS_CAPA" Type="InitializeData" xsi:type="InitializeDataAction">
                <DataMaps>
                  <DataMap Id="8e23e5e1-c967-40af-af66-a0fb2f44ee54" TargetXPath="CAPA_SOURCE_TYPE" Type="String">LST_VALUE3</DataMap>
                </DataMaps>
                <Params />
                <QualifyingConditions>
                  <Conditions ChildRowsModifier="All" CloseGroup="false" ConditionId="e11b41a9-5515-4a80-be60-095c3c0e5f62" LeftValue="LST_VALUE" OpenGroup="false" Operator="EQ" RelationalOperator="" RightValue="CAPA_SOURCE" />
                </QualifyingConditions>
              </Action>
            </ExitActions>
          </TaskNodeData>
        </Updated>
      </Modified>
    </Custom>
  </DeltaChanges>
  <WorkflowRuntime>
    <Workflow Key="CAPAWORKFLOW" Id="" IsNonPersistent="false">
      <Name>CAPAWORKFLOW</Name>
      <Description>CAPA Workflow</Description>
      <InitialPhase Id="apBeforeInitiationVerification">apBeforeInitiationVerification</InitialPhase>
      <FinalPhase Id="eEnd">eEnd</FinalPhase>
      <Policies>
        <Policy Type="Entry" Name="ActivityPolicy" Enabled="true">
          <Rules>
            <Rule Type="Decision" FailureMessageId="" Name="Void CAPA">
              <Conditions>
                <OpenGroup />
                <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                  <Params>
                    <Param Type="String" Name="lhsExpression">PRIMARY_STATUS !='VOID' and ActorHasRight('CAPA_VIEW') and ActorHasRight('CAPA_EDIT') and ActorHasRight('CAPA_VOID')</Param>
                    <Param Type="String" Name="rhsExpression">'true'</Param>
                    <Param Type="String" Name="operator">EQ</Param>
                  </Params>
                </Condition>
                <Modifier>And</Modifier>
                <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                  <Params>
                    <Param Type="String" Name="lhsExpression">GetCurrentUserInfo('ActorCode')</Param>
                    <Param Type="String" Name="rhsExpression">COORDINATOR_CODE</Param>
                    <Param Type="String" Name="operator">EQ</Param>
                  </Params>
                </Condition>
                <CloseGroup />
                <Modifier>Or</Modifier>
                <OpenGroup />
                <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                  <Params>
                    <Param Type="String" Name="lhsExpression">PRIMARY_STATUS !='VOID' and ActorHasRight('CAPA_VIEW') and ActorHasRight('CAPA_EDIT') and ActorHasRight('CAPA_VOID') and ActorHasRight('CAPA_SUPERVISOR')</Param>
                    <Param Type="String" Name="rhsExpression">'true'</Param>
                    <Param Type="String" Name="operator">EQ</Param>
                  </Params>
                </Condition>
                <CloseGroup />
              </Conditions>
              <Actions>
                <Action Type="InvokeNonPersistentWorkflow" SuccessMessageId="" ContextNode="" Name="Void CAPA">
                  <Params>
                    <Param Type="String" Name="ContainerWorkflowKey">'CAPAWORKFLOW'</Param>
                    <Param Type="String" Name="WorkflowKey">'CAPAWORKFLOW_NP_WORKFLOW'</Param>
                    <Param Type="String" Name="StepId">'VoidCAPA'</Param>
                    <Param Type="String" Name="Scope">'SubWorkflow'</Param>
                  </Params>
                </Action>
              </Actions>
            </Rule>
            <Rule Type="Decision" FailureMessageId="" Name="Due Date Extension">
              <Conditions>
                <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                  <Params>
                    <Param Type="String" Name="lhsExpression">PRIMARY_STATUS='INWORKS' and (CURRENT_PHASE='Investigation' or CURRENT_PHASE = 'Planning' or CURRENT_PHASE='Implementation' or CURRENT_PHASE='Completion') and ActorHasRight('CAPA_VIEW') and ActorHasRight('CAPA_EDIT')</Param>
                    <Param Type="String" Name="rhsExpression">'true'</Param>
                    <Param Type="String" Name="operator">EQ</Param>
                  </Params>
                </Condition>
                <Modifier>And</Modifier>
                <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                  <Params>
                    <Param Type="String" Name="lhsExpression">CAPA_ISDUEDTEXT_INPROCESS</Param>
                    <Param Type="String" Name="rhsExpression">'true'</Param>
                    <Param Type="String" Name="operator">NEQ</Param>
                  </Params>
                </Condition>
              </Conditions>
              <Actions>
                <Action Type="InvokeNonPersistentWorkflow" SuccessMessageId="" ContextNode="" Name="Due Date Extension">
                  <Params>
                    <Param Type="String" Name="ContainerWorkflowKey">'CAPAWORKFLOW'</Param>
                    <Param Type="String" Name="WorkflowKey">'CAPAWORKFLOW_NP_WORKFLOW'</Param>
                    <Param Type="String" Name="StepId">'DueDateExtension'</Param>
                    <Param Type="String" Name="Scope">'SubWorkflow'</Param>
                  </Params>
                </Action>
              </Actions>
            </Rule>
            <Rule Type="Decision" FailureMessageId="" Name="Update Team">
              <Conditions>
                <OpenGroup />
                <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                  <Params>
                    <Param Type="String" Name="lhsExpression">PRIMARY_STATUS = 'INWORKS' and PHASE != 'Initiation Verification' and ActorHasRight('CAPA_VIEW') and ActorHasRight('CAPA_EDIT')</Param>
                    <Param Type="String" Name="rhsExpression">'true'</Param>
                    <Param Type="String" Name="operator">EQ</Param>
                  </Params>
                </Condition>
                <Modifier>And</Modifier>
                <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                  <Params>
                    <Param Type="String" Name="lhsExpression">GetCurrentUserInfo('ActorCode')</Param>
                    <Param Type="String" Name="rhsExpression">COORDINATOR_CODE</Param>
                    <Param Type="String" Name="operator">EQ</Param>
                  </Params>
                </Condition>
                <CloseGroup />
                <Modifier>Or</Modifier>
                <OpenGroup />
                <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                  <Params>
                    <Param Type="String" Name="lhsExpression">PRIMARY_STATUS = 'INWORKS' and PHASE != 'Initiation Verification' and ActorHasRight('CAPA_VIEW') and ActorHasRight('CAPA_EDIT') and ActorHasRight('CAPA_SUPERVISOR')</Param>
                    <Param Type="String" Name="rhsExpression">'true'</Param>
                    <Param Type="String" Name="operator">EQ</Param>
                  </Params>
                </Condition>
                <CloseGroup />
              </Conditions>
              <Actions>
                <Action Type="InvokeNonPersistentWorkflow" SuccessMessageId="" ContextNode="" Name="Update Team">
                  <Params>
                    <Param Type="String" Name="ContainerWorkflowKey">'CAPAWORKFLOW'</Param>
                    <Param Type="String" Name="WorkflowKey">'CAPAWORKFLOW_NP_WORKFLOW'</Param>
                    <Param Type="String" Name="StepId">'UpdateTeam'</Param>
                    <Param Type="String" Name="Scope">'SubWorkflow'</Param>
                  </Params>
                </Action>
              </Actions>
            </Rule>
            <Rule Type="Decision" FailureMessageId="" Name="Reopen Phase">
              <Conditions>
                <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                  <Params>
                    <Param Type="String" Name="lhsExpression">PRIMARY_STATUS = 'INWORKS' and ActorHasRight('CAPA_VIEW') and ActorHasRight('CAPA_EDIT')</Param>
                    <Param Type="String" Name="rhsExpression">'true'</Param>
                    <Param Type="String" Name="operator">EQ</Param>
                  </Params>
                </Condition>
                <Modifier>And</Modifier>
                <OpenGroup />
                <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                  <Params>
                    <Param Type="String" Name="lhsExpression">GetCurrentUserInfo('ActorCode')</Param>
                    <Param Type="String" Name="rhsExpression">COORDINATOR_CODE</Param>
                    <Param Type="String" Name="operator">EQ</Param>
                  </Params>
                </Condition>
                <Modifier>Or</Modifier>
                <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                  <Params>
                    <Param Type="String" Name="lhsExpression">ActorHasRight('CAPA_SUPERVISOR')</Param>
                    <Param Type="String" Name="rhsExpression">'true'</Param>
                    <Param Type="String" Name="operator">EQ</Param>
                  </Params>
                </Condition>
                <CloseGroup />
                <Modifier>And</Modifier>
                <OpenGroup />
                <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                  <Params>
                    <Param Type="String" Name="lhsExpression">CURRENT_PHASE = 'Planning' and V_SS_CAPA-V_SS_CAPA_POLICY/INV_REQ = 'true'</Param>
                    <Param Type="String" Name="rhsExpression">'true'</Param>
                    <Param Type="String" Name="operator">EQ</Param>
                  </Params>
                </Condition>
                <Modifier>Or</Modifier>
                <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                  <Params>
                    <Param Type="String" Name="lhsExpression">CURRENT_PHASE = 'Implementation' or CURRENT_PHASE = 'Completion' or CURRENT_PHASE = 'Effectiveness Review'</Param>
                    <Param Type="String" Name="rhsExpression">'true'</Param>
                    <Param Type="String" Name="operator">EQ</Param>
                  </Params>
                </Condition>
                <CloseGroup />
              </Conditions>
              <Actions>
                <Action Type="InvokeNonPersistentWorkflow" SuccessMessageId="" ContextNode="" Name="Reopen Phase">
                  <Params>
                    <Param Type="String" Name="ContainerWorkflowKey">'CAPAWORKFLOW'</Param>
                    <Param Type="String" Name="WorkflowKey">'CAPAWORKFLOW_NP_WORKFLOW'</Param>
                    <Param Type="String" Name="StepId">'ReopenPhase'</Param>
                    <Param Type="String" Name="Scope">'SubWorkflow'</Param>
                  </Params>
                </Action>
              </Actions>
            </Rule>
            <Rule Type="Decision" FailureMessageId="" Name="Assign Adhoc Task">
              <Conditions>
                <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                  <Params>
                    <Param Type="String" Name="lhsExpression">PRIMARY_STATUS='INWORKS' and ActorHasRight('CAPA_VIEW') and ActorHasRight('CAPA_EDIT')</Param>
                    <Param Type="String" Name="rhsExpression">'true'</Param>
                    <Param Type="String" Name="operator">EQ</Param>
                  </Params>
                </Condition>
              </Conditions>
              <Actions>
                <Action Type="InvokeNonPersistentWorkflow" SuccessMessageId="" ContextNode="" Name="Assign Adhoc Task">
                  <Params>
                    <Param Type="String" Name="ContainerWorkflowKey">'CAPAWORKFLOW'</Param>
                    <Param Type="String" Name="WorkflowKey">'CAPAWORKFLOW_NP_WORKFLOW'</Param>
                    <Param Type="String" Name="StepId">'AssignAdhocTask'</Param>
                    <Param Type="String" Name="Scope">'SubWorkflow'</Param>
                  </Params>
                </Action>
              </Actions>
            </Rule>
            <Rule Type="Decision" FailureMessageId="" Name="Change Owner">
              <Conditions>
                <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                  <Params>
                    <Param Type="String" Name="lhsExpression">PK_ID</Param>
                    <Param Type="String" Name="rhsExpression">'Pilgrim'</Param>
                    <Param Type="String" Name="operator">EQ</Param>
                  </Params>
                </Condition>
              </Conditions>
              <Actions>
                <Action Type="InvokeNonPersistentWorkflow" SuccessMessageId="" ContextNode="" Name="Change Owner">
                  <Params>
                    <Param Type="String" Name="ContainerWorkflowKey">'CAPAWORKFLOW'</Param>
                    <Param Type="String" Name="WorkflowKey">'CAPAWORKFLOW_NP_WORKFLOW'</Param>
                    <Param Type="String" Name="StepId">'ChangeOwner'</Param>
                    <Param Type="String" Name="Scope">'SubWorkflow'</Param>
                  </Params>
                </Action>
              </Actions>
            </Rule>
            <Rule Type="Decision" FailureMessageId="" Name="CreateReportAndRouteForApproval">
              <Actions>
                <Action Type="InvokeNonPersistentWorkflow" SuccessMessageId="" ContextNode="" Name="CreateReportAndRouteForApproval">
                  <Params>
                    <Param Type="String" Name="ContainerWorkflowKey">'CAPAWORKFLOW'</Param>
                    <Param Type="String" Name="WorkflowKey">'CAPAWORKFLOW_NP_WORKFLOW'</Param>
                    <Param Type="String" Name="StepId">'CreateReportAndRouteForApproval'</Param>
                    <Param Type="String" Name="Scope">'SubWorkflow'</Param>
                  </Params>
                </Action>
              </Actions>
            </Rule>
          </Rules>
        </Policy>
      </Policies>
      <Phases>
        <Phase Id="apOnFollowuprequired" Name="On Follow up required" Level="1">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules />
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Update Action : Reset Follow Req and Due Date">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Action : Reset Follow Req and Due Date" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="EFFECT_FOLLOWUP_REQ">''</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Name="GoTo" Type="Decision" FailureMessageId="">
                  <Actions>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'pEffectivenessReview'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Phase>
        <Phase Id="apOnCompleteoffEffectivenessReview" Name="On Complete off Effectiveness Review" Level="1">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules />
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Update Effectiveness Review Completed Date">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Effectiveness Review Completed Date" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="VOE_COMPL_DATE">GetDate('Today')</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Name="GoTo" Type="Decision" FailureMessageId="">
                  <Actions>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'bpWaitingforClosure'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Phase>
        <Phase Id="apEndofImplementation" Name="End of Implementation" Level="1">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Evaluate Void Due Date Extension step in subworkflow">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">GetNumberOfSubWorkflowsStarted(PK_ID , 'Due Date Extension')</Param>
                        <Param Type="String" Name="rhsExpression">'0'</Param>
                        <Param Type="String" Name="operator">GT</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Implementation'])</Param>
                        <Param Type="String" Name="rhsExpression">'0'</Param>
                        <Param Type="String" Name="operator">GT</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="EvaluateStep" Name="VoidDueDate" ContextNode="" SuccessMessageId="" Id="Action_be9486c8-fe6e-4696-b7dd-17d2b14fd5e3">
                      <Params>
                        <Param Name="ContainerWorkflowKey" Type="String">'CAPAWORKFLOW'</Param>
                        <Param Name="WorkflowKey" Type="String">'Due Date Extension'</Param>
                        <Param Name="EntityTypeId" Type="String">'CAPA'</Param>
                        <Param Name="RecordId" Type="String">PK_ID</Param>
                        <Param Name="WorkflowInstanceId" Type="String" />
                        <Param Name="StepId" Type="String">'stVoidDueDate'</Param>
                        <Param Name="Scope" Type="String">'SameContainerWorkFlow'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Completion Due Date (Implementation)">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Completion Due Date (Implementation)" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY[CLOSURE_DUE_DATE = '']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="CLOSURE_DUE_DATE">AddBusinessDays(GetDate('Today'), CLOSURE_INTERVAL, ../OWNING_SITE_CODE)</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Name="GoTo" Type="Decision" FailureMessageId="">
                  <Actions>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'pCompletionReview'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Phase>
        <Phase Id="apCreateNewCAPA" Name="Create New CAPA" Level="1">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules />
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Create CAPA">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">VOE_RESULT</Param>
                        <Param Type="String" Name="rhsExpression">'Create New CAPA'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">INEFFECTIVE_CAPA_NO = ''</Param>
                        <Param Type="String" Name="rhsExpression">'true'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="INITIATEWORKFLOW" Name="InitiateCapaWorkflow" ContextNode="V_SS_CAPA" SuccessMessageId="97040" Id="Action_7e77e77b-1f49-4a1d-8fc5-e7841241b436">
                      <Params>
                        <Param Name="ContainerWorkflowKey" Type="String">'CAPAWORKFLOW'</Param>
                        <Param Name="WorkflowKey" Type="String">'CAPAWORKFLOW'</Param>
                        <Param Name="IsBlocking" Type="String">'false'</Param>
                        <Param Name="BlockingStepId" Type="String">''</Param>
                        <Param Name="WorkflowType" Type="String">'Sub'</Param>
                        <Param Type="String" Name="NumberingScheme">'CAPA Numbering'</Param>
                        <Param Name="FieldToBeUpdatedWithRelatedEntityRecordNumber" Type="String">'INEFFECTIVE_CAPA_NO'</Param>
                        <Param Name="TransferDataMapping" Type="TransferDataMapping">
                          <TransferData SourceEntity="V_SS_CAPA" TargetEntity="V_SS_CAPA">
                            <DataMaps>
                              <DataMap TargetXPath="INITIATION_DATE">GetDate('Today')</DataMap>
                              <DataMap TargetXPath="INITIATED_BY_CODE">INITIATED_BY_CODE</DataMap>
                              <DataMap TargetXPath="INITIATED_BY_NAME">INITIATED_BY_NAME</DataMap>
                              <DataMap TargetXPath="COORDINATOR_CODE">COORDINATOR_CODE</DataMap>
                              <DataMap TargetXPath="COORDINATOR_NAME">COORDINATOR_NAME</DataMap>
                              <DataMap TargetXPath="COORDINATOR_ROLE_CODE">COORDINATOR_ROLE_CODE</DataMap>
                              <DataMap TargetXPath="CAPA_OWNER_CODE">CAPA_OWNER_CODE</DataMap>
                              <DataMap TargetXPath="CAPA_OWNER_NAME">CAPA_OWNER_NAME</DataMap>
                              <DataMap TargetXPath="OWNER_ROLE_CODE">OWNER_ROLE_CODE</DataMap>
                              <DataMap TargetXPath="CAPA_TYPE">CAPA_TYPE</DataMap>
                              <DataMap TargetXPath="CAPA_SOURCE">"General"</DataMap>
                              <DataMap TargetXPath="CAPA_SOURCE_NUMBER">RECORD_NUMBER</DataMap>
                              <DataMap TargetXPath="DEPARTMENT_CODE">DEPARTMENT_CODE</DataMap>
                              <DataMap TargetXPath="CLIENT_CODE">CLIENT_CODE</DataMap>
                              <DataMap TargetXPath="PRODUCT_CODE">PRODUCT_CODE</DataMap>
                              <DataMap TargetXPath="PROCESS_CODE">PROCESS_CODE</DataMap>
                              <DataMap TargetXPath="PROBLEM_STATEMENT">PROBLEM_STATEMENT</DataMap>
                              <DataMap TargetXPath="TITLE">TITLE</DataMap>
                              <DataMap TargetXPath="STATUS">"INWORKS"</DataMap>
                              <DataMap TargetXPath="INITIATING_SITE_CODE">INITIATING_SITE_CODE</DataMap>
                              <DataMap TargetXPath="INITIATING_SITE_NAME">INITIATING_SITE_NAME</DataMap>
                              <DataMap TargetXPath="CAPA_CATEGORY">CAPA_CATEGORY</DataMap>
                              <DataMap TargetXPath="PRODUCTLINE_CODE">PRODUCTLINE_CODE</DataMap>
                              <DataMap TargetXPath="STO_CODE">STO_CODE</DataMap>
                              <DataMap TargetXPath="PLANT_AREA_CODE">PLANT_AREA_CODE</DataMap>
                              <DataMap TargetXPath="PRIORITY">PRIORITY</DataMap>
                              <DataMap TargetXPath="IS_REPEAT_CAPA">IS_REPEAT_CAPA</DataMap>
                              <DataMap TargetXPath="RELATED_CAPA_NO">RELATED_CAPA_NO</DataMap>
                              <DataMap TargetXPath="MASTER_CAPA_NO">RECORD_NUMBER</DataMap>
                              <DataMap TargetXPath="OWNING_SITE_CODE">OWNING_SITE_CODE</DataMap>
                              <DataMap TargetXPath="OWNING_SITE_NAME">OWNING_SITE_NAME</DataMap>
                              <DataMap TargetXPath="SUPPLIER_SITE_CODE">SUPPLIER_SITE_CODE</DataMap>
                              <DataMap TargetXPath="SUPPLIER_SITE_NAME">SUPPLIER_SITE_NAME</DataMap>
                            </DataMaps>
                          </TransferData>
                        </Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Name="GoTo" Type="Decision" FailureMessageId="">
                  <Actions>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'apOnCompleteoffEffectivenessReview'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Phase>
        <Phase Id="apMoveontoActionPlanApproval" Name="Move on to Action Plan Approval" Level="1">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules />
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Planning - Approval Action Plan is required" IsNested="false">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ACT_PLN_APP_REQ</Param>
                        <Param Type="String" Name="rhsExpression">'true'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'pActionPlanApproval'</Param>
                      </Params>
                    </Action>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="" ApplyWhenRuleIsNotSuccessful="true">
                      <Params>
                        <Param Type="String" Name="PhaseId">'apMovetoImplementation'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Phase>
        <Phase Id="apMovetoImplementation" Name="Move to Implementation" Level="1">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Evaluate Void Due Date Extension step in subworkflow">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">GetNumberOfSubWorkflowsStarted(PK_ID , 'Due Date Extension')</Param>
                        <Param Type="String" Name="rhsExpression">'0'</Param>
                        <Param Type="String" Name="operator">GT</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Planning'])</Param>
                        <Param Type="String" Name="rhsExpression">'0'</Param>
                        <Param Type="String" Name="operator">GT</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="EvaluateStep" Name="VoidDueDate" ContextNode="" SuccessMessageId="" Id="Action_be9486c8-fe6e-4696-b7dd-17d2b14fd5e3">
                      <Params>
                        <Param Name="ContainerWorkflowKey" Type="String">'CAPAWORKFLOW'</Param>
                        <Param Name="WorkflowKey" Type="String">'Due Date Extension'</Param>
                        <Param Name="EntityTypeId" Type="String">'CAPA'</Param>
                        <Param Name="RecordId" Type="String">PK_ID</Param>
                        <Param Name="WorkflowInstanceId" Type="String" />
                        <Param Name="StepId" Type="String">'stVoidDueDate'</Param>
                        <Param Name="Scope" Type="String">'SameContainerWorkFlow'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Completed Actions">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Completed Actions" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION[(STATUS='Yes' or STATUS='Skipped') and SIGN_OFF_PHASE='']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="SIGN_OFF_PHASE">'Planning'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Implementation Due Date (Planning)">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Implementation Due Date (Planning)" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY[IMPL_DUE_DATE = '']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="IMPL_DUE_DATE">AddBusinessDays(GetDate('Today'), IMPL_INTERVAL, ../OWNING_SITE_CODE)</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Name="GoTo" Type="Decision" FailureMessageId="">
                  <Actions>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'pImplementation'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Phase>
        <Phase Id="apEvaluateFailureModeandCause" Name="Evaluate Failure Mode and Cause" Level="1">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Evaluate Failure Mode and Cause">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">FMD_NEW_EVAL</Param>
                        <Param Type="String" Name="rhsExpression">'Do nothing'</Param>
                        <Param Type="String" Name="operator">NEQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="EvaluateIfNewFailureMode" Name="EvaluateIfNewFailureMode" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ROOT_CAUSE" SuccessMessageId="" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="EntityView">'V_SS_CAPA'</Param>
                        <Param Type="String" Name="RecordObject">'CAPA'</Param>
                        <Param Type="String" Name="RecordType">../CAPA_TYPE</Param>
                        <Param Type="String" Name="PolicyForNewFMD">../V_SS_CAPA-V_SS_CAPA_POLICY/FMD_NEW_EVAL</Param>
                        <Param Type="String" Name="CurrentObjectID">PK_ID</Param>
                        <Param Type="String" Name="CurrentObjectIDColumn">'PK_ID'</Param>
                        <Param Type="String" Name="RootCauseAgainst">ROOT_CAUSE_AGAINST</Param>
                        <Param Type="String" Name="ProductCode">PRODUCT_CODE</Param>
                        <Param Type="String" Name="ProcessCode">PROCESS_CODE</Param>
                        <Param Type="String" Name="FailureCauseName">FAILURE_CAUSE_NAME</Param>
                        <Param Type="String" Name="FailureCauseDescription">FAILURE_CAUSE_DESCRIPTION</Param>
                        <Param Type="String" Name="FailureModeName">FAILURE_MODE_NAME</Param>
                        <Param Type="String" Name="FailureModeDescription">FAILURE_MODE_DESCRIPTION</Param>
                        <Param Type="String" Name="FailureModeIsNewColumn">'FMD_IS_NEW'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Evaluate Void Due Date Extension step in subworkflow">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">GetNumberOfSubWorkflowsStarted(PK_ID , 'Due Date Extension')</Param>
                        <Param Type="String" Name="rhsExpression">'0'</Param>
                        <Param Type="String" Name="operator">GT</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Investigation'])</Param>
                        <Param Type="String" Name="rhsExpression">'0'</Param>
                        <Param Type="String" Name="operator">GT</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="EvaluateStep" Name="VoidDueDate" ContextNode="" SuccessMessageId="" Id="Action_be9486c8-fe6e-4696-b7dd-17d2b14fd5e3">
                      <Params>
                        <Param Name="ContainerWorkflowKey" Type="String">'CAPAWORKFLOW'</Param>
                        <Param Name="WorkflowKey" Type="String">'Due Date Extension'</Param>
                        <Param Name="EntityTypeId" Type="String">'CAPA'</Param>
                        <Param Name="RecordId" Type="String">PK_ID</Param>
                        <Param Name="WorkflowInstanceId" Type="String" />
                        <Param Name="StepId" Type="String">'stVoidDueDate'</Param>
                        <Param Name="Scope" Type="String">'SameContainerWorkFlow'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Planning Due Date (Investigation)">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Planning Due Date (Investigation)" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY[PLAN_DUE_DATE = '']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="PLAN_DUE_DATE">AddBusinessDays(GetDate('Today'), PLAN_INTERVAL, ../OWNING_SITE_CODE)</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Notification upon adding Failure Mode or Cause">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">V_SS_CAPA-V_SS_CAPA_POLICY/FMD_NEW_EVAL</Param>
                        <Param Type="String" Name="rhsExpression">'Auto add new FM to master setup'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(V_SS_CAPA-V_SS_CAPA_ROOT_CAUSE[FMD_IS_NEW='true']/PK_ID)</Param>
                        <Param Type="String" Name="rhsExpression">'0'</Param>
                        <Param Type="String" Name="operator">GT</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Notification" SuccessMessageId="" Name="Notification upon adding new Failure Mode or Cause" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ROOT_CAUSE[FMD_IS_NEW='true']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="NotifyToType">'SUBSCRIBERCODE'</Param>
                        <Param Type="String" Name="NotifyTo">../COORDINATOR_CODE</Param>
                        <Param Type="String" Name="AppendRecordLink">'true'</Param>
                        <Param Type="String" Name="Subject">concat('New Failure Mode ', FAILURE_MODE_NAME, ' or a new Root Cause ', FAILURE_CAUSE_NAME, ' Added')</Param>
                        <Param Type="String" Name="Message">concat('A new Failure Mode ', FAILURE_MODE_NAME,' or a new Root Cause ', FAILURE_CAUSE_NAME, ' was created with CAPA ', ../RECORD_NUMBER, ' and has been automatically added to SmartSolve master setup.')</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Route task upon adding new Failure Mode or Cause">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">V_SS_CAPA-V_SS_CAPA_POLICY/FMD_NEW_EVAL</Param>
                        <Param Type="String" Name="rhsExpression">'Route task'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(V_SS_CAPA-V_SS_CAPA_ROOT_CAUSE[FMD_IS_NEW='true']/PK_ID)</Param>
                        <Param Type="String" Name="rhsExpression">'0'</Param>
                        <Param Type="String" Name="operator">GT</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="INSERTCHILDENTITIES" Name="Add child Row" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ROOT_CAUSE[FMD_IS_NEW='true']" SuccessMessageId="" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="ParentContextNode">'V_SS_CAPA'</Param>
                        <Param Type="String" Name="ChildEntity">'V_SS_CAPA-V_SS_CAPA_ACTIVITY'</Param>
                        <Param Type="FieldsToSet" Name="FieldsToSet">
                          <FieldsToSet>
                            <DataMaps>
                              <DataMap FieldName="IsExistingObject">'false'</DataMap>
                              <DataMap FieldName="ASSIGNED_ROLE_CODE">../V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Coordination']/ROLE_CODE</DataMap>
                              <DataMap FieldName="ASSIGNED_ACT_CODE">../V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Coordination']/ACTOR_CODE</DataMap>
                              <DataMap FieldName="DUE_DATE">AddDays(GetDate('Today'),7)</DataMap>
                              <DataMap FieldName="ACTIVITY_TYPE">'tAdhoc'</DataMap>
                              <DataMap FieldName="TASK_NAME">concat('Evaluate Failure Mode ', FAILURE_MODE_NAME)</DataMap>
                              <DataMap FieldName="ACTIVITY_DESCRIPTION">concat('A new Failure Mode ', FAILURE_MODE_NAME, ' or a new Root Cause ', FAILURE_CAUSE_NAME, ' was created with CAPA ', ../RECORD_NUMBER, ' and should be evaluated to determine whether it needs to be added to your master list.')</DataMap>
                            </DataMaps>
                          </FieldsToSet>
                        </Param>
                      </Params>
                    </Action>
                    <Action Type="INITIATEWORKFLOW" SuccessMessageId="AdHoc Task SubWorkflow started" Name="AdHoc Task SubWorkflow" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="ContainerWorkflowKey">'CAPAWORKFLOW'</Param>
                        <Param Type="String" Name="WorkflowKey">'AdHoc Task SubWorkflow'</Param>
                        <Param Type="String" Name="IsBlocking">'true'</Param>
                        <Param Type="String" Name="BlockingStepId">'tbpWaitingforClosure'</Param>
                        <Param Type="String" Name="WorkflowType">'SubWorkflow'</Param>
                        <Param Type="String" Name="UseExistingSubWorkflowIfExist">'true'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Name="GoTo" Type="Decision" FailureMessageId="">
                  <Actions>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'pPlanning'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Phase>
        <Phase Id="apCloseCAPA" Name="Close CAPA" Level="1">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules />
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Notification for CAPA Closed">
                  <Actions>
                    <Action Type="Notification" Name="Notification for CAPA Closed" ActionMode="PerRecord" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="NotifyToType">'EMAILADDRESS'</Param>
                        <Param Type="String" Name="NotifyTo">concat(GetActorEmailAddress("COORDINATOR_CODE"), ';', GetActorEmailAddress("CAPA_OWNER_CODE"))</Param>
                        <Param Type="String" Name="AppendRecordLink">'true'</Param>
                        <Param Type="String" Name="Subject">'CAPA: $RECORD_NUMBER$ is closed'</Param>
                        <Param Type="String" Name="Message">'CAPA: $RECORD_NUMBER$ is closed.
#lt;#br#gt;#
#lt;#br#gt;#
                CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Phase and Current Phase">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Phase and Current Phase" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="PHASE">'Closed'</Param>
                        <Param Type="String" Name="CURRENT_PHASE">'Closed'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="CAPA Post SQD">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">CAPA_TYPE</Param>
                        <Param Type="String" Name="rhsExpression">'Supplier'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="InvokeSmartSolveAPI" Name="CAPAPostUnpostSQD" ContextNode="V_SS_CAPA" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="Assembly">'EQM.Biz.CAPA.SupplierQuality'</Param>
                        <Param Type="String" Name="Type">'EQM.Biz.CAPA.SupplierQuality.StudioCAPASupplierUtil'</Param>
                        <Param Type="String" Name="Method">'CAPAPostUnpostSQD'</Param>
                        <Param Type="String" Name="PostUnpostValue">'Post'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Close CAPA">
                  <Actions>
                    <Action Type="CLOSEENTITY" ContextNode="" SuccessMessageId="97020" Name="Close CAPA">
                      <Params>
                        <Param Type="String" Name="Status">'CLOSED'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Name="GoTo" Type="Decision" FailureMessageId="">
                  <Actions>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'eEnd'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Phase>
        <Phase Id="apNonEffectivenessOtherAction" Name="Non Effectiveness Other Action" Level="1">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules />
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Notification for Reopen Investigation">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">VOE_RESULT</Param>
                        <Param Type="String" Name="rhsExpression">'Reopen Investigation Phase'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Notification" Name="Notification for Reopen Investigation" ActionMode="PerRecord" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="NotifyToType">'EMAILADDRESS'</Param>
                        <Param Type="String" Name="NotifyTo">GetActorEmailAddress("COORDINATOR_CODE")</Param>
                        <Param Type="String" Name="AppendRecordLink">'true'</Param>
                        <Param Type="String" Name="Subject">'Investigation has been reopened in CAPA: $RECORD_NUMBER$'</Param>
                        <Param Type="String" Name="Message">'Investigation has been reopened in CAPA: $RECORD_NUMBER$.
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Notification for Reopen Planning">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">VOE_RESULT</Param>
                        <Param Type="String" Name="rhsExpression">'Reopen Planning Phase'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Notification" Name="Notification for Reopen Planning" ActionMode="PerRecord" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="NotifyToType">'EMAILADDRESS'</Param>
                        <Param Type="String" Name="NotifyTo">GetActorEmailAddress("COORDINATOR_CODE")</Param>
                        <Param Type="String" Name="AppendRecordLink">'true'</Param>
                        <Param Type="String" Name="Subject">'Planning has been reopened in CAPA: $RECORD_NUMBER$'</Param>
                        <Param Type="String" Name="Message">'Planning has been reopened in CAPA: $RECORD_NUMBER$.
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update the following Phase Status of Investigation Phase to blank">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">VOE_RESULT</Param>
                        <Param Type="String" Name="rhsExpression">'Reopen Investigation Phase'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update the following Phase Status of Investigation Phase to blank" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="PLAN_STATUS">''</Param>
                        <Param Type="String" Name="IMPL_STATUS">''</Param>
                        <Param Type="String" Name="CLOSURE_STATUS">''</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update the following Phase Status of Planning Phase to blank">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">VOE_RESULT</Param>
                        <Param Type="String" Name="rhsExpression">'Reopen Planning Phase'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update the following Phase Status of Planning Phase to blank" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="IMPL_STATUS">''</Param>
                        <Param Type="String" Name="CLOSURE_STATUS">''</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Go To Investigation">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">VOE_RESULT</Param>
                        <Param Type="String" Name="rhsExpression">'Reopen Investigation Phase'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="" Id="Action_08e93a1b-d462-1234-a444-db6c58015a3e">
                      <Params>
                        <Param Type="String" Name="PhaseId">'pInvestigation'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Go To Planning">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">VOE_RESULT</Param>
                        <Param Type="String" Name="rhsExpression">'Reopen Planning Phase'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="" Id="Action_6b39e3a2-0984-123-88b5-81f2e94810e9">
                      <Params>
                        <Param Type="String" Name="PhaseId">'pPlanning'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Effectiveness Review - CAPA is Not Effective with No Action" IsNested="false">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">VOE_RESULT</Param>
                        <Param Type="String" Name="rhsExpression">'No Action'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'apOnCompleteoffEffectivenessReview'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Phase>
        <Phase Id="apBeforeInitiationVerification" Name="Before Initiation Verification" Level="1">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Initialize Team">
                  <Actions>
                    <Action Type="InitializeData" ContextNode="" SuccessMessageId="" Name="Initialize Team">
                      <Params>
                        <Param Type="String" Name="EntityToInitialize">'V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM'</Param>
                        <Param Type="String" Name="MappingDataObject">'GroupRole'</Param>
                        <Param Type="String" Name="MappingDataSource">'SmartSolve Data'</Param>
                        <Param Type="MappingQualifyingConditions" Name="MappingQualifyingConditions">
                          <MappingQualifyingConditions>
                            <Conditions>
                              <Condition OpenGroup="false" LeftValue="GPR_GRP_CODE" Operator="EQ" RightValue="TEAM_CODE" CloseGroup="false" RelationalOperator="  " />
                            </Conditions>
                          </MappingQualifyingConditions>
                        </Param>
                        <Param Type="FieldsToSet" Name="FieldsToSet">
                          <FieldsToSet>
                            <DataMaps>
                              <DataMap FieldName="MEMBER_TYPE">GPR_MEMBER_TYPE</DataMap>
                              <DataMap FieldName="MEMBER_TYPE_ROLE">GPR_MEMBER_TYPE_ROLE</DataMap>
                              <DataMap FieldName="MEMBER_TYPE_REQUIRED">GPR_REQUIRED</DataMap>
                              <DataMap FieldName="LEVEL_NO">GLV_LEVEL</DataMap>
                              <DataMap FieldName="ROLE_CODE">GPR_ROL_CODE</DataMap>
                              <DataMap FieldName="ACTOR_CODE">GPR_PREFERRED_ACT_CODE</DataMap>
                            </DataMaps>
                          </FieldsToSet>
                        </Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Initialize CAPA Source Type">
                  <Actions>
                    <Action Type="InitializeData" ContextNode="" SuccessMessageId="" Name="Initialize CAPA Source Type">
                      <Params>
                        <Param Type="String" Name="EntityToInitialize">'V_SS_CAPA'</Param>
                        <Param Type="String" Name="MappingDataObject">'CAPA Source'</Param>
                        <Param Type="String" Name="MappingDataSource">'List'</Param>
                        <Param Type="MappingQualifyingConditions" Name="MappingQualifyingConditions">
                          <MappingQualifyingConditions>
                            <Conditions>
                              <Condition OpenGroup="false" LeftValue="LST_VALUE" Operator="EQ" RightValue="CAPA_SOURCE" CloseGroup="false" RelationalOperator="  " />
                            </Conditions>
                          </MappingQualifyingConditions>
                        </Param>
                        <Param Type="FieldsToSet" Name="FieldsToSet">
                          <FieldsToSet>
                            <DataMaps>
                              <DataMap FieldName="CAPA_SOURCE_TYPE">LST_VALUE3</DataMap>
                            </DataMaps>
                          </FieldsToSet>
                        </Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Update CAPA Owner and CAPA Owner Role from Team">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Ownership'])</Param>
                        <Param Type="String" Name="rhsExpression">'1'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Ownership']/ACTOR_CODE</Param>
                        <Param Type="String" Name="rhsExpression">''</Param>
                        <Param Type="String" Name="operator">NEQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update CAPA Owner and CAPA Owner Role from Team" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="CAPA_OWNER_CODE">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Ownership']/ACTOR_CODE</Param>
                        <Param Type="String" Name="OWNER_ROLE_CODE">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Ownership']/ROLE_CODE</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update CAPA Coordinator and CAPA Coordinator Role from Team">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Coordination'])</Param>
                        <Param Type="String" Name="rhsExpression">'1'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Coordination']/ACTOR_CODE</Param>
                        <Param Type="String" Name="rhsExpression">''</Param>
                        <Param Type="String" Name="operator">NEQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update CAPA Coordinator and CAPA Coordinator Role from Team" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="COORDINATOR_CODE">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Coordination']/ACTOR_CODE</Param>
                        <Param Type="String" Name="COORDINATOR_ROLE_CODE">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Coordination']/ROLE_CODE</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Name="GoTo" Type="Decision" FailureMessageId="">
                  <Actions>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'pInitiationVerification'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Phase>
        <Phase Id="pActionPlanApproval" Name="Action Plan Approval" Level="1">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" Name="SynchEntityPhaseWithCurrentPhase" FailureMessageId="">
                  <Actions>
                    <Action Type="SynchEntityPhaseWithCurrentPhase" Name="SynchEntityPhaseWithCurrentPhase" ContextNode="" SuccessMessageId="" />
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Current Phase">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Current Phase" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="CURRENT_PHASE">'Planning'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" Name="AddTasks" FailureMessageId="">
                  <Actions>
                    <Action Type="GenerateTask" Name="Approve Action Plans" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="ContextNode">"V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Approval']"</Param>
                        <Param Type="String" Name="TaskCreationMode">'PerUniqueRecord'</Param>
                        <Param Type="String" Name="StepId">"'tApproveActionPlans'"</Param>
                        <Param Type="String" Name="TaskOwnerFieldName">"ACTOR_CODE"</Param>
                        <Param Type="String" Name="Role">"ROLE_CODE"</Param>
                        <Param Type="String" Name="Level">"'1'"</Param>
                        <Param Type="String" Name="TaskDueDateFieldName">"../V_SS_CAPA-V_SS_CAPA_POLICY/PLAN_DUE_DATE"</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Update Planning Completed Date and Planning Status (Action Plan Approval)">
                  <Conditions>
                    <Condition Name="" RowIdentifier="ENU_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Approve'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Planning Completed Date and Planning Status (Action Plan Approval)" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="PLAN_COMPL_DATE">GetDate('Today')</Param>
                        <Param Type="String" Name="PLAN_STATUS">'COMPLETED'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Transferred Record As Yes">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Transferred Record As Yes" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION[STATUS='No' and ACTION_TYPE='Action Plan']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="TRANSFERED_RECORD">'Yes'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Transferred Record As No">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Transferred Record As No" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION[STATUS!='No' and TRANSFERED_RECORD!='Yes' and ACTION_TYPE='Action Plan']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="TRANSFERED_RECORD">'No'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Notification Action Plan Approve">
                  <Conditions>
                    <Condition Name="" RowIdentifier="ESG_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_ESG_ENTITY_SIGNATURE[ESG_PHASE_NAME='Action Plan Approval']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ESG_ACTION_TAKEN</Param>
                        <Param Type="String" Name="rhsExpression">'Approve'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Notification" Name="Notification Action Plan Approve" ActionMode="PerRecord" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="NotifyToType">'EMAILADDRESS'</Param>
                        <Param Type="String" Name="NotifyTo">GetActorEmailAddress("V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Development']/ACTOR_CODE")</Param>
                        <Param Type="String" Name="NotifyCc">GetActorEmailAddress("COORDINATOR_CODE")</Param>
                        <Param Type="String" Name="AppendRecordLink">'true'</Param>
                        <Param Type="String" Name="Subject">'Action Plans for CAPA: $RECORD_NUMBER$ have been approved'</Param>
                        <Param Type="String" Name="Message">'
                Action Plans for CAPA: $RECORD_NUMBER$ have been approved.
                #lt;#br#gt;#
                #lt;#br#gt;#
                CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)
              '</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" Name="GoTo" FailureMessageId="">
                  <Conditions>
                    <Condition Name="" RowIdentifier="ESG_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_ESG_ENTITY_SIGNATURE[ESG_PHASE_NAME='Action Plan Approval']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ESG_ACTION_TAKEN</Param>
                        <Param Type="String" Name="rhsExpression">'Approve'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="SetPhaseResult" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseResult">'Approve'</Param>
                        <Param Type="String" Name="Comment">'Action Plan Approval result is: Approve'</Param>
                      </Params>
                    </Action>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'apMovetoImplementation'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" Name="GoTo" FailureMessageId="">
                  <Conditions>
                    <Condition Name="" RowIdentifier="ENU_ID" ChildRowsModifier="Any" ContextNode="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Reject'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="SetPhaseResult" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseResult">'Reject'</Param>
                        <Param Type="String" Name="Comment">'Action Plan Approval result is: Reject'</Param>
                      </Params>
                    </Action>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'pPlanning'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Phase>
        <Phase Id="pActionPlanVerification/Validation" Name="Action Plan Verification/Validation" Level="1">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" Name="SynchEntityPhaseWithCurrentPhase" FailureMessageId="">
                  <Actions>
                    <Action Type="SynchEntityPhaseWithCurrentPhase" Name="SynchEntityPhaseWithCurrentPhase" ContextNode="" SuccessMessageId="" />
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Verification/Validation Failed and Comment to null">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Verification/Validation Failed and Comment to null" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="FAIL_TO_VERIFY">''</Param>
                        <Param Type="String" Name="VERIFICATION_NOTE">''</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update if any action plans were affected to null">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update if any action plans were affected to null" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="PLAN_FAILED_TO_VERIFY">''</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Current Phase">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Current Phase" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="CURRENT_PHASE">'Planning'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" Name="AddTasks" FailureMessageId="">
                  <Actions>
                    <Action Type="GenerateTask" Name="Verify/Validate Action Plans" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="ContextNode">"V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Verification/Validation']"</Param>
                        <Param Type="String" Name="TaskCreationMode">'PerUniqueRecord'</Param>
                        <Param Type="String" Name="StepId">"'tVerify/ValidateActionPlans'"</Param>
                        <Param Type="String" Name="TaskOwnerFieldName">"ACTOR_CODE"</Param>
                        <Param Type="String" Name="Role">"ROLE_CODE"</Param>
                        <Param Type="String" Name="Level">"'1'"</Param>
                        <Param Type="String" Name="TaskDueDateFieldName">"../V_SS_CAPA-V_SS_CAPA_POLICY/PLAN_DUE_DATE"</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Update Planning Completed Date and Planning Status (Action Plan Verification/Validation)">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Planning Completed Date and Planning Status (Action Plan Verification/Validation)" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY[ACT_PLN_APP_REQ = 'false']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="PLAN_COMPL_DATE">GetDate('Today')</Param>
                        <Param Type="String" Name="PLAN_STATUS">'COMPLETED'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Verification/Validation Result to Fail">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Verification/Validation Result to Fail" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION[FAIL_TO_VERIFY='true']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="VERIFICATION_RESULT">'Fail'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Verification/Validation Result to Pass">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Verification/Validation Result to Pass" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION[FAIL_TO_VERIFY!='true']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="VERIFICATION_RESULT">'Pass'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" Name="GoTo" FailureMessageId="">
                  <Conditions>
                    <Condition Name="" RowIdentifier="ESG_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_ESG_ENTITY_SIGNATURE[ESG_PHASE_NAME='Action Plan Verification/Validation']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ESG_ACTION_TAKEN</Param>
                        <Param Type="String" Name="rhsExpression">'Verification/Validation Passed'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="SetPhaseResult" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseResult">'Verification/Validation Passed'</Param>
                        <Param Type="String" Name="Comment">'Action Plan Verification/Validation result is: Verification/Validation Passed'</Param>
                      </Params>
                    </Action>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'apMoveontoActionPlanApproval'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" Name="GoTo" FailureMessageId="">
                  <Conditions>
                    <Condition Name="" RowIdentifier="ENU_ID" ChildRowsModifier="Any" ContextNode="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Verification/Validation Failed'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="SetPhaseResult" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseResult">'Verification/Validation Failed'</Param>
                        <Param Type="String" Name="Comment">'Action Plan Verification/Validation result is: Verification/Validation Failed'</Param>
                      </Params>
                    </Action>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'pPlanning'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Phase>
        <Phase Id="pInvestigationApproval" Name="Investigation Approval" Level="1">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" Name="SynchEntityPhaseWithCurrentPhase" FailureMessageId="">
                  <Actions>
                    <Action Type="SynchEntityPhaseWithCurrentPhase" Name="SynchEntityPhaseWithCurrentPhase" ContextNode="" SuccessMessageId="" />
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Status and Current Phase">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Status and Current Phase" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="STATUS">'INWORKS'</Param>
                        <Param Type="String" Name="CURRENT_PHASE">'Investigation'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" Name="AddTasks" FailureMessageId="">
                  <Actions>
                    <Action Type="GenerateTask" Name="Approve CAPA Investigation" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="ContextNode">"V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Investigation Approval']"</Param>
                        <Param Type="String" Name="TaskCreationMode">'PerUniqueRecord'</Param>
                        <Param Type="String" Name="StepId">"'tApproveCAPAInvestigation'"</Param>
                        <Param Type="String" Name="TaskOwnerFieldName">"ACTOR_CODE"</Param>
                        <Param Type="String" Name="Role">"ROLE_CODE"</Param>
                        <Param Type="String" Name="Level">"'1'"</Param>
                        <Param Type="String" Name="TaskDueDateFieldName">"../V_SS_CAPA-V_SS_CAPA_POLICY/INVEST_DUE_DATE"</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Update Investigation Completed Date and Investigation Status (Investigation Approval)">
                  <Conditions>
                    <Condition Name="" RowIdentifier="ENU_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Approve'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Investigation Completed Date and Investigation Status (Investigation Approval)" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="INVEST_COMPL_DATE">GetDate('Today')</Param>
                        <Param Type="String" Name="INVEST_STATUS">'COMPLETED'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Notification Action Approve">
                  <Conditions>
                    <Condition Name="" RowIdentifier="ESG_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_ESG_ENTITY_SIGNATURE[ESG_PHASE_NAME='Investigation Approval']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ESG_ACTION_TAKEN</Param>
                        <Param Type="String" Name="rhsExpression">'Approve'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Notification" Name="Notification Action Approve" ActionMode="PerRecord" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="NotifyToType">'EMAILADDRESS'</Param>
                        <Param Type="String" Name="NotifyTo">GetActorEmailAddress("V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Investigation']/ACTOR_CODE")</Param>
                        <Param Type="String" Name="NotifyCc">GetActorEmailAddress("COORDINATOR_CODE")</Param>
                        <Param Type="String" Name="AppendRecordLink">'true'</Param>
                        <Param Type="String" Name="Subject">'Investigation for CAPA: $RECORD_NUMBER$ has been Approved'</Param>
                        <Param Type="String" Name="Message">'Investigation for CAPA: $RECORD_NUMBER$ has been Approved.
#lt;#br#gt;#
#lt;#br#gt;#
                CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" Name="GoTo" FailureMessageId="">
                  <Conditions>
                    <Condition Name="" RowIdentifier="ESG_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_ESG_ENTITY_SIGNATURE[ESG_PHASE_NAME='Investigation Approval']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ESG_ACTION_TAKEN</Param>
                        <Param Type="String" Name="rhsExpression">'Approve'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="SetPhaseResult" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseResult">'Approve'</Param>
                        <Param Type="String" Name="Comment">'Investigation Approval result is: Approve'</Param>
                      </Params>
                    </Action>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'apEvaluateFailureModeandCause'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" Name="GoTo" FailureMessageId="">
                  <Conditions>
                    <Condition Name="" RowIdentifier="ENU_ID" ChildRowsModifier="Any" ContextNode="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Reject'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="SetPhaseResult" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseResult">'Reject'</Param>
                        <Param Type="String" Name="Comment">'Investigation Approval result is: Reject'</Param>
                      </Params>
                    </Action>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'pInvestigation'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Phase>
        <Phase Id="pImplementationVerification" Name="Implementation Verification" Level="1">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" Name="SynchEntityPhaseWithCurrentPhase" FailureMessageId="">
                  <Actions>
                    <Action Type="SynchEntityPhaseWithCurrentPhase" Name="SynchEntityPhaseWithCurrentPhase" ContextNode="" SuccessMessageId="" />
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Status and Current Phase">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Status and Current Phase" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="STATUS">'INWORKS'</Param>
                        <Param Type="String" Name="CURRENT_PHASE">'Implementation'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Implementation Status">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Implementation Status" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="IMPL_STATUS">'INWORKS'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" Name="AddTasks" FailureMessageId="">
                  <Actions>
                    <Action Type="GenerateTask" Name="Verify Implementation" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="ContextNode">"V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Implementation Verification']"</Param>
                        <Param Type="String" Name="TaskCreationMode">'PerUniqueRecord'</Param>
                        <Param Type="String" Name="StepId">"'tVerifyImplementation'"</Param>
                        <Param Type="String" Name="TaskOwnerFieldName">"ACTOR_CODE"</Param>
                        <Param Type="String" Name="Role">"ROLE_CODE"</Param>
                        <Param Type="String" Name="Level">"'1'"</Param>
                        <Param Type="String" Name="TaskDueDateFieldName">"../V_SS_CAPA-V_SS_CAPA_POLICY/IMPL_DUE_DATE"</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Update Implementation Completed Date and Implementation Status">
                  <Conditions>
                    <Condition Name="" RowIdentifier="ENU_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Acceptable'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Implementation Completed Date and Implementation Status" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="IMPL_COMPL_DATE">GetDate('Today')</Param>
                        <Param Type="String" Name="IMPL_STATUS">'COMPLETED'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Notification Action Approve">
                  <Conditions>
                    <Condition Name="" RowIdentifier="ESG_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_ESG_ENTITY_SIGNATURE[ESG_PHASE_NAME='Implementation Verification']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ESG_ACTION_TAKEN</Param>
                        <Param Type="String" Name="rhsExpression">'Acceptable'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Notification" Name="Notification Action Approve" ActionMode="PerRecord" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="NotifyToType">'EMAILADDRESS'</Param>
                        <Param Type="String" Name="NotifyTo">GetActorEmailAddress("V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Development']/ACTOR_CODE")</Param>
                        <Param Type="String" Name="NotifyCc">concat(GetActorEmailAddress("V_SS_CAPA-V_SS_CAPA_ACTION[ACTION_TYPE='Action Plan']/ASSIGNED_ACT_CODE"), ';', GetActorEmailAddress(" COORDINATOR_CODE"))</Param>
                        <Param Type="String" Name="AppendRecordLink">'true'</Param>
                        <Param Type="String" Name="Subject">'Implementation Verification for CAPA: $RECORD_NUMBER$ has been completed'</Param>
                        <Param Type="String" Name="Message">'Implementation Verification for CAPA: $RECORD_NUMBER$ has been completed.
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" Name="GoTo" FailureMessageId="">
                  <Conditions>
                    <Condition Name="" RowIdentifier="ESG_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_ESG_ENTITY_SIGNATURE[ESG_PHASE_NAME='Implementation Verification']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ESG_ACTION_TAKEN</Param>
                        <Param Type="String" Name="rhsExpression">'Acceptable'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="SetPhaseResult" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseResult">'Acceptable'</Param>
                        <Param Type="String" Name="Comment">'Implementation Verification result is: Acceptable'</Param>
                      </Params>
                    </Action>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'apEndofImplementation'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" Name="GoTo" FailureMessageId="">
                  <Conditions>
                    <Condition Name="" RowIdentifier="ENU_ID" ChildRowsModifier="Any" ContextNode="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Not Acceptable'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="SetPhaseResult" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseResult">'Not Acceptable'</Param>
                        <Param Type="String" Name="Comment">'Implementation Verification result is: Not Acceptable'</Param>
                      </Params>
                    </Action>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'pPlanning'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Phase>
        <Phase Id="pEffectivenessReview" Name="Effectiveness Review" Level="1">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" Name="SynchEntityPhaseWithCurrentPhase" FailureMessageId="">
                  <Actions>
                    <Action Type="SynchEntityPhaseWithCurrentPhase" Name="SynchEntityPhaseWithCurrentPhase" ContextNode="" SuccessMessageId="" />
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Current Phase and Phase due date">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Current Phase and Phase due date" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="CURRENT_PHASE_DUE_DATE">V_SS_CAPA-V_SS_CAPA_POLICY/VOE_DUE_DATE</Param>
                        <Param Type="String" Name="CURRENT_PHASE">'Effectiveness Review'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Action : Reset Follow Req ">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Action : Reset Follow Req " ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="EFFECT_FOLLOWUP_REQ">''</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" Name="AddTasks" FailureMessageId="">
                  <Actions>
                    <Action Type="GenerateTask" Name="Verify CAPA Effectiveness" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="ContextNode">"V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Effectiveness Review']"</Param>
                        <Param Type="String" Name="TaskCreationMode">'PerUniqueRecord'</Param>
                        <Param Type="String" Name="StepId">"'tVerifyCAPAEffectiveness'"</Param>
                        <Param Type="String" Name="TaskOwnerFieldName">"ACTOR_CODE"</Param>
                        <Param Type="String" Name="Role">"ROLE_CODE"</Param>
                        <Param Type="String" Name="Level">"'1'"</Param>
                        <Param Type="String" Name="TaskDueDateFieldName">"../V_SS_CAPA-V_SS_CAPA_POLICY/VOE_DUE_DATE"</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Effectiveness Review - Follow up is required" IsNested="false">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">EFFECT_FOLLOWUP_REQ</Param>
                        <Param Type="String" Name="rhsExpression">'true'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'apOnFollowuprequired'</Param>
                      </Params>
                    </Action>
                    <Action Type="EvaluateRule" Name="" ContextNode="" SuccessMessageId="" ApplyWhenRuleIsNotSuccessful="true">
                      <Params>
                        <Param Type="String" Name="RuleName">'Effectiveness Review - Is CAPA  Effective?'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Effectiveness Review - Is CAPA  Effective?" IsNested="true">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">IS_CAPA_JUDGED_EFFECTIVE</Param>
                        <Param Type="String" Name="rhsExpression">'true'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'apOnCompleteoffEffectivenessReview'</Param>
                      </Params>
                    </Action>
                    <Action Type="EvaluateRule" Name="" ContextNode="" SuccessMessageId="" ApplyWhenRuleIsNotSuccessful="true">
                      <Params>
                        <Param Type="String" Name="RuleName">'Effectiveness Review - Create New CAPA'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Effectiveness Review - Create New CAPA" IsNested="true">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">VOE_RESULT</Param>
                        <Param Type="String" Name="rhsExpression">'Create New CAPA'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'apCreateNewCAPA'</Param>
                      </Params>
                    </Action>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="" ApplyWhenRuleIsNotSuccessful="true">
                      <Params>
                        <Param Type="String" Name="PhaseId">'apNonEffectivenessOtherAction'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Phase>
        <Phase Id="pPlanning" Name="Planning" Level="1">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" Name="SynchEntityPhaseWithCurrentPhase" FailureMessageId="">
                  <Actions>
                    <Action Type="SynchEntityPhaseWithCurrentPhase" Name="SynchEntityPhaseWithCurrentPhase" ContextNode="" SuccessMessageId="" />
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Current Phase and Phase due date">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Current Phase and Phase due date" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="CURRENT_PHASE_DUE_DATE">V_SS_CAPA-V_SS_CAPA_POLICY/PLAN_DUE_DATE</Param>
                        <Param Type="String" Name="CURRENT_PHASE">'Planning'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Planning Status">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Planning Status" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="PLAN_STATUS">'INWORKS'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Transferred Record As No">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Transferred Record As No" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION[STATUS='No' and TRANSFERED_RECORD='Yes' and ACTION_TYPE='Action Plan']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="TRANSFERED_RECORD">'No'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Reset Action Is Complete Flag">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Reset Action Is Complete Flag" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION[(STATUS='Yes' or STATUS='Skipped') and SIGN_OFF_PHASE='' and C_TASK_ID!='']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="STATUS">'No'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Insert Risk Assessment for Investigation">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">V_SS_CAPA-V_SS_CAPA_POLICY/INITIAL_RISK_ASSMNT_REQ</Param>
                        <Param Type="String" Name="rhsExpression">'true'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">V_SS_CAPA-V_SS_CAPA_POLICY/FINAL_RISK_ASSMNT_REQ</Param>
                        <Param Type="String" Name="rhsExpression">'true'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE = 'Final'])</Param>
                        <Param Type="String" Name="rhsExpression">'0'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="INSERTCHILDENTITIES" Name="Add Risk Assessment" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="" ContextNode="V_SS_CAPA" SuccessMessageId="" Id="Action_ee1ff254-7855-4ca4-8c6a-726411d3303b">
                      <Params>
                        <Param Type="String" Name="ParentContextNode">'V_SS_CAPA'</Param>
                        <Param Type="String" Name="ChildEntity">'V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT'</Param>
                        <Param Type="FieldsToSet" Name="FieldsToSet">
                          <FieldsToSet>
                            <DataMaps>
                              <DataMap FieldName="IsExistingObject">'false'</DataMap>
                              <DataMap FieldName="DETECTION_RATING">V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE ='Initial']/DETECTION_RATING</DataMap>
                              <DataMap FieldName="DETECTION_RATING_NAME">V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE ='Initial']/DETECTION_RATING_NAME</DataMap>
                              <DataMap FieldName="DOC_DOCUMENT_NO_REV">V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE ='Initial']/DOC_DOCUMENT_NO_REV</DataMap>
                              <DataMap FieldName="RISK_ASSESSMENT_DOC_NO">V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE ='Initial']/RISK_ASSESSMENT_DOC_NO</DataMap>
                              <DataMap FieldName="RISK_ASSESSMENT_DOC_REV">V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE ='Initial']/RISK_ASSESSMENT_DOC_REV</DataMap>
                              <DataMap FieldName="HEAT_MAP_VALUES">V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE ='Initial']/HEAT_MAP_VALUES</DataMap>
                              <DataMap FieldName="MITIGATION">V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE ='Initial']/MITIGATION</DataMap>
                              <DataMap FieldName="OCCURRENCE_RATING">V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE ='Initial']/OCCURRENCE_RATING</DataMap>
                              <DataMap FieldName="OCCURRENCE_RATING_NAME">V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE ='Initial']/OCCURRENCE_RATING_NAME</DataMap>
                              <DataMap FieldName="RISK_ANALYSIS_OUTCOME">V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE ='Initial']/RISK_ANALYSIS_OUTCOME</DataMap>
                              <DataMap FieldName="RISK_ASSESSMENT_TYPE">'Final'</DataMap>
                              <DataMap FieldName="RISK_RPN">V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE ='Initial']/RISK_RPN</DataMap>
                              <DataMap FieldName="SEVERITY_RATING">V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE ='Initial']/SEVERITY_RATING</DataMap>
                              <DataMap FieldName="SEVERITY_RATING_NAME">V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE ='Initial']/SEVERITY_RATING_NAME</DataMap>
                              <DataMap FieldName="RATIONALE_SEV_SELECTON">V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE ='Initial']/RATIONALE_SEV_SELECTON</DataMap>
                              <DataMap FieldName="RISK_ASSESSMENT_DOC_ID">V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE ='Initial']/RISK_ASSESSMENT_DOC_ID</DataMap>
                            </DataMaps>
                          </FieldsToSet>
                        </Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" Name="AddTasks" FailureMessageId="">
                  <Actions>
                    <Action Type="GenerateTask" Name="Develop Action Plans" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="ContextNode">"V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Development']"</Param>
                        <Param Type="String" Name="TaskCreationMode">'PerUniqueRecord'</Param>
                        <Param Type="String" Name="StepId">"'tDevelopActionPlans'"</Param>
                        <Param Type="String" Name="TaskOwnerFieldName">"ACTOR_CODE"</Param>
                        <Param Type="String" Name="Role">"ROLE_CODE"</Param>
                        <Param Type="String" Name="Level">"'1'"</Param>
                        <Param Type="String" Name="TaskDueDateFieldName">"../V_SS_CAPA-V_SS_CAPA_POLICY/PLAN_DUE_DATE"</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Update Planning Completed Date and Planning Status (Planning)">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Planning Completed Date and Planning Status (Planning)" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY[ACT_PLN_VAL_REQ = 'false' and ACT_PLN_APP_REQ = 'false']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="PLAN_COMPL_DATE">GetDate('Today')</Param>
                        <Param Type="String" Name="PLAN_STATUS">'COMPLETED'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Transferred Record As Yes and No Approval">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ACT_PLN_APP_REQ</Param>
                        <Param Type="String" Name="rhsExpression">'false'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Transferred Record As Yes and No Approval" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION[STATUS='No' and ACTION_TYPE='Action Plan']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="TRANSFERED_RECORD">'Yes'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Transferred Record As No and No Approval">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ACT_PLN_APP_REQ</Param>
                        <Param Type="String" Name="rhsExpression">'false'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Transferred Record As No and No Approval" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION[STATUS!='No' and TRANSFERED_RECORD!='Yes' and ACTION_TYPE='Action Plan']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="TRANSFERED_RECORD">'No'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Planning - Action Plan Verification/Validation is required" IsNested="false">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ACT_PLN_VAL_REQ</Param>
                        <Param Type="String" Name="rhsExpression">'true'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'pActionPlanVerification/Validation'</Param>
                      </Params>
                    </Action>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="" ApplyWhenRuleIsNotSuccessful="true">
                      <Params>
                        <Param Type="String" Name="PhaseId">'apMoveontoActionPlanApproval'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Phase>
        <Phase Id="pImplementation" Name="Implementation" Level="1">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" Name="SynchEntityPhaseWithCurrentPhase" FailureMessageId="">
                  <Actions>
                    <Action Type="SynchEntityPhaseWithCurrentPhase" Name="SynchEntityPhaseWithCurrentPhase" ContextNode="" SuccessMessageId="" />
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Current Phase and Phase due date">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Current Phase and Phase due date" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="CURRENT_PHASE_DUE_DATE">V_SS_CAPA-V_SS_CAPA_POLICY/IMPL_DUE_DATE</Param>
                        <Param Type="String" Name="STATUS">'INWORKS'</Param>
                        <Param Type="String" Name="CURRENT_PHASE">'Implementation'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Implementation Status">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Implementation Status" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="IMPL_STATUS">'INWORKS'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Display Message for Supplier CAPA">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">QUALITY_PORTAL_CAPA</Param>
                        <Param Type="String" Name="rhsExpression">'true'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" SuccessMessageId="Implementation is being routed to the Supplier via the Quality Portal" Name="Display Message for Supplier CAPA" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="UDF_STRING_1">UDF_STRING_1</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" Name="AddTasks" FailureMessageId="">
                  <Actions>
                    <Action Type="GenerateTask" Name="Include Effectiveness Review Plan" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="ContextNode">"V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Effectiveness Review Plan' and //V_SS_CAPA /V_SS_CAPA-V_SS_CAPA_POLICY/EFFECT_PLANNING_REQ='true']"</Param>
                        <Param Type="String" Name="TaskCreationMode">'PerUniqueRecord'</Param>
                        <Param Type="String" Name="StepId">"'tIncludeEffectivenessReviewPlan'"</Param>
                        <Param Type="String" Name="TaskOwnerFieldName">"ACTOR_CODE"</Param>
                        <Param Type="String" Name="Role">"ROLE_CODE"</Param>
                        <Param Type="String" Name="Level">"'1'"</Param>
                        <Param Type="String" Name="TaskDueDateFieldName">"../V_SS_CAPA-V_SS_CAPA_POLICY/IMPL_DUE_DATE"</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" Name="AddTasks" FailureMessageId="">
                  <Actions>
                    <Action Type="GenerateTask" Name="Implement Action Plans" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="ContextNode">"V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION[TRANSFERED_RECORD='Yes' and STATUS='No' and ACTION_TYPE='Action Plan']"</Param>
                        <Param Type="String" Name="TaskCreationMode">'PerUniqueUser'</Param>
                        <Param Type="String" Name="StepId">"'tImplementActionPlans'"</Param>
                        <Param Type="String" Name="TaskOwnerFieldName">"ASSIGNED_ACT_CODE"</Param>
                        <Param Type="String" Name="Role">"ASSIGNED_ROLE_CODE"</Param>
                        <Param Type="String" Name="Level">"'1'"</Param>
                        <Param Type="String" Name="TaskDueDateFieldName">"DUE_DATE"</Param>
                        <Param Type="String" Name="ExecuteInPortal">"../QUALITY_PORTAL_CAPA"</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Update Implementation Completed Date and Implementation Status">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Implementation Completed Date and Implementation Status" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY[IMPL_VERIFICATION_APP_REQ = 'false']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="IMPL_COMPL_DATE">GetDate('Today')</Param>
                        <Param Type="String" Name="IMPL_STATUS">'COMPLETED'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Implementation - Is Implementation Verification Required" IsNested="false">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">IMPL_VERIFICATION_APP_REQ</Param>
                        <Param Type="String" Name="rhsExpression">'true'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <OpenGroup />
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">EFFECT_PLANNING_REQ</Param>
                        <Param Type="String" Name="rhsExpression">'true'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>Or</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(../V_SS_CAPA-V_SS_CAPA_ACTION[ACTION_TYPE='Action Plan'])</Param>
                        <Param Type="String" Name="rhsExpression">'0'</Param>
                        <Param Type="String" Name="operator">GT</Param>
                      </Params>
                    </Condition>
                    <CloseGroup />
                  </Conditions>
                  <Actions>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'pImplementationVerification'</Param>
                      </Params>
                    </Action>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="" ApplyWhenRuleIsNotSuccessful="true">
                      <Params>
                        <Param Type="String" Name="PhaseId">'apEndofImplementation'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Phase>
        <Phase Id="pInvestigation" Name="Investigation" Level="1">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" Name="SynchEntityPhaseWithCurrentPhase" FailureMessageId="">
                  <Actions>
                    <Action Type="SynchEntityPhaseWithCurrentPhase" Name="SynchEntityPhaseWithCurrentPhase" ContextNode="" SuccessMessageId="" />
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Current Phase and Phase Due Date">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Current Phase and Phase Due Date" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="CURRENT_PHASE_DUE_DATE">V_SS_CAPA-V_SS_CAPA_POLICY/INVEST_DUE_DATE</Param>
                        <Param Type="String" Name="STATUS">'INWORKS'</Param>
                        <Param Type="String" Name="CURRENT_PHASE">'Investigation'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Investigation Status">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Investigation Status" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="INVEST_STATUS">'INWORKS'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Display message for Supplier CAPA">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">QUALITY_PORTAL_CAPA</Param>
                        <Param Type="String" Name="rhsExpression">'true'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" SuccessMessageId="Investigation is being routed to the Supplier via the Quality Portal" Name="Display message for Supplier CAPA" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="UDF_STRING_1">UDF_STRING_1</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" Name="AddTasks" FailureMessageId="">
                  <Actions>
                    <Action Type="GenerateTask" Name="Investigate CAPA" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="ContextNode">"V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Investigation']"</Param>
                        <Param Type="String" Name="TaskCreationMode">'PerUniqueRecord'</Param>
                        <Param Type="String" Name="StepId">"'tInvestigateCAPA'"</Param>
                        <Param Type="String" Name="TaskOwnerFieldName">"ACTOR_CODE"</Param>
                        <Param Type="String" Name="Role">"ROLE_CODE"</Param>
                        <Param Type="String" Name="Level">"'1'"</Param>
                        <Param Type="String" Name="TaskDueDateFieldName">"../V_SS_CAPA-V_SS_CAPA_POLICY/INVEST_DUE_DATE"</Param>
                        <Param Type="String" Name="ExecuteInPortal">"../QUALITY_PORTAL_CAPA"</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Update Investigation Completed Date and Investigation Status (Investigation)">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Investigation Completed Date and Investigation Status (Investigation)" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY[INV_APP_REQ = 'false']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="INVEST_COMPL_DATE">GetDate('Today')</Param>
                        <Param Type="String" Name="INVEST_STATUS">'COMPLETED'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Investigation - Approval is required" IsNested="false">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">INV_APP_REQ</Param>
                        <Param Type="String" Name="rhsExpression">'true'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'pInvestigationApproval'</Param>
                      </Params>
                    </Action>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="" ApplyWhenRuleIsNotSuccessful="true">
                      <Params>
                        <Param Type="String" Name="PhaseId">'apEvaluateFailureModeandCause'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Phase>
        <Phase Id="pCompletionReview" Name="Completion Review" Level="1">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" Name="SynchEntityPhaseWithCurrentPhase" FailureMessageId="">
                  <Actions>
                    <Action Type="SynchEntityPhaseWithCurrentPhase" Name="SynchEntityPhaseWithCurrentPhase" ContextNode="" SuccessMessageId="" />
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Current Phase and Phase due date">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Current Phase and Phase due date" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="CURRENT_PHASE_DUE_DATE">V_SS_CAPA-V_SS_CAPA_POLICY/CLOSURE_DUE_DATE</Param>
                        <Param Type="String" Name="STATUS">'INWORKS'</Param>
                        <Param Type="String" Name="CURRENT_PHASE">'Completion'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Completion Status">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Completion Status" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="CLOSURE_STATUS">'INWORKS'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" Name="AddTasks" FailureMessageId="">
                  <Actions>
                    <Action Type="GenerateTask" Name="Verify CAPA Completion" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="ContextNode">"V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Completion Review']"</Param>
                        <Param Type="String" Name="TaskCreationMode">'PerUniqueRecord'</Param>
                        <Param Type="String" Name="StepId">"'tVerifyCAPACompletion'"</Param>
                        <Param Type="String" Name="TaskOwnerFieldName">"ACTOR_CODE"</Param>
                        <Param Type="String" Name="Role">"ROLE_CODE"</Param>
                        <Param Type="String" Name="Level">"'1'"</Param>
                        <Param Type="String" Name="TaskDueDateFieldName">"../V_SS_CAPA-V_SS_CAPA_POLICY/CLOSURE_DUE_DATE"</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Update Status to In INWORKS">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">EFFECT_VERIFICATION_REQ</Param>
                        <Param Type="String" Name="rhsExpression">'true'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Status to In INWORKS" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="STATUS">'INWORKS'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Action for Effectiveness Review Date in Days">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">EFFECT_REVIEW_INTVL_UNIT</Param>
                        <Param Type="String" Name="rhsExpression">'Days'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Action for Effectiveness Review Date in Days" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="VOE_DUE_DATE">AddDays(GetDate('Today'),../EFFECT_REVIEW_INTERVAL)</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Action for Effectiveness Review Date in Months">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">EFFECT_REVIEW_INTVL_UNIT</Param>
                        <Param Type="String" Name="rhsExpression">'Months'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Action for Effectiveness Review Date in Months" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="VOE_DUE_DATE">AddMonths(GetDate('Today'),../EFFECT_REVIEW_INTERVAL)</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Closure Completed Date and Completion Status">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Closure Completed Date and Completion Status" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="CLOSURE_COMPL_DATE">GetDate('Today')</Param>
                        <Param Type="String" Name="CLOSURE_STATUS">'COMPLETED'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Age of CAPA">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Age of CAPA" ContextNode="V_SS_CAPA[IS_CAPA_REOPENED!='true']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="CAPA_AGE">GetDateDifference(INITIATION_DATE,GetDate('Today'))</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Age of CAPA for Reopened CAPA">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Age of CAPA for Reopened CAPA" ContextNode="V_SS_CAPA[IS_CAPA_REOPENED='true' and CAPA_AGE !='']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="CAPA_AGE">CAPA_AGE  + GetDateDifference(CAPA_REOPENED_DATE,GetDate('Today'))</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Age of CAPA for Reopened CAPA - If Age is Null">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Age of CAPA for Reopened CAPA - If Age is Null" ContextNode="V_SS_CAPA[IS_CAPA_REOPENED='true' and CAPA_AGE ='']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="CAPA_AGE">GetDateDifference(CAPA_REOPENED_DATE,GetDate('Today'))</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Close CAPA Phase">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Close CAPA Phase" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="PHASE">'Closed'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Effectiveness Review is required" IsNested="false">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">EFFECT_VERIFICATION_REQ</Param>
                        <Param Type="String" Name="rhsExpression">'true'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'pEffectivenessReview'</Param>
                      </Params>
                    </Action>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="" ApplyWhenRuleIsNotSuccessful="true">
                      <Params>
                        <Param Type="String" Name="PhaseId">'bpWaitingforClosure'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Phase>
        <Phase Id="pInitiationVerification" Name="Initiation Verification" Level="1">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" Name="SynchEntityPhaseWithCurrentPhase" FailureMessageId="">
                  <Actions>
                    <Action Type="SynchEntityPhaseWithCurrentPhase" Name="SynchEntityPhaseWithCurrentPhase" ContextNode="" SuccessMessageId="" />
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Status and Current Phase">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Status and Current Phase" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="STATUS">'INWORKS'</Param>
                        <Param Type="String" Name="CURRENT_PHASE">'Verification'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="CAPA Unpost SQD">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">IS_CAPA_REOPENED</Param>
                        <Param Type="String" Name="rhsExpression">'true'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">CAPA_TYPE</Param>
                        <Param Type="String" Name="rhsExpression">'Supplier'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="InvokeSmartSolveAPI" Name="CAPAPostUnpostSQD" ContextNode="V_SS_CAPA" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="Assembly">'EQM.Biz.CAPA.SupplierQuality'</Param>
                        <Param Type="String" Name="Type">'EQM.Biz.CAPA.SupplierQuality.StudioCAPASupplierUtil'</Param>
                        <Param Type="String" Name="Method">'CAPAPostUnpostSQD'</Param>
                        <Param Type="String" Name="PostUnpostValue">'Unpost'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Add Initial Risk Assessment if Perform Initial Risk Assessment is Yes">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">V_SS_CAPA-V_SS_CAPA_POLICY/INITIAL_RISK_ASSMNT_REQ</Param>
                        <Param Type="String" Name="rhsExpression">'true'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE = 'Initial'])</Param>
                        <Param Type="String" Name="rhsExpression">'0'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="EvaluateStep" ContextNode="" SuccessMessageId="" Name="Add Initial Risk Assessment if Perform Initial Risk Assessment is Yes">
                      <Params>
                        <Param Type="String" Name="StepId">'stAddInitialRiskAssessment'</Param>
                        <Param Type="String" Name="Scope">'SameWorkFlow'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" Name="AddTasks" FailureMessageId="">
                  <Actions>
                    <Action Type="GenerateTask" Name="Verify CAPA Initiation" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="ContextNode">"V_SS_CAPA"</Param>
                        <Param Type="String" Name="TaskCreationMode">'PerUniqueRecord'</Param>
                        <Param Type="String" Name="StepId">"'tVerifyCAPAInitiation'"</Param>
                        <Param Type="String" Name="TaskOwnerFieldName">"COORDINATOR_CODE"</Param>
                        <Param Type="String" Name="Role">"COORDINATOR_ROLE_CODE"</Param>
                        <Param Type="String" Name="Level">"'1'"</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Update columns if category is Internal">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">CAPA_CATEGORY</Param>
                        <Param Type="String" Name="rhsExpression">'Internal'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update columns if category is Internal" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="CLIENT_CODE">''</Param>
                        <Param Type="String" Name="CLIENT_NAME">''</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Investigation Contact">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">QUALITY_PORTAL_CAPA</Param>
                        <Param Type="String" Name="rhsExpression">'true'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Investigation Contact" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Investigation']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="ACTOR_CODE">CONTACT_CODE</Param>
                        <Param Type="String" Name="ACTOR_NAME">CONTACT_NAME</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Investigation Due Date">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Investigation Due Date" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY[INV_REQ = 'true' and INVEST_DUE_DATE = '']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="INVEST_DUE_DATE">AddBusinessDays(GetDate('Today'), INVEST_INTERVAL, ../OWNING_SITE_CODE)</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Planning Due Date">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Planning Due Date" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY[INV_REQ = 'false' and PLAN_DUE_DATE = '']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="PLAN_DUE_DATE">AddBusinessDays(GetDate('Today'), PLAN_INTERVAL, ../OWNING_SITE_CODE)</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Investigation - Investigation is required" IsNested="false">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">INV_REQ</Param>
                        <Param Type="String" Name="rhsExpression">'true'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'pInvestigation'</Param>
                      </Params>
                    </Action>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="" ApplyWhenRuleIsNotSuccessful="true">
                      <Params>
                        <Param Type="String" Name="PhaseId">'apEvaluateFailureModeandCause'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Phase>
        <Phase Id="bpWaitingforClosure" Name="Waiting for Closure" Level="1">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" Name="SynchEntityPhaseWithCurrentPhase" FailureMessageId="">
                  <Actions>
                    <Action Type="SynchEntityPhaseWithCurrentPhase" Name="SynchEntityPhaseWithCurrentPhase" ContextNode="" SuccessMessageId="" />
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Add Blocking Task">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">GetBlockingWorkflowCount(PK_ID, 'tbpWaitingforClosure')</Param>
                        <Param Type="String" Name="rhsExpression">'0'</Param>
                        <Param Type="String" Name="operator">GT</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="ADDTASK" Name="Add Task" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="TaskId">'tbpWaitingforClosure'</Param>
                        <Param Type="String" Name="Owner">'SMARTSOLVE'</Param>
                        <Param Type="String" Name="Role">'SYSTEM'</Param>
                        <Param Type="String" Name="Level">'1'</Param>
                        <Param Type="String" Name="IsBlockingTask">'true'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Name="GoTo" Type="Decision" FailureMessageId="">
                  <Actions>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'apCloseCAPA'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Phase>
        <Phase Id="eEnd" Name="End" Level="1" />
      </Phases>
      <Steps>
        <Task Id="tVerifyCAPAEffectiveness" Name="Verify CAPA Effectiveness" FormName="CAPA_EFFECTIVENESS_REVIEW" RequiresESignature="true" SubstituteOption="AnyoneWithinSameRole" EscalationCode="CAPA_NOT_VER_EFF" EscalationMessageId="tVerifyCAPAEffectiveness">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Reset Is CAPA Effective Flag">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Reset Is CAPA Effective Flag" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="IS_CAPA_JUDGED_EFFECTIVE">''</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Validation" FailureMessageId="" Name="Completion Review - Effectiveness Review Due Date cannot be lesss than today">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY[EFFECT_FOLLOWUP_REQ='true']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">CompareDates(VOE_DUE_DATE,GetDate('Today')) &gt;=0</Param>
                        <Param Type="String" Name="rhsExpression">'true'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                      <Message FieldIdentifier="PK_ID" MessageDescription="97070">
                        <Params>
                          <Param Type="FieldIdentifier" Name="1" />
                        </Params>
                      </Message>
                    </Condition>
                  </Conditions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Task>
        <Task Id="tDevelopActionPlans" Name="Develop Action Plans" FormName="CAPA_PLANNING" RequiresESignature="true" SubstituteOption="AnyoneWithinSameRole" EscalationCode="CAPA_NOT_ACT_PLN" EscalationMessageId="tDevelopActionPlans">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules />
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Validation" FailureMessageId="" Name="Planning- At least one action plan should be defined">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(V_SS_CAPA-V_SS_CAPA_ACTION[ACTION_TYPE='Action Plan'])</Param>
                        <Param Type="String" Name="rhsExpression">'0'</Param>
                        <Param Type="String" Name="operator">GT</Param>
                      </Params>
                      <Message FieldIdentifier="PK_ID" MessageDescription="97010">
                        <Params>
                          <Param Type="FieldIdentifier" Name="1" />
                        </Params>
                      </Message>
                    </Condition>
                  </Conditions>
                </Rule>
                <Rule Type="Validation" FailureMessageId="" Name="Planning - Assigned Role should match Assigned Actor">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION[count(PLAN_NO)&gt;0 and ACTION_TYPE  != 'Effectiveness Review Plan' and STATUS != 'Yes' and STATUS != 'Skipped']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ValidateActorAndHasRole(ASSIGNED_ACT_CODE, ASSIGNED_ROLE_CODE)</Param>
                        <Param Type="String" Name="rhsExpression">'true'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                      <Message FieldIdentifier="ASSIGNED_ACT_CODE" MessageDescription="54040">
                        <Params>
                          <Param Type="FieldIdentifier" Name="1">ASSIGNED_ACT_CODE</Param>
                        </Params>
                      </Message>
                    </Condition>
                  </Conditions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Action Verification/Validation Information">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Action Verification/Validation Information" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="FAIL_TO_VERIFY">'false'</Param>
                        <Param Type="String" Name="VERIFICATION_NOTE">''</Param>
                        <Param Type="String" Name="VERIFICATION_RESULT">''</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update CAPA Action Plan Verification Flag">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update CAPA Action Plan Verification Flag" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="PLAN_FAILED_TO_VERIFY">''</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Task>
        <Task Id="tIncludeEffectivenessReviewPlan" Name="Include Effectiveness Review Plan" FormName="CAPA_EFFECTIVENESS_PLANNING" RequiresESignature="true" SubstituteOption="AnyoneWithinSameRole" EscalationCode="CAPA_NOT_INC_EFF_RVW_PLN" EscalationMessageId="tIncludeEffectivenessReviewPlan">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules />
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Validation" FailureMessageId="" Name="Effectiveness Plan - At least one Effectiveness Review plan is defined.">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(V_SS_CAPA-V_SS_CAPA_ACTION[ACTION_TYPE='Effectiveness Review Plan'])</Param>
                        <Param Type="String" Name="rhsExpression">'0'</Param>
                        <Param Type="String" Name="operator">GT</Param>
                      </Params>
                      <Message FieldIdentifier="PK_ID" MessageDescription="97026">
                        <Params>
                          <Param Type="FieldIdentifier" Name="1" />
                        </Params>
                      </Message>
                    </Condition>
                  </Conditions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Task>
        <Task Id="tImplementActionPlans" Name="Implement Action Plans" FormName="CAPA_IMPLEMENTATION_ACTPLAN" RequiresESignature="true" SubstituteOption="AnyoneWithinSameRole" EscalationCode="CAPA_NOT_IMP" EscalationMessageId="tImplementActionPlans">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Update Complete Action Phase">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Complete Action Phase" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION[(STATUS='Yes' or STATUS='Skipped') and SIGN_OFF_PHASE='']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="SIGN_OFF_PHASE">'Implementation'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Validation" FailureMessageId="" Name="Implementation - All the action plans should be completed">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(V_SS_CAPA-V_SS_CAPA_ACTION[C_TASK_ID=//PhaseStepBeingEvaluated/StepBeingEvaluated/TaskId and STATUS='No'])</Param>
                        <Param Type="String" Name="rhsExpression">'0'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                      <Message FieldIdentifier="PK_ID" MessageDescription="97028">
                        <Params>
                          <Param Type="FieldIdentifier" Name="1" />
                        </Params>
                      </Message>
                    </Condition>
                  </Conditions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Reset Requirement Fulfilled if Skipped">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Reset Requirement Fulfilled if Skipped" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION[STATUS != 'Yes']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="REQUIREMENT_FULFILLED">''</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Sign-off Phase">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Sign-off Phase" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION[(STATUS='Yes' or STATUS='Skipped') and SIGN_OFF_PHASE='']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="SIGN_OFF_PHASE">'Implementation'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Task>
        <Task Id="tInvestigateCAPA" Name="Investigate CAPA" FormName="CAPA_INVESTIGATION" RequiresESignature="true" SubstituteOption="AnyoneWithinSameRole" EscalationCode="CAPA_NOT_INV" EscalationMessageId="tInvestigateCAPA">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules />
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Validation" FailureMessageId="" Name="Investigation - At least one root cause is defined">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(V_SS_CAPA-V_SS_CAPA_ROOT_CAUSE)</Param>
                        <Param Type="String" Name="rhsExpression">'0'</Param>
                        <Param Type="String" Name="operator">GT</Param>
                      </Params>
                      <Message FieldIdentifier="PK_ID" MessageDescription="97008">
                        <Params>
                          <Param Type="FieldIdentifier" Name="1" />
                        </Params>
                      </Message>
                    </Condition>
                  </Conditions>
                </Rule>
                <Rule Type="Validation" FailureMessageId="" Name="Investigation - Performed Date should be less than or equal to today's date">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(V_SS_CAPA-V_SS_CAPA_INVEST_RESULT[(CompareDates(PERFORMED_DATE, GetDate('Today')) = 1 )])</Param>
                        <Param Type="String" Name="rhsExpression">'0'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                      <Message FieldIdentifier="PK_ID" MessageDescription="97044">
                        <Params>
                          <Param Type="FieldIdentifier" Name="1" />
                        </Params>
                      </Message>
                    </Condition>
                  </Conditions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Task>
        <Task Id="tVerifyCAPACompletion" Name="Verify CAPA Completion" FormName="CAPA_COMPLETION_REVIEW" RequiresESignature="true" SubstituteOption="AnyoneWithinSameRole" EscalationCode="CAPA_NOT_CLOS" EscalationMessageId="tVerifyCAPACompletion">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules />
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Evaluate Void Due Date Extension step in subworkflow">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">GetNumberOfSubWorkflowsStarted(PK_ID, 'Due Date Extension')</Param>
                        <Param Type="String" Name="rhsExpression">'0'</Param>
                        <Param Type="String" Name="operator">GT</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Completion Review'])</Param>
                        <Param Type="String" Name="rhsExpression">'0'</Param>
                        <Param Type="String" Name="operator">GT</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="EvaluateStep" Name="VoidDueDate" ContextNode="" SuccessMessageId="" Id="Action_be9486c8-fe6e-4696-b7dd-17d2b14fd5e3">
                      <Params>
                        <Param Name="ContainerWorkflowKey" Type="String">'CAPAWORKFLOW'</Param>
                        <Param Name="WorkflowKey" Type="String">'Due Date Extension'</Param>
                        <Param Name="EntityTypeId" Type="String">'CAPA'</Param>
                        <Param Name="RecordId" Type="String">PK_ID</Param>
                        <Param Name="WorkflowInstanceId" Type="String" />
                        <Param Name="StepId" Type="String">'stVoidDueDate'</Param>
                        <Param Name="Scope" Type="String">'SameContainerWorkFlow'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Task>
        <Task Id="tVerifyCAPAInitiation" Name="Verify CAPA Initiation" FormName="CAPA_INITIATION_VERIFICATION" RequiresESignature="true" SubstituteOption="AnyoneWithinSameRole" EscalationCode="CAPA_NOT_INIT" EscalationMessageId="tVerifyCAPAInitiation">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Update Coordinator in Team if reopened">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">IS_CAPA_REOPENED</Param>
                        <Param Type="String" Name="rhsExpression">'true'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Coordinator in Team if reopened" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE = &quot;Coordination&quot; and ACTOR_CODE != ../COORDINATOR_CODE]" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="ACTOR_CODE">../COORDINATOR_CODE</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Update Coordinator">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Coordination'])</Param>
                        <Param Type="String" Name="rhsExpression">'1'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Coordination']/ACTOR_CODE</Param>
                        <Param Type="String" Name="rhsExpression">''</Param>
                        <Param Type="String" Name="operator">NEQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Coordinator" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="COORDINATOR_CODE">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Coordination']/ACTOR_CODE</Param>
                        <Param Type="String" Name="COORDINATOR_ROLE_CODE">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Coordination']/ROLE_CODE</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update  Owner">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Ownership'])</Param>
                        <Param Type="String" Name="rhsExpression">'1'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Ownership']/ACTOR_CODE</Param>
                        <Param Type="String" Name="rhsExpression">''</Param>
                        <Param Type="String" Name="operator">NEQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update  Owner" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="CAPA_OWNER_CODE">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Ownership']/ACTOR_CODE</Param>
                        <Param Type="String" Name="OWNER_ROLE_CODE">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Ownership']/ROLE_CODE</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Quality Portal User">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">QUALITY_PORTAL_CAPA</Param>
                        <Param Type="String" Name="rhsExpression">''</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Quality Portal User" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="QUALITY_PORTAL_CAPA">'false'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Validation" FailureMessageId="" Name="Team Members-Investigation task should be defined if Investigation is required">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY[INV_REQ='true']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(../V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Investigation'])</Param>
                        <Param Type="String" Name="rhsExpression">'1'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                      <Message FieldIdentifier="PK_ID" MessageDescription="97042">
                        <Params>
                          <Param Type="FieldIdentifier" Name="1">PK_ID</Param>
                        </Params>
                      </Message>
                    </Condition>
                  </Conditions>
                </Rule>
                <Rule Type="Validation" FailureMessageId="" Name="Team Members-Investigation Approval task should be defined if Approval is required">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY[INV_APP_REQ='true']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(../V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Investigation Approval'])</Param>
                        <Param Type="String" Name="rhsExpression">'0'</Param>
                        <Param Type="String" Name="operator">GT</Param>
                      </Params>
                      <Message FieldIdentifier="PK_ID" MessageDescription="97002">
                        <Params>
                          <Param Type="FieldIdentifier" Name="1">PK_ID</Param>
                        </Params>
                      </Message>
                    </Condition>
                  </Conditions>
                </Rule>
                <Rule Type="Validation" FailureMessageId="" Name="Team Members-Action Plan Development task should be defined">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Development'])</Param>
                        <Param Type="String" Name="rhsExpression">'1'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                      <Message FieldIdentifier="PK_ID" MessageDescription="97108">
                        <Params>
                          <Param Type="FieldIdentifier" Name="1">PK_ID</Param>
                        </Params>
                      </Message>
                    </Condition>
                  </Conditions>
                </Rule>
                <Rule Type="Validation" FailureMessageId="" Name="Team Members-Action Plan Verification/Validation task should be defined if Verification/Validation is required">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY[ACT_PLN_VAL_REQ='true']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(../V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Verification/Validation'])</Param>
                        <Param Type="String" Name="rhsExpression">'0'</Param>
                        <Param Type="String" Name="operator">GT</Param>
                      </Params>
                      <Message FieldIdentifier="PK_ID" MessageDescription="97092">
                        <Params>
                          <Param Type="FieldIdentifier" Name="1">PK_ID</Param>
                        </Params>
                      </Message>
                    </Condition>
                  </Conditions>
                </Rule>
                <Rule Type="Validation" FailureMessageId="" Name="Team Members-Action Plan Approval task should be defined if Action Plan Approval is required">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY[ACT_PLN_APP_REQ='true']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(../V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Approval'])</Param>
                        <Param Type="String" Name="rhsExpression">'0'</Param>
                        <Param Type="String" Name="operator">GT</Param>
                      </Params>
                      <Message FieldIdentifier="PK_ID" MessageDescription="97110">
                        <Params>
                          <Param Type="FieldIdentifier" Name="1">PK_ID</Param>
                        </Params>
                      </Message>
                    </Condition>
                  </Conditions>
                </Rule>
                <Rule Type="Validation" FailureMessageId="" Name="Team Members-Effectiveness Review Plan task should be defined if Plan is required">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY[EFFECT_PLANNING_REQ='true']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(../V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Effectiveness Review Plan'])</Param>
                        <Param Type="String" Name="rhsExpression">'1'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                      <Message FieldIdentifier="PK_ID" MessageDescription="97004">
                        <Params>
                          <Param Type="FieldIdentifier" Name="1" />
                        </Params>
                      </Message>
                    </Condition>
                  </Conditions>
                </Rule>
                <Rule Type="Validation" FailureMessageId="" Name="Team Members-Implementation Verification task should be defined if Approval is required">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY[IMPL_VERIFICATION_APP_REQ='true']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(../V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Implementation Verification'])</Param>
                        <Param Type="String" Name="rhsExpression">'0'</Param>
                        <Param Type="String" Name="operator">GT</Param>
                      </Params>
                      <Message FieldIdentifier="ENTITY_ID" MessageDescription="97038">
                        <Params>
                          <Param Type="FieldIdentifier" Name="1">ENTITY_ID</Param>
                        </Params>
                      </Message>
                    </Condition>
                  </Conditions>
                </Rule>
                <Rule Type="Validation" FailureMessageId="" Name="Team Members-Completion Review task should be defined">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Completion Review'])</Param>
                        <Param Type="String" Name="rhsExpression">'1'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                      <Message FieldIdentifier="PK_ID" MessageDescription="97112">
                        <Params>
                          <Param Type="FieldIdentifier" Name="1">PK_ID</Param>
                        </Params>
                      </Message>
                    </Condition>
                  </Conditions>
                </Rule>
                <Rule Type="Validation" FailureMessageId="" Name="Team Members-Effectiveness Review task should be defined">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Effectiveness Review'])</Param>
                        <Param Type="String" Name="rhsExpression">'1'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                      <Message FieldIdentifier="PK_ID" MessageDescription="97114">
                        <Params>
                          <Param Type="FieldIdentifier" Name="1">PK_ID</Param>
                        </Params>
                      </Message>
                    </Condition>
                  </Conditions>
                </Rule>
                <Rule Type="Validation" FailureMessageId="" Name="Team Members-Due Date Extension Approval task should be defined">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Due Date Extension Approval'])</Param>
                        <Param Type="String" Name="rhsExpression">'0'</Param>
                        <Param Type="String" Name="operator">GT</Param>
                      </Params>
                      <Message FieldIdentifier="PK_ID" MessageDescription="97050">
                        <Params>
                          <Param Type="FieldIdentifier" Name="1" />
                        </Params>
                      </Message>
                    </Condition>
                  </Conditions>
                </Rule>
                <Rule Type="Validation" FailureMessageId="" Name="Team Members - Coordination task should be defined">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Coordination'])</Param>
                        <Param Type="String" Name="rhsExpression">'1'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                      <Message FieldIdentifier="PK_ID" MessageDescription="97116">
                        <Params>
                          <Param Type="FieldIdentifier" Name="1" />
                        </Params>
                      </Message>
                    </Condition>
                  </Conditions>
                </Rule>
                <Rule Type="Validation" FailureMessageId="" Name="Team Members - Ownership task should be defined">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Ownership'])</Param>
                        <Param Type="String" Name="rhsExpression">'1'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                      <Message FieldIdentifier="PK_ID" MessageDescription="97080">
                        <Params>
                          <Param Type="FieldIdentifier" Name="1" />
                        </Params>
                      </Message>
                    </Condition>
                  </Conditions>
                </Rule>
                <Rule Type="Validation" FailureMessageId="" Name="Initiation Verification team and Update Team Member - Assigned Role Should match Assigned Actor">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM[ROLE_CODE != '' and ACTOR_CODE != '']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ValidateActorAndHasRole(ACTOR_CODE, ROLE_CODE)</Param>
                        <Param Type="String" Name="rhsExpression">'true'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                      <Message FieldIdentifier="ACTOR_CODE" MessageDescription="54040">
                        <Params>
                          <Param Type="FieldIdentifier" Name="1">ACTOR_CODE</Param>
                        </Params>
                      </Message>
                    </Condition>
                  </Conditions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Initialize CAPA Source Type">
                  <Actions>
                    <Action Type="InitializeData" ContextNode="" SuccessMessageId="" Name="Initialize CAPA Source Type">
                      <Params>
                        <Param Type="String" Name="EntityToInitialize">'V_SS_CAPA'</Param>
                        <Param Type="String" Name="MappingDataObject">'CAPA Source'</Param>
                        <Param Type="String" Name="MappingDataSource">'List'</Param>
                        <Param Type="MappingQualifyingConditions" Name="MappingQualifyingConditions">
                          <MappingQualifyingConditions>
                            <Conditions>
                              <Condition OpenGroup="false" LeftValue="LST_VALUE" Operator="EQ" RightValue="CAPA_SOURCE" CloseGroup="false" RelationalOperator="  " />
                            </Conditions>
                          </MappingQualifyingConditions>
                        </Param>
                        <Param Type="FieldsToSet" Name="FieldsToSet">
                          <FieldsToSet>
                            <DataMaps>
                              <DataMap FieldName="CAPA_SOURCE_TYPE">LST_VALUE3</DataMap>
                            </DataMaps>
                          </FieldsToSet>
                        </Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Task>
        <Task Id="tApproveActionPlans" Name="Approve Action Plans" FormName="CAPA_PLANNING_APPROVAL" RequiresESignature="true" SubstituteOption="AnyoneWithinSameRole" EscalationCode="CAPA_NOT_ACT_PLN_APR" EscalationMessageId="tApproveActionPlans">
          <UserActionSet>
            <UserAction Value="Approve">'Approve'</UserAction>
            <UserAction Value="Reject">'Reject'</UserAction>
          </UserActionSet>
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules />
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Notification Action Plan Reject">
                  <Conditions>
                    <Condition Name="" RowIdentifier="ENU_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Reject'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Notification" Name="Notification Action Plan Reject" ActionMode="PerRecord" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="NotifyToType">'EMAILADDRESS'</Param>
                        <Param Type="String" Name="NotifyTo">GetActorEmailAddress("V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Development']/ACTOR_CODE")</Param>
                        <Param Type="String" Name="NotifyCc">GetActorEmailAddress("COORDINATOR_CODE")</Param>
                        <Param Type="String" Name="AppendRecordLink">'true'</Param>
                        <Param Type="String" Name="Subject">'Action Plans for $RECORD_NUMBER$ have been rejected'</Param>
                        <Param Type="String" Name="Message">'
                Action Plans for $RECORD_NUMBER$ have been rejected.
                #lt;#br#gt;#
                #lt;#br#gt;#
                Rejection Comment:
                $V_ENU_NONPERSIS_USER_DATA/ENU_COMMENT$
                #lt;#br#gt;#
                #lt;#br#gt;#
                CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)
              '</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" Name="GoTo" FailureMessageId="">
                  <Conditions>
                    <Condition Name="" RowIdentifier="ENU_ID" ChildRowsModifier="Any" ContextNode="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Reject'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="EvaluatePhaseExitPolicy" Name="" ContextNode="" SuccessMessageId="">
                      <Params />
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Task>
        <Task Id="tVerify/ValidateActionPlans" Name="Verify/Validate Action Plans" FormName="CAPA_ACT_PLAN_VERIFICATION" RequiresESignature="true" SubstituteOption="AnyoneWithinSameRole" EscalationCode="CAPA_NOT_ACT_PLN_VER" EscalationMessageId="tVerify/ValidateActionPlans">
          <UserActionSet>
            <UserAction Value="Verification/Validation Passed">'Verification/Validation Passed'</UserAction>
            <UserAction Value="Verification/Validation Failed">'Verification/Validation Failed'</UserAction>
          </UserActionSet>
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules />
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Notification Action Verification Reject">
                  <Conditions>
                    <Condition Name="" RowIdentifier="ENU_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Verification/Validation Failed'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Notification" Name="Notification Action Verification Reject" ActionMode="PerRecord" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="NotifyToType">'EMAILADDRESS'</Param>
                        <Param Type="String" Name="NotifyTo">GetActorEmailAddress("V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Verification/Validation']/ACTOR_CODE")</Param>
                        <Param Type="String" Name="NotifyCc">GetActorEmailAddress("COORDINATOR_CODE")</Param>
                        <Param Type="String" Name="AppendRecordLink">'true'</Param>
                        <Param Type="String" Name="Subject">'Action Plan Verification/Validation for $RECORD_NUMBER$ has been rejected'</Param>
                        <Param Type="String" Name="Message">'
                Action Plan Verification/Validation for $RECORD_NUMBER$ has been rejected.
                #lt;#br#gt;#
                #lt;#br#gt;#
                Rejection Comment:$V_ENU_NONPERSIS_USER_DATA/ENU_COMMENT$
                #lt;#br#gt;#
                #lt;#br#gt;#
                CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)
              '</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Validation" FailureMessageId="" Name="Verify/Validate - Atleast one action plan must be marked as failed if applicable">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA[PLAN_FAILED_TO_VERIFY='true']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(V_SS_CAPA-V_SS_CAPA_ACTION[FAIL_TO_VERIFY='true'])</Param>
                        <Param Type="String" Name="rhsExpression">'0'</Param>
                        <Param Type="String" Name="operator">GT</Param>
                      </Params>
                      <Message FieldIdentifier="PK_ID" MessageDescription="97094">
                        <Params>
                          <Param Type="FieldIdentifier" Name="1" />
                        </Params>
                      </Message>
                    </Condition>
                  </Conditions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Reset Action Plan Verify/Validate Information ">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Reset Action Plan Verify/Validate Information " ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION[../PLAN_FAILED_TO_VERIFY!='true']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="FAIL_TO_VERIFY">'false'</Param>
                        <Param Type="String" Name="VERIFICATION_NOTE">''</Param>
                        <Param Type="String" Name="VERIFICATION_RESULT">'Pass'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" Name="GoTo" FailureMessageId="">
                  <Conditions>
                    <Condition Name="" RowIdentifier="ENU_ID" ChildRowsModifier="Any" ContextNode="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Verification/Validation Failed'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="EvaluatePhaseExitPolicy" Name="" ContextNode="" SuccessMessageId="">
                      <Params />
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Task>
        <Task Id="tApproveCAPAInvestigation" Name="Approve CAPA Investigation" FormName="CAPA_INVESTIGATION_APPROVAL" RequiresESignature="true" SubstituteOption="AnyoneWithinSameRole" EscalationCode="CAPA_NOT_INV_APR" EscalationMessageId="tApproveCAPAInvestigation">
          <UserActionSet>
            <UserAction Value="Approve">'Approve'</UserAction>
            <UserAction Value="Reject">'Reject'</UserAction>
          </UserActionSet>
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules />
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Notification Action Reject">
                  <Conditions>
                    <Condition Name="" RowIdentifier="ENU_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Reject'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Notification" Name="Notification Action Reject" ActionMode="PerRecord" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="NotifyToType">'EMAILADDRESS'</Param>
                        <Param Type="String" Name="NotifyTo">GetActorEmailAddress("V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Investigation']/ACTOR_CODE")</Param>
                        <Param Type="String" Name="NotifyCc">GetActorEmailAddress("COORDINATOR_CODE")</Param>
                        <Param Type="String" Name="AppendRecordLink">'true'</Param>
                        <Param Type="String" Name="Subject">'Investigation for $RECORD_NUMBER$ has been Rejected'</Param>
                        <Param Type="String" Name="Message">'Investigation for $RECORD_NUMBER$ has been Rejected.
#lt;#br#gt;#
#lt;#br#gt;#
                Rejection Comment:
                $V_ENU_NONPERSIS_USER_DATA/ENU_COMMENT$
#lt;#br#gt;#
#lt;#br#gt;#
                CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" Name="GoTo" FailureMessageId="">
                  <Conditions>
                    <Condition Name="" RowIdentifier="ENU_ID" ChildRowsModifier="Any" ContextNode="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Reject'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="EvaluatePhaseExitPolicy" Name="" ContextNode="" SuccessMessageId="">
                      <Params />
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Task>
        <Task Id="tVerifyImplementation" Name="Verify Implementation" FormName="CAPA_IMPLEMENTATION_VERIFICATION" RequiresESignature="true" SubstituteOption="AnyoneWithinSameRole" EscalationCode="CAPA_NOT_IMP_APR" EscalationMessageId="tVerifyImplementation">
          <UserActionSet>
            <UserAction Value="Acceptable">'Acceptable'</UserAction>
            <UserAction Value="Not Acceptable">'Not Acceptable'</UserAction>
          </UserActionSet>
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules />
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Evaluate Void Due Date Extension step in subworkflow">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">GetNumberOfSubWorkflowsStarted(PK_ID , 'Due Date Extension')</Param>
                        <Param Type="String" Name="rhsExpression">'0'</Param>
                        <Param Type="String" Name="operator">GT</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Implementation'])</Param>
                        <Param Type="String" Name="rhsExpression">'0'</Param>
                        <Param Type="String" Name="operator">GT</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">V_ENU_NONPERSIS_USER_DATA/ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Not Acceptable'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="EvaluateStep" Name="VoidDueDate" ContextNode="" SuccessMessageId="" Id="Action_be9486c8-fe6e-4696-b7dd-17d2b14fd5e3">
                      <Params>
                        <Param Name="ContainerWorkflowKey" Type="String">'CAPAWORKFLOW'</Param>
                        <Param Name="WorkflowKey" Type="String">'Due Date Extension'</Param>
                        <Param Name="EntityTypeId" Type="String">'CAPA'</Param>
                        <Param Name="RecordId" Type="String">PK_ID</Param>
                        <Param Name="WorkflowInstanceId" Type="String" />
                        <Param Name="StepId" Type="String">'stVoidDueDate'</Param>
                        <Param Name="Scope" Type="String">'SameContainerWorkFlow'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Notification Action Reject">
                  <Conditions>
                    <Condition Name="" RowIdentifier="ENU_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Not Acceptable'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Notification" Name="Notification Action Reject" ActionMode="PerRecord" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="NotifyToType">'EMAILADDRESS'</Param>
                        <Param Type="String" Name="NotifyTo">GetActorEmailAddress("V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Development']/ACTOR_CODE")</Param>
                        <Param Type="String" Name="NotifyCc">concat(GetActorEmailAddress("V_SS_CAPA-V_SS_CAPA_ACTION[ACTION_TYPE='Action Plan']/ASSIGNED_ACT_CODE"), ';', GetActorEmailAddress(" COORDINATOR_CODE"))</Param>
                        <Param Type="String" Name="AppendRecordLink">'true'</Param>
                        <Param Type="String" Name="Subject">'Implementation Verification for CAPA: $RECORD_NUMBER$ has been rejected'</Param>
                        <Param Type="String" Name="Message">'Implementation Verification for CAPA: $RECORD_NUMBER$ has been rejected.
#lt;#br#gt;#
#lt;#br#gt;#
Comment: $V_ENU_NONPERSIS_USER_DATA/ENU_COMMENT$
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" Name="GoTo" FailureMessageId="">
                  <Conditions>
                    <Condition Name="" RowIdentifier="ENU_ID" ChildRowsModifier="Any" ContextNode="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Not Acceptable'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="EvaluatePhaseExitPolicy" Name="" ContextNode="" SuccessMessageId="">
                      <Params />
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Task>
        <Task Id="stAddInitialRiskAssessment" Name="Add Initial Risk Assessment" FormName="">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules />
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Add Initial Risk Assessment if Perform Initial Risk Assessment is Yes">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">V_SS_CAPA-V_SS_CAPA_POLICY/INITIAL_RISK_ASSMNT_REQ</Param>
                        <Param Type="String" Name="rhsExpression">'true'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT[RISK_ASSESSMENT_TYPE = 'Initial'])</Param>
                        <Param Type="String" Name="rhsExpression">'0'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="INSERTCHILDENTITIES" Name="Add Risk Assessment" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="" ContextNode="V_SS_CAPA" SuccessMessageId="" Id="Action_ee1ff254-7855-4ca4-8c6a-726411d3303b">
                      <Params>
                        <Param Type="String" Name="ParentContextNode">'V_SS_CAPA'</Param>
                        <Param Type="String" Name="ChildEntity">'V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT'</Param>
                        <Param Type="FieldsToSet" Name="FieldsToSet">
                          <FieldsToSet>
                            <DataMaps>
                              <DataMap FieldName="IsExistingObject">'false'</DataMap>
                              <DataMap FieldName="RISK_ASSESSMENT_TYPE">'Initial'</DataMap>
                            </DataMaps>
                          </FieldsToSet>
                        </Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Task>
        <Task Id="stVoidDueDateExtension" Name="Void Due Date Extension" FormName="">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules />
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Void Due Date Extension">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">GetNumberOfSubWorkflowsStarted(PK_ID , 'Due Date Extension')</Param>
                        <Param Type="String" Name="rhsExpression">'0'</Param>
                        <Param Type="String" Name="operator">GT</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Action Type="EvaluateStep" Name="VoidDueDate" ContextNode="" SuccessMessageId="" Id="Action_197983f7-1234-429f-afd9-a099d8f6b931">
                    <Params>
                      <Param Name="ContainerWorkflowKey" Type="String">'CAPAWORKFLOW'</Param>
                      <Param Name="WorkflowKey" Type="String">'Due Date Extension'</Param>
                      <Param Name="EntityTypeId" Type="String">'CAPA'</Param>
                      <Param Name="RecordId" Type="String">PK_ID</Param>
                      <Param Name="WorkflowInstanceId" Type="String" />
                      <Param Name="StepId" Type="String">'stVoidDueDate'</Param>
                      <Param Name="Scope" Type="String">'SameContainerWorkFlow'</Param>
                    </Params>
                  </Action>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Task>
        <Task Id="stAssignAdhocTaskSystem" Name="Assign Adhoc Task System" FormName="">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules />
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Initiate Adhoc SubWorkflow">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">1</Param>
                        <Param Type="String" Name="rhsExpression">'1'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="INITIATEWORKFLOW" ContextNode="" SuccessMessageId="97098" Name="AdHoc Task SubWorkflow" ApplyWhenRuleIsNotSuccessful="false" Id="Action_c2b0d0a4-5496-43f9-ae6d-cd87add498b4">
                      <Params>
                        <Param Type="String" Name="ContainerWorkflowKey">'CAPAWORKFLOW'</Param>
                        <Param Type="String" Name="WorkflowKey">'AdHoc Task SubWorkflow'</Param>
                        <Param Type="String" Name="IsBlocking">'true'</Param>
                        <Param Type="String" Name="BlockingStepId">'tbpWaitingforClosure'</Param>
                        <Param Type="String" Name="WorkflowType">'SubWorkflow'</Param>
                        <Param Type="String" Name="UseExistingSubWorkflowIfExist">'true'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Task>
        <Task Id="stSystemPolicyOnCreate" Name="System Policy On Create" FormName="">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules />
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Transfer from CAPA Setup">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">1</Param>
                        <Param Type="String" Name="rhsExpression">'1'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="TRANSFERDATAWITHTWOLEVELFILTERING" Name="TransferDataWithTwoLevelFiltering" ContextNode="V_SS_CAPA" SuccessMessageId="">
                      <Params>
                        <!--
      EntityName           : The Entity Name of the Source Data from which to copy
      ParentFilterCriteria : Filters the Parent level of the Source Data
      TransferDataMapping  : Transfers the Child level of the Source Data
      -->
                        <Param Type="String" Name="EntityName">'SS_CAPA_SETUP'</Param>
                        <Param Type="ParentFilterCriteria" Name="ParentFilterCriteria">
                          <!--
        Filters the Parent level of the Source Data.
        Allows multiple nested <Criteria><Criterion> - each Criterion is appended to the filter.
            Field   : The field from the Source Data used in the filter
            {value} : A static value, or the field from the ContextNode Data used in the filter
        If the exact match doesn't result in records, we use ApplyToAllField to find records.
            ApplyToAllField : The field from the Source Data used in the filter if the above Field={value} returns null
            ApplyToAllValue : The static value used in the ApplyToAllField filter
        -->
                          <FilterCriteria>
                            <Criteria>
                              <Criterion Type="String" Field="CAPA_TYPE" ApplyToAllField="" ApplyToAllValue="">CAPA_TYPE</Criterion>
                              <Criteria>
                                <Criterion Type="String" Field="CAPA_SOURCE" ApplyToAllField="APPLY_TO_ALL_CAPA_SOURCE" ApplyToAllValue="true">CAPA_SOURCE</Criterion>
                                <Criteria>
                                  <Criterion Type="String" Field="OWNING_SITE_CODE" ApplyToAllField="APPLY_TO_ALL_OWNING_SITE" ApplyToAllValue="true">OWNING_SITE_CODE</Criterion>
                                </Criteria>
                              </Criteria>
                            </Criteria>
                          </FilterCriteria>
                        </Param>
                        <Param Type="TransferDataMapping" Name="TransferDataMapping">
                          <!--
        Transfers the Child level of the Source Data.
        Allows multiple nested <DataMaps><DataMap>.
            SourceEntity : The view of the Source Data from which to copy
                           Can contain multiple field=value qualifying conditions separated by and/or where:
                               field        : The field from the Source Data used in the filter
                               value        : A static value, or the full path to a field starting at the ContextNode's parent (starting with "//")
            TargetEntity : The view of the Destination Data of which to populate
            TargetXPath  : The field of the Destination Data of which to populate
            {value}      : The field from the Source Data used to populate the TargetXPath
        -->
                          <TransferData SourceEntity="V_SS_CAPA_SETUP" TargetEntity="V_SS_CAPA">
                            <DataMaps>
                              <DataMap Type="String" TargetXPath="TEAM_CODE">TEAM_CODE</DataMap>
                              <DataMap Type="String" TargetXPath="TEAM_NAME">TEAM_NAME</DataMap>
                              <DataMap Type="String" TargetXPath="NUMBERING_SCHEME_CODE">NUMBERING_SCHEME_CODE</DataMap>
                              <DataMap Type="String" TargetXPath="NUMBERING_SCHEME_NAME">NUMBERING_SCHEME_NAME</DataMap>
                              <DataMap Type="String" TargetXPath="IS_TRANSFERRED_FROM_SETUP">"true"</DataMap>
                              <DataMap Type="String" TargetXPath="SETUP_CODE">CODE</DataMap>
                              <DataMaps SourceEntity="" TargetEntity="V_SS_CAPA-V_SS_CAPA_POLICY">
                                <DataMap Type="String" TargetXPath="FMD_NEW_EVAL">FMD_NEW_EVAL</DataMap>
                                <DataMap Type="String" TargetXPath="INITIAL_RISK_ASSMNT_REQ">INITIAL_RISK_ASSMNT_REQ</DataMap>
                                <DataMap Type="String" TargetXPath="FINAL_RISK_ASSMNT_REQ">FINAL_RISK_ASSMNT_REQ</DataMap>
                                <DataMap Type="String" TargetXPath="INV_REQ">INV_REQ</DataMap>
                                <DataMap Type="String" TargetXPath="INV_APP_REQ">INV_APP_REQ</DataMap>
                                <DataMap Type="String" TargetXPath="ACT_PLN_VAL_REQ">ACT_PLN_VAL_REQ</DataMap>
                                <DataMap Type="String" TargetXPath="ACT_PLN_APP_REQ">ACT_PLN_APP_REQ</DataMap>
                                <DataMap Type="String" TargetXPath="EFFECT_PLANNING_REQ">EFFECT_PLANNING_REQ</DataMap>
                                <DataMap Type="String" TargetXPath="IMPL_VERIFICATION_APP_REQ">IMPL_VERIFICATION_APP_REQ</DataMap>
                                <DataMap Type="String" TargetXPath="INVEST_INTERVAL">INVEST_INTERVAL</DataMap>
                                <DataMap Type="String" TargetXPath="PLAN_INTERVAL">PLAN_INTERVAL</DataMap>
                                <DataMap Type="String" TargetXPath="IMPL_INTERVAL">IMPL_INTERVAL</DataMap>
                                <DataMap Type="String" TargetXPath="CLOSURE_INTERVAL">CLOSURE_INTERVAL</DataMap>
                              </DataMaps>
                            </DataMaps>
                          </TransferData>
                        </Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update default values for Extension and Reopen">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update default values for Extension and Reopen" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="CAPA_ISDUEDTEXT_INPROCESS">'false'</Param>
                        <Param Type="String" Name="IS_CAPA_REOPENED">'false'</Param>
                        <Param Type="String" Name="EXTENSION_COUNT">'0'</Param>
                        <Param Type="String" Name="CAPA_REOPEN_COUNT">'0'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Task>
        <Task Id="stEvaluateSetupPolicy" Name="Evaluate Setup Policy" FormName="">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules />
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Update Is Transferred from Setup to false (if no matching policy is available)">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Is Transferred from Setup to false (if no matching policy is available)" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="IS_TRANSFERRED_FROM_SETUP">'false'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Delete Team">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">1</Param>
                        <Param Type="String" Name="rhsExpression">'1'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="DeleteChildEntity" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM" SuccessMessageId="" Name="Delete Team">
                      <Params />
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Transfer from CAPA Setup for Reevaluation">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">1</Param>
                        <Param Type="String" Name="rhsExpression">'1'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="TRANSFERDATAWITHTWOLEVELFILTERING" Name="TransferDataWithTwoLevelFiltering" ContextNode="V_SS_CAPA" SuccessMessageId="">
                      <Params>
                        <!--
      EntityName           : The Entity Name of the Source Data from which to copy
      ParentFilterCriteria : Filters the Parent level of the Source Data
      TransferDataMapping  : Transfers the Child level of the Source Data
      -->
                        <Param Type="String" Name="EntityName">'SS_CAPA_SETUP'</Param>
                        <Param Type="ParentFilterCriteria" Name="ParentFilterCriteria">
                          <!--
        Filters the Parent level of the Source Data.
        Allows multiple nested <Criteria><Criterion> - each Criterion is appended to the filter.
            Field   : The field from the Source Data used in the filter
            {value} : A static value, or the field from the ContextNode Data used in the filter
        If the exact match doesn't result in records, we use ApplyToAllField to find records.
            ApplyToAllField : The field from the Source Data used in the filter if the above Field={value} returns null
            ApplyToAllValue : The static value used in the ApplyToAllField filter
        -->
                          <FilterCriteria>
                            <Criteria>
                              <Criterion Type="String" Field="CAPA_TYPE" ApplyToAllField="" ApplyToAllValue="">CAPA_TYPE</Criterion>
                              <Criteria>
                                <Criterion Type="String" Field="CAPA_SOURCE" ApplyToAllField="APPLY_TO_ALL_CAPA_SOURCE" ApplyToAllValue="true">CAPA_SOURCE</Criterion>
                                <Criteria>
                                  <Criterion Type="String" Field="OWNING_SITE_CODE" ApplyToAllField="APPLY_TO_ALL_OWNING_SITE" ApplyToAllValue="true">OWNING_SITE_CODE</Criterion>
                                </Criteria>
                              </Criteria>
                            </Criteria>
                          </FilterCriteria>
                        </Param>
                        <Param Type="TransferDataMapping" Name="TransferDataMapping">
                          <!--
        Transfers the Child level of the Source Data.
        Allows multiple nested <DataMaps><DataMap>.
            SourceEntity : The view of the Source Data from which to copy
                           Can contain multiple field=value qualifying conditions separated by and/or where:
                               field        : The field from the Source Data used in the filter
                               value        : A static value, or the full path to a field starting at the ContextNode's parent (starting with "//")
            TargetEntity : The view of the Destination Data of which to populate
            TargetXPath  : The field of the Destination Data of which to populate
            {value}      : The field from the Source Data used to populate the TargetXPath
        -->
                          <TransferData SourceEntity="V_SS_CAPA_SETUP" TargetEntity="V_SS_CAPA">
                            <DataMaps>
                              <DataMap Type="String" TargetXPath="TEAM_CODE">TEAM_CODE</DataMap>
                              <DataMap Type="String" TargetXPath="TEAM_NAME">TEAM_NAME</DataMap>
                              <DataMap Type="String" TargetXPath="IS_TRANSFERRED_FROM_SETUP">"true"</DataMap>
                              <DataMap Type="String" TargetXPath="SETUP_CODE">CODE</DataMap>
                              <DataMaps SourceEntity="" TargetEntity="V_SS_CAPA-V_SS_CAPA_POLICY">
                                <DataMap Type="String" TargetXPath="FMD_NEW_EVAL">FMD_NEW_EVAL</DataMap>
                                <DataMap Type="String" TargetXPath="INITIAL_RISK_ASSMNT_REQ">INITIAL_RISK_ASSMNT_REQ</DataMap>
                                <DataMap Type="String" TargetXPath="FINAL_RISK_ASSMNT_REQ">FINAL_RISK_ASSMNT_REQ</DataMap>
                                <DataMap Type="String" TargetXPath="INV_REQ">INV_REQ</DataMap>
                                <DataMap Type="String" TargetXPath="INV_APP_REQ">INV_APP_REQ</DataMap>
                                <DataMap Type="String" TargetXPath="ACT_PLN_VAL_REQ">ACT_PLN_VAL_REQ</DataMap>
                                <DataMap Type="String" TargetXPath="ACT_PLN_APP_REQ">ACT_PLN_APP_REQ</DataMap>
                                <DataMap Type="String" TargetXPath="EFFECT_PLANNING_REQ">EFFECT_PLANNING_REQ</DataMap>
                                <DataMap Type="String" TargetXPath="IMPL_VERIFICATION_APP_REQ">IMPL_VERIFICATION_APP_REQ</DataMap>
                                <DataMap Type="String" TargetXPath="INVEST_INTERVAL">INVEST_INTERVAL</DataMap>
                                <DataMap Type="String" TargetXPath="PLAN_INTERVAL">PLAN_INTERVAL</DataMap>
                                <DataMap Type="String" TargetXPath="IMPL_INTERVAL">IMPL_INTERVAL</DataMap>
                                <DataMap Type="String" TargetXPath="CLOSURE_INTERVAL">CLOSURE_INTERVAL</DataMap>
                              </DataMaps>
                            </DataMaps>
                          </TransferData>
                        </Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Initialize Team for Reevaluation">
                  <Actions>
                    <Action Type="InitializeData" ContextNode="" SuccessMessageId="" Name="Initialize Team for Reevaluation">
                      <Params>
                        <Param Type="String" Name="EntityToInitialize">'V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM'</Param>
                        <Param Type="String" Name="MappingDataObject">'GroupRole'</Param>
                        <Param Type="String" Name="MappingDataSource">'SmartSolve Data'</Param>
                        <Param Type="MappingQualifyingConditions" Name="MappingQualifyingConditions">
                          <MappingQualifyingConditions>
                            <Conditions>
                              <Condition OpenGroup="false" LeftValue="GPR_GRP_CODE" Operator="EQ" RightValue="TEAM_CODE" CloseGroup="false" RelationalOperator="  " />
                            </Conditions>
                          </MappingQualifyingConditions>
                        </Param>
                        <Param Type="FieldsToSet" Name="FieldsToSet">
                          <FieldsToSet>
                            <DataMaps>
                              <DataMap FieldName="MEMBER_TYPE">GPR_MEMBER_TYPE</DataMap>
                              <DataMap FieldName="MEMBER_TYPE_ROLE">GPR_MEMBER_TYPE_ROLE</DataMap>
                              <DataMap FieldName="MEMBER_TYPE_REQUIRED">GPR_REQUIRED</DataMap>
                              <DataMap FieldName="LEVEL_NO">GLV_LEVEL</DataMap>
                              <DataMap FieldName="ROLE_CODE">GPR_ROL_CODE</DataMap>
                              <DataMap FieldName="ACTOR_CODE">GPR_PREFERRED_ACT_CODE</DataMap>
                            </DataMaps>
                          </FieldsToSet>
                        </Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Is Setup Policy Changed to Re-evaluate to false">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Is Setup Policy Changed to Re-evaluate to false" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="IS_SETUP_POLICY_CHANGED">'false'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Delete Initial Risk Assessment if Perform Risk Assessment is No">
                  <Actions>
                    <Action Type="DeleteChildEntity" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_RISK_ASSESSMENT" SuccessMessageId="" Name="Delete Initial Risk Assessment if Perform Risk Assessment is No">
                      <Params>
                        <Param Type="QualifyingConditions" Name="QualifyingConditions">
                          <Conditions>
                            <Condition OpenGroup="false" LeftValue="RISK_ASSESSMENT_TYPE" Operator="EQ" RightValue="'Initial'" CloseGroup="false" RelationalOperator=" And " />
                            <Condition OpenGroup="false" LeftValue="../V_SS_CAPA-V_SS_CAPA_POLICY/INITIAL_RISK_ASSMNT_REQ" Operator="EQ" RightValue="'false'" CloseGroup="false" RelationalOperator="  " />
                          </Conditions>
                        </Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Add Initial Risk Assessment if Perform Initial Risk Assessment is Yes for Reevaluation">
                  <Actions>
                    <Action Type="EvaluateStep" ContextNode="" SuccessMessageId="" Name="Add Initial Risk Assessment if Perform Initial Risk Assessment is Yes for Reevaluation">
                      <Params>
                        <Param Type="String" Name="StepId">'stAddInitialRiskAssessment'</Param>
                        <Param Type="String" Name="Scope">'SameWorkFlow'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Task>
        <Task Id="tbpWaitingforClosure" Name="Waiting for Closure" FormName="" RequiresESignature="false" SubstituteOption="AnyoneWithinSameRole">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules />
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules />
            </Policy>
          </Policies>
        </Task>
      </Steps>
      <NotificationMessages>
        <Message Id="tAdhoc" Name="tAdhoc">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tVerifyCAPACompletion" Name="tVerifyCAPACompletion">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tVerifyCAPAEffectiveness" Name="tVerifyCAPAEffectiveness">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tApproveActionPlans" Name="tApproveActionPlans">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tVerify/ValidateActionPlans" Name="tVerify/ValidateActionPlans">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tDevelopActionPlans" Name="tDevelopActionPlans">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tApproveCAPAInvestigation" Name="tApproveCAPAInvestigation">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tInvestigateCAPA" Name="tInvestigateCAPA">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tIncludeEffectivenessReviewPlan" Name="tIncludeEffectivenessReviewPlan">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tImplementActionPlans" Name="tImplementActionPlans">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tApproveDueDateExtension" Name="tApproveDueDateExtension">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tVerifyImplementation" Name="tVerifyImplementation">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tVerifyCAPAInitiation" Name="tVerifyCAPAInitiation">
          <Content>#lt;#br#gt;#</Content>
        </Message>
      </NotificationMessages>
    </Workflow>
    <Workflow Key="DUE DATE EXTENSION" Id="swDueDateExtension" IsNonPersistent="false">
      <Name>Due Date Extension</Name>
      <Description>Due Date Extension</Description>
      <InitialPhase Id="pDueDateExtensionApproval">pDueDateExtensionApproval</InitialPhase>
      <FinalPhase Id="eswDueDateExtensionEnd2">eswDueDateExtensionEnd2</FinalPhase>
      <Policies>
        <Policy Type="Entry" Name="ActivityPolicy" Enabled="true">
          <Rules />
        </Policy>
      </Policies>
      <Phases>
        <Phase Id="apSendNotificationonReject" Name="Send Notification on Reject" Level="1">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Notification Action Investigation">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">EXTENSION_PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Investigation'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">../PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Investigation'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Notification" Name="Notification Action Investigation" ActionMode="PerRecord" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="NotifyToType">'EMAILADDRESS'</Param>
                        <Param Type="String" Name="NotifyTo">GetActorEmailAddress("V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Investigation']/ACTOR_CODE")</Param>
                        <Param Type="String" Name="NotifyCc">GetActorEmailAddress("COORDINATOR_CODE")</Param>
                        <Param Type="String" Name="AppendRecordLink">'true'</Param>
                        <Param Type="String" Name="Subject">'Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected'</Param>
                        <Param Type="String" Name="Message">'The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected. 
#lt;#br#gt;#
#lt;#br#gt;#
Rejected Comment: $V_ENU_NONPERSIS_USER_DATA/ENU_COMMENT$
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Notification Action Investigation Approval">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">EXTENSION_PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Investigation'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">../PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Investigation Approval'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Notification" Name="Notification Action Investigation Approval" ActionMode="PerRecord" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="NotifyToType">'EMAILADDRESS'</Param>
                        <Param Type="String" Name="NotifyTo">GetActorEmailAddress("V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Investigation Approval']/ACTOR_CODE")</Param>
                        <Param Type="String" Name="NotifyCc">GetActorEmailAddress("COORDINATOR_CODE")</Param>
                        <Param Type="String" Name="AppendRecordLink">'true'</Param>
                        <Param Type="String" Name="Subject">'Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected'</Param>
                        <Param Type="String" Name="Message">'The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected.
#lt;#br#gt;#
#lt;#br#gt;#
Rejected Comment: $V_ENU_NONPERSIS_USER_DATA/ENU_COMMENT$
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Notification Action Planning">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">EXTENSION_PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Planning'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">../PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Planning'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Notification" Name="Notification Action Planning" ActionMode="PerRecord" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="NotifyToType">'EMAILADDRESS'</Param>
                        <Param Type="String" Name="NotifyTo">GetActorEmailAddress("V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Development']/ACTOR_CODE")</Param>
                        <Param Type="String" Name="NotifyCc">GetActorEmailAddress("COORDINATOR_CODE")</Param>
                        <Param Type="String" Name="AppendRecordLink">'true'</Param>
                        <Param Type="String" Name="Subject">'Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected'</Param>
                        <Param Type="String" Name="Message">'The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected.
#lt;#br#gt;#
#lt;#br#gt;#
Rejected Comment: $V_ENU_NONPERSIS_USER_DATA/ENU_COMMENT$
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Notification Action Plan Verification/Validation">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">EXTENSION_PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Planning'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">../PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Action Plan Verification/Validation'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Notification" Name="Notification Action Plan Verification/Validation" ActionMode="PerRecord" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="NotifyToType">'EMAILADDRESS'</Param>
                        <Param Type="String" Name="NotifyTo">GetActorEmailAddress("V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Verification/Validation']/ACTOR_CODE")</Param>
                        <Param Type="String" Name="NotifyCc">GetActorEmailAddress("COORDINATOR_CODE")</Param>
                        <Param Type="String" Name="AppendRecordLink">'true'</Param>
                        <Param Type="String" Name="Subject">'Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected'</Param>
                        <Param Type="String" Name="Message">'The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected.
#lt;#br#gt;#
#lt;#br#gt;#
Rejected Comment: $V_ENU_NONPERSIS_USER_DATA/ENU_COMMENT$
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Notification Action Plan Approval">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">EXTENSION_PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Planning'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">../PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Action Plan Approval'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Notification" Name="Notification Action Plan Approval" ActionMode="PerRecord" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="NotifyToType">'EMAILADDRESS'</Param>
                        <Param Type="String" Name="NotifyTo">GetActorEmailAddress("V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Approval']/ACTOR_CODE")</Param>
                        <Param Type="String" Name="NotifyCc">GetActorEmailAddress("COORDINATOR_CODE")</Param>
                        <Param Type="String" Name="AppendRecordLink">'true'</Param>
                        <Param Type="String" Name="Subject">'Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected'</Param>
                        <Param Type="String" Name="Message">'The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected.
#lt;#br#gt;#
#lt;#br#gt;#
Rejected Comment: $V_ENU_NONPERSIS_USER_DATA/ENU_COMMENT$
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Notification Action Implementation">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">EXTENSION_PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Implementation'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">../PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Implementation'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Notification" Name="Notification Action Implementation" ActionMode="PerRecord" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="NotifyToType">'EMAILADDRESS'</Param>
                        <Param Type="String" Name="NotifyTo">GetActorEmailAddress("COORDINATOR_CODE")</Param>
                        <Param Type="String" Name="AppendRecordLink">'true'</Param>
                        <Param Type="String" Name="Subject">'Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected'</Param>
                        <Param Type="String" Name="Message">'The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected.
#lt;#br#gt;#
#lt;#br#gt;#
Rejected Comment: $V_ENU_NONPERSIS_USER_DATA/ENU_COMMENT$
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Notification Action Implementation Verification">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">EXTENSION_PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Implementation'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">../PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Implementation Verification'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Notification" Name="Notification Action Implementation Verification" ActionMode="PerRecord" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="NotifyToType">'EMAILADDRESS'</Param>
                        <Param Type="String" Name="NotifyTo">GetActorEmailAddress("V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Implementation Verification']/ACTOR_CODE")</Param>
                        <Param Type="String" Name="NotifyCc">GetActorEmailAddress("COORDINATOR_CODE")</Param>
                        <Param Type="String" Name="AppendRecordLink">'true'</Param>
                        <Param Type="String" Name="Subject">'Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected'</Param>
                        <Param Type="String" Name="Message">'The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected.
#lt;#br#gt;#
#lt;#br#gt;#
Rejected Comment: $V_ENU_NONPERSIS_USER_DATA/ENU_COMMENT$
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Notification Action Completion Review">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">EXTENSION_PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Completion'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">../PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Completion Review'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Notification" Name="Notification Action Completion Review" ActionMode="PerRecord" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="NotifyToType">'EMAILADDRESS'</Param>
                        <Param Type="String" Name="NotifyTo">GetActorEmailAddress("V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Completion Review']/ACTOR_CODE")</Param>
                        <Param Type="String" Name="NotifyCc">GetActorEmailAddress("COORDINATOR_CODE")</Param>
                        <Param Type="String" Name="AppendRecordLink">'true'</Param>
                        <Param Type="String" Name="Subject">'Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected'</Param>
                        <Param Type="String" Name="Message">'The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been rejected.
#lt;#br#gt;#
#lt;#br#gt;#
Rejected Comment: $V_ENU_NONPERSIS_USER_DATA/ENU_COMMENT$
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Update Action">
                  <Conditions>
                    <Condition Name="" RowIdentifier="ENU_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Reject'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Action" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="IS_EXT_REQUEST_COMPL">'true'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Name="GoTo" Type="Decision" FailureMessageId="">
                  <Actions>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'eswDueDateExtensionEnd2'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Phase>
        <Phase Id="apSendNotificationonApprove" Name="Send Notification on Approve" Level="1">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Notification Action Investigation">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">EXTENSION_PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Investigation'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">../PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Investigation'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Notification" Name="Notification Action Investigation" ActionMode="PerRecord" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="NotifyToType">'EMAILADDRESS'</Param>
                        <Param Type="String" Name="NotifyTo">GetActorEmailAddress("V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Investigation']/ACTOR_CODE")</Param>
                        <Param Type="String" Name="NotifyCc">GetActorEmailAddress("COORDINATOR_CODE")</Param>
                        <Param Type="String" Name="AppendRecordLink">'true'</Param>
                        <Param Type="String" Name="Subject">'Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved'</Param>
                        <Param Type="String" Name="Message">'The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved.
#lt;#br#gt;#
#lt;#br#gt;#
The new due date is $V_SS_CAPA-V_SS_CAPA_EXTENSION[WORKFLOW_ID=//WorkFlow/Id]/REVISED_DUEDATE,{0:MMM-dd-yyyy}$.
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Notification Action Investigation Approval">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">EXTENSION_PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Investigation'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">../PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Investigation Approval'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Notification" Name="Notification Action Investigation Approval" ActionMode="PerRecord" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="NotifyToType">'EMAILADDRESS'</Param>
                        <Param Type="String" Name="NotifyTo">GetActorEmailAddress("V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Investigation Approval']/ACTOR_CODE")</Param>
                        <Param Type="String" Name="NotifyCc">GetActorEmailAddress("COORDINATOR_CODE")</Param>
                        <Param Type="String" Name="AppendRecordLink">'true'</Param>
                        <Param Type="String" Name="Subject">'Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved'</Param>
                        <Param Type="String" Name="Message">'The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved.
#lt;#br#gt;#
#lt;#br#gt;#
The new due date is $V_SS_CAPA-V_SS_CAPA_EXTENSION[WORKFLOW_ID=//WorkFlow/Id]/REVISED_DUEDATE,{0:MMM-dd-yyyy}$.
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Notification Action Planning">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">EXTENSION_PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Planning'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">../PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Planning'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Notification" Name="Notification Action Planning" ActionMode="PerRecord" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="NotifyToType">'EMAILADDRESS'</Param>
                        <Param Type="String" Name="NotifyTo">GetActorEmailAddress("V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Development']/ACTOR_CODE")</Param>
                        <Param Type="String" Name="NotifyCc">GetActorEmailAddress("COORDINATOR_CODE")</Param>
                        <Param Type="String" Name="AppendRecordLink">'true'</Param>
                        <Param Type="String" Name="Subject">'Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved'</Param>
                        <Param Type="String" Name="Message">'The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved.
#lt;#br#gt;#
#lt;#br#gt;#
The new due date is $V_SS_CAPA-V_SS_CAPA_EXTENSION[WORKFLOW_ID=//WorkFlow/Id]/REVISED_DUEDATE,{0:MMM-dd-yyyy}$.
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Notification Action Plan Verification/Validation">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">EXTENSION_PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Planning'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">../PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Action Plan Verification/Validation'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Notification" Name="Notification Action Plan Verification/Validation" ActionMode="PerRecord" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="NotifyToType">'EMAILADDRESS'</Param>
                        <Param Type="String" Name="NotifyTo">GetActorEmailAddress("V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Verification/Validation']/ACTOR_CODE")</Param>
                        <Param Type="String" Name="NotifyCc">GetActorEmailAddress("COORDINATOR_CODE")</Param>
                        <Param Type="String" Name="AppendRecordLink">'true'</Param>
                        <Param Type="String" Name="Subject">'Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved'</Param>
                        <Param Type="String" Name="Message">'The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved.
#lt;#br#gt;#
#lt;#br#gt;#
The new due date is $V_SS_CAPA-V_SS_CAPA_EXTENSION[WORKFLOW_ID=//WorkFlow/Id]/REVISED_DUEDATE,{0:MMM-dd-yyyy}$.
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Notification Action Plan Approval">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">EXTENSION_PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Planning'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">../PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Action Plan Approval'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Notification" Name="Notification Action Plan Approval" ActionMode="PerRecord" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="NotifyToType">'EMAILADDRESS'</Param>
                        <Param Type="String" Name="NotifyTo">GetActorEmailAddress("V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Approval']/ACTOR_CODE")</Param>
                        <Param Type="String" Name="NotifyCc">GetActorEmailAddress("COORDINATOR_CODE")</Param>
                        <Param Type="String" Name="AppendRecordLink">'true'</Param>
                        <Param Type="String" Name="Subject">'Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved'</Param>
                        <Param Type="String" Name="Message">'The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved.
#lt;#br#gt;#
#lt;#br#gt;#
The new due date is $V_SS_CAPA-V_SS_CAPA_EXTENSION[WORKFLOW_ID=//WorkFlow/Id]/REVISED_DUEDATE,{0:MMM-dd-yyyy}$.
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Notification Action Implementation">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">EXTENSION_PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Implementation'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">../PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Implementation'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Notification" Name="Notification Action Implementation" ActionMode="PerRecord" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="NotifyToType">'EMAILADDRESS'</Param>
                        <Param Type="String" Name="NotifyTo">GetActorEmailAddress("COORDINATOR_CODE")</Param>
                        <Param Type="String" Name="AppendRecordLink">'true'</Param>
                        <Param Type="String" Name="Subject">'Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved'</Param>
                        <Param Type="String" Name="Message">'The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved.
#lt;#br#gt;#
#lt;#br#gt;#
The new due date is $V_SS_CAPA-V_SS_CAPA_EXTENSION[WORKFLOW_ID=//WorkFlow/Id]/REVISED_DUEDATE,{0:MMM-dd-yyyy}$.
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Notification Action Implementation Verification">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">EXTENSION_PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Implementation'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">../PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Implementation Verification'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Notification" Name="Notification Action Implementation Verification" ActionMode="PerRecord" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="NotifyToType">'EMAILADDRESS'</Param>
                        <Param Type="String" Name="NotifyTo">GetActorEmailAddress("V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Implementation Verification']/ACTOR_CODE")</Param>
                        <Param Type="String" Name="NotifyCc">GetActorEmailAddress("COORDINATOR_CODE")</Param>
                        <Param Type="String" Name="AppendRecordLink">'true'</Param>
                        <Param Type="String" Name="Subject">'Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved'</Param>
                        <Param Type="String" Name="Message">'The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved.
#lt;#br#gt;#
#lt;#br#gt;#
The new due date is $V_SS_CAPA-V_SS_CAPA_EXTENSION[WORKFLOW_ID=//WorkFlow/Id]/REVISED_DUEDATE,{0:MMM-dd-yyyy}$.
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Notification Action Completion Review">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">EXTENSION_PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Completion'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">../PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Completion Review'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Notification" Name="Notification Action Completion Review" ActionMode="PerRecord" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="NotifyToType">'EMAILADDRESS'</Param>
                        <Param Type="String" Name="NotifyTo">GetActorEmailAddress("V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Completion Review']/ACTOR_CODE")</Param>
                        <Param Type="String" Name="NotifyCc">GetActorEmailAddress("COORDINATOR_CODE")</Param>
                        <Param Type="String" Name="AppendRecordLink">'true'</Param>
                        <Param Type="String" Name="Subject">'Due Date Extension Request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved'</Param>
                        <Param Type="String" Name="Message">'The due date extension request of $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$ has been approved.
#lt;#br#gt;#
#lt;#br#gt;#
The new due date is $V_SS_CAPA-V_SS_CAPA_EXTENSION[WORKFLOW_ID=//WorkFlow/Id]/REVISED_DUEDATE,{0:MMM-dd-yyyy}$.
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Update Action">
                  <Conditions>
                    <Condition Name="" RowIdentifier="ENU_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Approve'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Action" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="IS_EXT_REQUEST_COMPL">'true'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Name="GoTo" Type="Decision" FailureMessageId="">
                  <Actions>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'eswDueDateExtensionEnd2'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Phase>
        <Phase Id="pDueDateExtensionApproval" Name="Due Date Extension Approval" Level="1">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Update Is Due Date Extension in Process? to true">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Is Due Date Extension in Process? to true" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="CAPA_ISDUEDTEXT_INPROCESS">'true'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Workflow ID">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Workflow ID" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="WORKFLOW_ID">//PhaseStepBeingEvaluated/PhaseBeingEvaluated/WorkflowId</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" Name="AddTasks" FailureMessageId="">
                  <Actions>
                    <Action Type="GenerateTask" Name="Approve Due Date Extension" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="ContextNode">"V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Due Date Extension Approval']"</Param>
                        <Param Type="String" Name="TaskCreationMode">'PerUniqueRecord'</Param>
                        <Param Type="String" Name="StepId">"'tApproveDueDateExtension'"</Param>
                        <Param Type="String" Name="TaskOwnerFieldName">"ACTOR_CODE"</Param>
                        <Param Type="String" Name="Role">"ROLE_CODE"</Param>
                        <Param Type="String" Name="Level">"'1'"</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Accept and Investigation">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="Any" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">V_ENU_NONPERSIS_USER_DATA/ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Approve'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">CURRENT_PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Investigation'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="ExtendDueDate" Name="ExtendDueDate" ContextNode="V_SS_CAPA" SuccessMessageId="" Id="Action_65e7402f-45d9-49f7-a16e-279d1608562f">
                      <Params>
                        <Param Name="DueDate" Type="String">V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Investigation']/REVISED_DUEDATE</Param>
                        <Param Name="WorkflowKey" Type="String">'CAPAWORKFLOW'</Param>
                        <Param Name="PhaseName" Type="String">PHASE</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Accept and Planning">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="Any" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">V_ENU_NONPERSIS_USER_DATA/ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Approve'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">CURRENT_PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Planning'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" Name="Update" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" SuccessMessageId="" Id="Action_7721f118-fc0a-4373-bf23-f88925da7595">
                      <Params>
                        <Param Name="PLAN_DUE_DATE" Type="String">../V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Planning']/REVISED_DUEDATE</Param>
                      </Params>
                    </Action>
                    <Action Type="Update" Name="Update" ContextNode="V_SS_CAPA" SuccessMessageId="" Id="Action_7721f118-fc0a-4373-bf23-f88925da7595">
                      <Params>
                        <Param Name="CURRENT_PHASE_DUE_DATE" Type="String">V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Planning']/REVISED_DUEDATE</Param>
                      </Params>
                    </Action>
                    <Action Type="ExtendDueDate" Name="ExtendDueDate" ContextNode="V_SS_CAPA" SuccessMessageId="" Id="Action_65e7402f-45d9-49f7-a16e-279d1608562f">
                      <Params>
                        <Param Name="DueDate" Type="String">V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Planning']/REVISED_DUEDATE</Param>
                        <Param Name="WorkflowKey" Type="String">'CAPAWORKFLOW'</Param>
                        <Param Name="PhaseName" Type="String">PHASE</Param>
                      </Params>
                    </Action>
                    <Action Type="Update" Name="Update" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[EXTENSION_NO='0' and EXTENSION_PHASE='Planning']" SuccessMessageId="97052" Id="Action_b14dfa20-d04b-48b6-9437-8d67169b35d0">
                      <Params>
                        <Param Name="EXTENSION_NO" Type="String">count(//V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION)</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Accept and Implementation">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="Any" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">V_ENU_NONPERSIS_USER_DATA/ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Approve'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">CURRENT_PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Implementation'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" Name="Update" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" SuccessMessageId="" Id="Action_7721f118-fc0a-4373-bf23-f88925da7595">
                      <Params>
                        <Param Name="IMPL_DUE_DATE" Type="String">../V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Implementation']/REVISED_DUEDATE</Param>
                      </Params>
                    </Action>
                    <Action Type="Update" Name="Update" ContextNode="V_SS_CAPA" SuccessMessageId="" Id="Action_7721f118-fc0a-4373-bf23-f88925da7595">
                      <Params>
                        <Param Name="CURRENT_PHASE_DUE_DATE" Type="String">V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Implementation']/REVISED_DUEDATE</Param>
                      </Params>
                    </Action>
                    <Action Type="ExtendDueDate" Name="ExtendDueDate" ContextNode="V_SS_CAPA" SuccessMessageId="" Id="Action_65e7402f-45d9-49f7-a16e-279d1608562f">
                      <Params>
                        <Param Name="DueDate" Type="String">V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Implementation']/REVISED_DUEDATE</Param>
                        <Param Name="WorkflowKey" Type="String">'CAPAWORKFLOW'</Param>
                        <Param Name="PhaseName" Type="String">PHASE</Param>
                      </Params>
                    </Action>
                    <Action Type="Update" Name="Update" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[EXTENSION_NO='0' and EXTENSION_PHASE='Implementation']" SuccessMessageId="97052" Id="Action_b14dfa20-d04b-48b6-9437-8d67169b35d0">
                      <Params>
                        <Param Name="EXTENSION_NO" Type="String">count(//V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION)</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Accept and Completion">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="Any" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">V_ENU_NONPERSIS_USER_DATA/ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Approve'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">CURRENT_PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Completion'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" Name="Update" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" SuccessMessageId="" Id="Action_7721f118-fc0a-4373-bf23-f88925da7595">
                      <Params>
                        <Param Name="CLOSURE_DUE_DATE" Type="String">../V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Completion']/REVISED_DUEDATE</Param>
                      </Params>
                    </Action>
                    <Action Type="Update" Name="Update" ContextNode="V_SS_CAPA" SuccessMessageId="" Id="Action_7721f118-fc0a-4373-bf23-f88925da7595">
                      <Params>
                        <Param Name="CURRENT_PHASE_DUE_DATE" Type="String">V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Completion']/REVISED_DUEDATE</Param>
                      </Params>
                    </Action>
                    <Action Type="ExtendDueDate" Name="ExtendDueDate" ContextNode="V_SS_CAPA" SuccessMessageId="" Id="Action_65e7402f-45d9-49f7-a16e-279d1608562f">
                      <Params>
                        <Param Name="DueDate" Type="String">V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Completion']/REVISED_DUEDATE</Param>
                        <Param Name="WorkflowKey" Type="String">'CAPAWORKFLOW'</Param>
                        <Param Name="PhaseName" Type="String">PHASE</Param>
                      </Params>
                    </Action>
                    <Action Type="Update" Name="Update" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false']" SuccessMessageId="97052" Id="Action_b14dfa20-d04b-48b6-9437-8d67169b35d0">
                      <Params>
                        <Param Name="EXTENSION_NO" Type="String">count(//V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION)</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Reject Investigation Due Date Extension">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="Any" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">V_ENU_NONPERSIS_USER_DATA/ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Reject'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">CURRENT_PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Investigation'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" Name="Update" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false' and EXTENSION_PHASE='Investigation']" SuccessMessageId="" Id="Action_b14dfa20-d04b-48b6-9437-8d67169b35d0">
                      <Params>
                        <Param Name="EXTENSION_NO" Type="String">count(//V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION)</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Reject Planning Due Date Extension">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="Any" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">V_ENU_NONPERSIS_USER_DATA/ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Reject'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">CURRENT_PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Planning'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" Name="Update" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false' and EXTENSION_PHASE='Planning']" SuccessMessageId="" Id="Action_b14dfa20-d04b-48b6-9437-8d67169b35d0">
                      <Params>
                        <Param Name="EXTENSION_NO" Type="String">count(//V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION)</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Reject Implementation Due Date">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="Any" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">V_ENU_NONPERSIS_USER_DATA/ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Reject'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">CURRENT_PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Implementation'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" Name="Update" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false' and EXTENSION_PHASE='Implementation']" SuccessMessageId="" Id="Action_b14dfa20-d04b-48b6-9437-8d67169b35d0">
                      <Params>
                        <Param Name="EXTENSION_NO" Type="String">count(//V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION)</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Reject Completion Due Date Extension">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="Any" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">V_ENU_NONPERSIS_USER_DATA/ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Reject'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">CURRENT_PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Completion'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" Name="Update" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL = 'false' and EXTENSION_PHASE='Completion']" SuccessMessageId="" Id="Action_b14dfa20-d04b-48b6-9437-8d67169b35d0">
                      <Params>
                        <Param Name="EXTENSION_NO" Type="String">ExecuteQuery(concat("select count(PK_ID) from V_SS_CAPA_EXTENSION where PARENT_GT_ID ='",PARENT_GT_ID,"'"))</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Action Set Capa InProcess as False">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Action Set Capa InProcess as False" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="CAPA_ISDUEDTEXT_INPROCESS">'false'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Accept and Investigation Due Date">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="Any" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">V_ENU_NONPERSIS_USER_DATA/ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Approve'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">CURRENT_PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Investigation'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Accept and Investigation Due Date" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="INVEST_DUE_DATE">../V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Investigation']/REVISED_DUEDATE</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update CAPA Phase Due Date">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="Any" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">V_ENU_NONPERSIS_USER_DATA/ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Approve'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">CURRENT_PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Investigation'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update CAPA Phase Due Date" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="CURRENT_PHASE_DUE_DATE">V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false' and EXTENSION_PHASE='Investigation']/REVISED_DUEDATE</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Action Capa Extension No">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="Any" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">V_ENU_NONPERSIS_USER_DATA/ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Approve'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">CURRENT_PHASE</Param>
                        <Param Type="String" Name="rhsExpression">'Investigation'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" SuccessMessageId="97052" Name="Update Action Capa Extension No" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[EXTENSION_NO='0' and EXTENSION_PHASE='Investigation']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="EXTENSION_NO">count(//V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION)</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" Name="GoTo" FailureMessageId="">
                  <Conditions>
                    <Condition Name="" RowIdentifier="ESG_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_ESG_ENTITY_SIGNATURE[ESG_PHASE_NAME='Due Date Extension Approval']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ESG_ACTION_TAKEN</Param>
                        <Param Type="String" Name="rhsExpression">'Approve'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="SetPhaseResult" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseResult">'Approve'</Param>
                        <Param Type="String" Name="Comment">'Due Date Extension Approval result is: Approve'</Param>
                      </Params>
                    </Action>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'apSendNotificationonApprove'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" Name="GoTo" FailureMessageId="">
                  <Conditions>
                    <Condition Name="" RowIdentifier="ENU_ID" ChildRowsModifier="Any" ContextNode="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Reject'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="SetPhaseResult" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseResult">'Reject'</Param>
                        <Param Type="String" Name="Comment">'Due Date Extension Approval result is: Reject'</Param>
                      </Params>
                    </Action>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'apSendNotificationonReject'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Phase>
        <Phase Id="eswDueDateExtensionEnd2" Name="End" Level="1" />
      </Phases>
      <Steps>
        <Task Id="tApproveDueDateExtension" Name="Approve Due Date Extension" FormName="CAPA_DUE_DATE_EXTENSION_APPROVAL" RequiresESignature="true" SubstituteOption="AnyoneWithinSameRole" EscalationCode="CAPA_NOT_DUE_EXT" EscalationMessageId="tApproveDueDateExtension">
          <UserActionSet>
            <UserAction Value="Approve">'Approve'</UserAction>
            <UserAction Value="Reject">'Reject'</UserAction>
          </UserActionSet>
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Notification Action">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Due Date Extension Approval']/ACTOR_CODE</Param>
                        <Param Type="String" Name="rhsExpression">COORDINATOR_CODE</Param>
                        <Param Type="String" Name="operator">NEQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Notification" Name="Notification Action" ActionMode="PerRecord" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="NotifyToType">'EMAILADDRESS'</Param>
                        <Param Type="String" Name="NotifyTo">GetActorEmailAddress("COORDINATOR_CODE")</Param>
                        <Param Type="String" Name="AppendRecordLink">'true'</Param>
                        <Param Type="String" Name="Subject">'Due Date Extension has been requested for $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$'</Param>
                        <Param Type="String" Name="Message">'Due Date Extension has been requested for $CURRENT_PHASE$ for CAPA: $RECORD_NUMBER$. #lt;#br#gt;#
#lt;#br#gt;#
New Due Date requested: $V_SS_CAPA-V_SS_CAPA_EXTENSION[WORKFLOW_ID=//WorkFlow/Id]/REVISED_DUEDATE,{0:MMM-dd-yyyy}$
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" Name="GoTo" FailureMessageId="">
                  <Conditions>
                    <Condition Name="" RowIdentifier="ENU_ID" ChildRowsModifier="Any" ContextNode="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ENU_ACTION</Param>
                        <Param Type="String" Name="rhsExpression">'Reject'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="EvaluatePhaseExitPolicy" Name="" ContextNode="" SuccessMessageId="">
                      <Params />
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Task>
        <Task Id="stVoidDueDate" Name="Void Due Date" FormName="">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules />
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" Name="Void Due Date Extension" FailureMessageId="86200" Id="Rule_3234c0d8-7577-4ca3-b47d-601ffeddee49">
                  <Conditions />
                  <Actions>
                    <Action Type="ABORTWORKFLOW" ContextNode="" SuccessMessageId="Abort Phase" Name="Void Due Date Extension" Id="Action_7fec829f-607f-48cd-a126-f943fa1267b6">
                      <Params />
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Action Due Date in Process">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Action Due Date in Process" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="CAPA_ISDUEDTEXT_INPROCESS">'False'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Action Is Request Complete">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Action Is Request Complete" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="IS_EXT_REQUEST_COMPL">'true'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Task>
      </Steps>
      <NotificationMessages>
        <Message Id="tAdhoc" Name="tAdhoc">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tVerifyCAPACompletion" Name="tVerifyCAPACompletion">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tVerifyCAPAEffectiveness" Name="tVerifyCAPAEffectiveness">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tApproveActionPlans" Name="tApproveActionPlans">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tVerify/ValidateActionPlans" Name="tVerify/ValidateActionPlans">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tDevelopActionPlans" Name="tDevelopActionPlans">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tApproveCAPAInvestigation" Name="tApproveCAPAInvestigation">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tInvestigateCAPA" Name="tInvestigateCAPA">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tIncludeEffectivenessReviewPlan" Name="tIncludeEffectivenessReviewPlan">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tImplementActionPlans" Name="tImplementActionPlans">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tApproveDueDateExtension" Name="tApproveDueDateExtension">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tVerifyImplementation" Name="tVerifyImplementation">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tVerifyCAPAInitiation" Name="tVerifyCAPAInitiation">
          <Content>#lt;#br#gt;#</Content>
        </Message>
      </NotificationMessages>
    </Workflow>
    <Workflow Key="ADHOC TASK SUBWORKFLOW" Id="swAdHocTaskSubWorkflow" IsNonPersistent="false">
      <Name>AdHoc Task SubWorkflow</Name>
      <Description>AdHoc Task SubWorkflow</Description>
      <InitialPhase Id="pAdhocTaskPhase">pAdhocTaskPhase</InitialPhase>
      <FinalPhase Id="eswAdHocTaskSubWorkfloweswSubWorkflowEnd">eswAdHocTaskSubWorkfloweswSubWorkflowEnd</FinalPhase>
      <Policies>
        <Policy Type="Entry" Name="ActivityPolicy" Enabled="true">
          <Rules />
        </Policy>
      </Policies>
      <Phases>
        <Phase Id="pAdhocTaskPhase" Name="Adhoc Task Phase" Level="1">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" Name="AddTasks" FailureMessageId="">
                  <Actions>
                    <Action Type="GenerateTask" Name="Adhoc" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="ContextNode">"V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTIVITY[C_TASK_ID='' and ACTIVITY_TYPE='tAdhoc']"</Param>
                        <Param Type="String" Name="TaskCreationMode">'PerUniqueRecord'</Param>
                        <Param Type="String" Name="StepId">"'tAdhoc'"</Param>
                        <Param Type="String" Name="DynamicTaskName">"TASK_NAME"</Param>
                        <Param Type="String" Name="TaskOwnerFieldName">"ASSIGNED_ACT_CODE"</Param>
                        <Param Type="String" Name="Role">"ASSIGNED_ROLE_CODE"</Param>
                        <Param Type="String" Name="Level">"'1'"</Param>
                        <Param Type="String" Name="TaskDueDateFieldName">"DUE_DATE"</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Name="GoTo" Type="Decision" FailureMessageId="">
                  <Actions>
                    <Action Type="NextPhase" Name="" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="PhaseId">'eswAdHocTaskSubWorkfloweswSubWorkflowEnd'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Phase>
        <Phase Id="eswAdHocTaskSubWorkfloweswSubWorkflowEnd" Name="End" Level="1" />
      </Phases>
      <Steps>
        <Task Id="tAdhoc" Name="Adhoc" FormName="CAPA_GENERALTASK_FORM" RequiresESignature="true" SubstituteOption="AnyoneWithinSameRole" EscalationCode="CAPA_ADHOC" EscalationMessageId="tAdhoc">
          <Policies>
            <Policy Type="Entry" Name="EntryPolicy" Enabled="true">
              <Rules />
            </Policy>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Update Current Record Status">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Current Record Status" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTIVITY[C_TASK_ID=//PhaseStepBeingEvaluated/StepBeingEvaluated/TaskId]" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="RECORD_STATUS">'COMPLETED'</Param>
                        <Param Type="String" Name="COMPLETED_BY_CODE">GetCurrentUserInfo('ActorCode')</Param>
                        <Param Type="String" Name="COMPLETED_DATE">GetDateIgnoreTime('Today')</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Task>
      </Steps>
      <NotificationMessages>
        <Message Id="tAdhoc" Name="tAdhoc">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tVerifyCAPACompletion" Name="tVerifyCAPACompletion">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tVerifyCAPAEffectiveness" Name="tVerifyCAPAEffectiveness">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tApproveActionPlans" Name="tApproveActionPlans">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tVerify/ValidateActionPlans" Name="tVerify/ValidateActionPlans">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tDevelopActionPlans" Name="tDevelopActionPlans">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tApproveCAPAInvestigation" Name="tApproveCAPAInvestigation">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tInvestigateCAPA" Name="tInvestigateCAPA">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tIncludeEffectivenessReviewPlan" Name="tIncludeEffectivenessReviewPlan">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tImplementActionPlans" Name="tImplementActionPlans">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tApproveDueDateExtension" Name="tApproveDueDateExtension">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tVerifyImplementation" Name="tVerifyImplementation">
          <Content>#lt;#br#gt;#</Content>
        </Message>
        <Message Id="tVerifyCAPAInitiation" Name="tVerifyCAPAInitiation">
          <Content>#lt;#br#gt;#</Content>
        </Message>
      </NotificationMessages>
    </Workflow>
    <Workflow Key="CAPAWORKFLOW_NP_WORKFLOW" Id="CAPAWORKFLOW_NP_WORKFLOW" IsNonPersistent="true">
      <Name>CAPAWORKFLOW_NP_WORKFLOW</Name>
      <Description>CAPAWORKFLOW Actions</Description>
      <InitialPhase Id="p1" />
      <FinalPhase Id="p1" />
      <Phases>
        <Phase Id="p1" Name="Workflow Actions" Level="1">
          <PhaseSteps>
            <Step Level="1" Id="InitiateCAPA">InitiateCAPA</Step>
            <Step Level="1" Id="VoidCAPA">VoidCAPA</Step>
            <Step Level="1" Id="DueDateExtension">DueDateExtension</Step>
            <Step Level="1" Id="UpdateTeam">UpdateTeam</Step>
            <Step Level="1" Id="ReopenPhase">ReopenPhase</Step>
            <Step Level="1" Id="AssignAdhocTask">AssignAdhocTask</Step>
            <Step Level="1" Id="ChangeOwner">ChangeOwner</Step>
            <Step Level="1" Id="CreateReportAndRouteForApproval">CreateReportAndRouteForApproval</Step>
          </PhaseSteps>
        </Phase>
      </Phases>
      <Steps>
        <Task Id="InitiateCAPA" Name="Initiate CAPA" FormName="CAPA_INITIATION" RequiresESignature="false">
          <Policies>
            <Policy Type="Exit" Name="InitiateWorkflowPolicy" Enabled="true" GoToStep="Verify CAPA Initiation">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Update default values">
                  <Actions>
                    <Action Type="Update" SuccessMessageId="97040" Name="Update default values" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="INITIATED_BY_CODE">GetCurrentUserInfo('ActorCode')</Param>
                        <Param Type="String" Name="INITIATION_DATE">GetDate('Today')</Param>
                        <Param Type="String" Name="STATUS">'INWORKS'</Param>
                        <Param Type="String" Name="INITIATING_SITE_CODE">OWNING_SITE_CODE</Param>
                        <Param Type="String" Name="COORDINATOR_CODE">GetCurrentUserInfo('ActorCode')</Param>
                        <Param Type="String" Name="COORDINATOR_ROLE_CODE">GetCurrentUserInfo('RoleCode')</Param>
                        <Param Type="String" Name="CAPA_OWNER_CODE">GetCurrentUserInfo('ActorCode')</Param>
                        <Param Type="String" Name="OWNER_ROLE_CODE">GetCurrentUserInfo('RoleCode')</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" Name="InitiateWorkflowAction" FailureMessageId="">
                  <Actions>
                    <Action Type="WORKFLOWACTIVITY" Name="InitiateWorkflow" ActivityType="InitiateWorkflowActivity" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="WorkflowName">'CAPAWORKFLOW'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Task>
        <Task Id="VoidCAPA" Name="Void CAPA" FormName="CAPA_VOID" RequiresESignature="true">
          <Policies>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Void CAPA">
                  <Actions>
                    <Action Type="VOIDENTITY" ContextNode="" SuccessMessageId="97016" Name="Void CAPA">
                      <Params>
                        <Param Type="String" Name="Status">'VOID'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Task>
        <Task Id="DueDateExtension" Name="Due Date Extension" FormName="CAPA_DUE_DATE_EXTENSION" RequiresESignature="true">
          <Policies>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="SubWorkflow Action">
                  <Actions>
                    <Action Type="WORKFLOWACTIVITY" ActivityType="InitiateWorkflowActivity" ContextNode="" SuccessMessageId="" Name="SubWorkflow Action">
                      <Params>
                        <Param Type="String" Name="ContainerWorkflowKey">'CAPAWORKFLOW'</Param>
                        <Param Type="String" Name="WorkflowKey">'Due Date Extension'</Param>
                        <Param Type="String" Name="WorkflowType">'SubWorkflow'</Param>
                        <Param Type="String" Name="IsBlocking">'false'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Validation" FailureMessageId="" Name="Due Date Extension - Revised Due Date cannot be less than or equal to Original Due Date">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_EXTENSION[IS_EXT_REQUEST_COMPL='false']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">CompareDates(../CURRENT_PHASE_DUE_DATE,REVISED_DUEDATE) &lt; 0</Param>
                        <Param Type="String" Name="rhsExpression">'true'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                      <Message FieldIdentifier="PK_ID" MessageDescription="97048">
                        <Params>
                          <Param Type="FieldIdentifier" Name="1" />
                        </Params>
                      </Message>
                    </Condition>
                  </Conditions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Task>
        <Task Id="UpdateTeam" Name="Update Team" FormName="CAPA_UPDATE_TEAM" RequiresESignature="true">
          <Policies>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Update Coordinator">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Coordination'])</Param>
                        <Param Type="String" Name="rhsExpression">'1'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Coordination']/ACTOR_CODE</Param>
                        <Param Type="String" Name="rhsExpression">''</Param>
                        <Param Type="String" Name="operator">NEQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" SuccessMessageId="97056" Name="Update Coordinator" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="COORDINATOR_CODE">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Coordination']/ACTOR_CODE</Param>
                        <Param Type="String" Name="COORDINATOR_ROLE_CODE">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Coordination']/ROLE_CODE</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Validation" FailureMessageId="" Name="Initiation Verification team and Update Team Member - Assigned Role Should match Assigned Actor">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM[ROLE_CODE != '' and ACTOR_CODE != '']" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ValidateActorAndHasRole(ACTOR_CODE, ROLE_CODE)</Param>
                        <Param Type="String" Name="rhsExpression">'true'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                      <Message FieldIdentifier="ACTOR_CODE" MessageDescription="54040">
                        <Params>
                          <Param Type="FieldIdentifier" Name="1">ACTOR_CODE</Param>
                        </Params>
                      </Message>
                    </Condition>
                  </Conditions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Owner">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">count(V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Ownership'])</Param>
                        <Param Type="String" Name="rhsExpression">'1'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Ownership']/ACTOR_CODE</Param>
                        <Param Type="String" Name="rhsExpression">''</Param>
                        <Param Type="String" Name="operator">NEQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" SuccessMessageId="97056" Name="Update Owner" ContextNode="V_SS_CAPA" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="CAPA_OWNER_CODE">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Ownership']/ACTOR_CODE</Param>
                        <Param Type="String" Name="OWNER_ROLE_CODE">V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Ownership']/ROLE_CODE</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update Investigation Contact">
                  <Conditions>
                    <Condition Name="" RowIdentifier="PK_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">QUALITY_PORTAL_CAPA</Param>
                        <Param Type="String" Name="rhsExpression">'true'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update Investigation Contact" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Investigation']" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="ACTOR_CODE">CONTACT_CODE</Param>
                        <Param Type="String" Name="ACTOR_NAME">CONTACT_NAME</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Task>
        <Task Id="ReopenPhase" Name="Reopen Phase" FormName="CAPA_REOPEN_PHASE" RequiresESignature="true">
          <Policies>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" FailureMessageId="" Name="Update the following Phase Status of Investigation Phase to blank">
                  <Conditions>
                    <Condition Name="" RowIdentifier="ENU_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ENU_PHASE_NAME</Param>
                        <Param Type="String" Name="rhsExpression">'Investigation'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update the following Phase Status of Investigation Phase to blank" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="PLAN_STATUS">''</Param>
                        <Param Type="String" Name="IMPL_STATUS">''</Param>
                        <Param Type="String" Name="CLOSURE_STATUS">''</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Update the following Phase Status of Planning Phase to blank">
                  <Conditions>
                    <Condition Name="" RowIdentifier="ENU_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ENU_PHASE_NAME</Param>
                        <Param Type="String" Name="rhsExpression">'Planning'</Param>
                        <Param Type="String" Name="operator">EQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="Update" SuccessMessageId="" Name="Update the following Phase Status of Planning Phase to blank" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY" ActionMode="PerRecord" RowIdentifier="PK_ID" RowIdentifierValue="">
                      <Params>
                        <Param Type="String" Name="IMPL_STATUS">''</Param>
                        <Param Type="String" Name="CLOSURE_STATUS">''</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Reopen Phase">
                  <Actions>
                    <Action Type="WORKFLOWACTIVITY" ActivityType="ReopenPhaseActivity" SuccessMessageId="97014" Name="Reopen Phase" ContextNode="V_SS_CAPA">
                      <Params>
                        <Param Type="String" Name="PhaseId">V_ENU_NONPERSIS_USER_DATA/ENU_PHASE_NAME</Param>
                        <Param Type="String" Name="WorkflowKey">'CAPAWORKFLOW'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Notification Action Reopen">
                  <Actions>
                    <Action Type="WORKFLOWACTIVITY" ActivityType="NotificationActivity" Name="Notification Action Reopen" ActionMode="PerRecord" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="NotifyToType">'EMAILADDRESS'</Param>
                        <Param Type="String" Name="NotifyTo">GetActorEmailAddress("COORDINATOR_CODE")</Param>
                        <Param Type="String" Name="AppendRecordLink">'true'</Param>
                        <Param Type="String" Name="Subject">'$V_ENU_NONPERSIS_USER_DATA/ENU_PHASE_NAME$ has been reopened in CAPA: $RECORD_NUMBER$'</Param>
                        <Param Type="String" Name="Message">'$V_ENU_NONPERSIS_USER_DATA/ENU_PHASE_NAME$ has been reopened in CAPA: $RECORD_NUMBER$.
#lt;#br#gt;#
#lt;#br#gt;#
CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Task>
        <Task Id="AssignAdhocTask" Name="Assign Adhoc Task" FormName="CAPA_CREATE_ADHOC_TASK" RequiresESignature="true">
          <Policies>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" Name="Decision" FailureMessageId="86200" Id="Rule_a04e3075-7021-4bd0-b404-48df285ce477">
                  <Actions>
                    <Action Type="WORKFLOWACTIVITY" ActivityType="EvaluateStep" Name="EvaluateStep" ContextNode="V_SS_CAPA" SuccessMessageId="" Id="Action_6f76ead8-dcb3-4281-b6af-5e3319d01af7">
                      <Params>
                        <Param Type="String" Name="StepId">'stAssignAdhocTaskSystem'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Task>
        <Task Id="ChangeOwner" Name="Change Owner" FormName="CAPA_CHANGETASKOWNERFORM" RequiresESignature="true">
          <Policies>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules>
                <Rule Type="Decision" Name="ChangeTaskOwner" FailureMessageId="" Id="Rule_0904a7c9-8558-4891-ba17-1940008a4e94">
                  <Actions>
                    <Action Type="WORKFLOWACTIVITY" Name="ChangeTaskOwnerActivity" ActivityType="ChangeTaskOwnerActivity" ContextNode="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" SuccessMessageId="Task owner changed successfully" Id="Action_9bd1d1a9-60e1-4cd3-8517-87be1f6e5f29">
                      <Params>
                        <Param Name="TaskId" Type="String">ENU_STEP_ID</Param>
                        <Param Name="ActorCode" Type="String">ENU_OWNER_CODE</Param>
                        <Param Name="comment" Type="String">ENU_COMMENT</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
                <Rule Type="Decision" FailureMessageId="" Name="Notification Action">
                  <Conditions>
                    <Condition Name="" RowIdentifier="ENU_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ENU_OWNER_CODE</Param>
                        <Param Type="String" Name="rhsExpression">GetCurrentUserInfo('ActorCode')</Param>
                        <Param Type="String" Name="operator">NEQ</Param>
                      </Params>
                    </Condition>
                    <Modifier>And</Modifier>
                    <Condition Name="" RowIdentifier="ENU_ID" ChildRowsModifier="All" ContextNode="V_SS_CAPA/V_ENU_NONPERSIS_USER_DATA" Modifier="">
                      <Params>
                        <Param Type="String" Name="lhsExpression">ENU_OWNER_CODE</Param>
                        <Param Type="String" Name="rhsExpression">''</Param>
                        <Param Type="String" Name="operator">NEQ</Param>
                      </Params>
                    </Condition>
                  </Conditions>
                  <Actions>
                    <Action Type="WORKFLOWACTIVITY" ActivityType="NotificationActivity" Name="Notification Action" ActionMode="PerRecord" ContextNode="" SuccessMessageId="">
                      <Params>
                        <Param Type="String" Name="NotifyToType">'EMAILADDRESS'</Param>
                        <Param Type="String" Name="NotifyTo">GetActorEmailAddress("V_ENU_NONPERSIS_USER_DATA/ENU_OWNER_CODE")</Param>
                        <Param Type="String" Name="NotifyCc">GetActorEmailAddress("V_ENU_NONPERSIS_USER_DATA/ENU_UDF_STRING1")</Param>
                        <Param Type="String" Name="AppendRecordLink">'true'</Param>
                        <Param Type="String" Name="Subject">'Task Ownership has been changed in CAPA: $RECORD_NUMBER$'</Param>
                        <Param Type="String" Name="Message">'Task Ownership has been changed for $V_ENU_NONPERSIS_USER_DATA/ENU_STEP_NAME$ in CAPA: $RECORD_NUMBER$.
#lt;#br#gt;#
#lt;#br#gt;#
                New Owner: $V_ENU_NONPERSIS_USER_DATA/ENU_OWNER_NAME$
#lt;#br#gt;#
#lt;#br#gt;#
                Old Owner: $V_ENU_NONPERSIS_USER_DATA/ENU_UDF_STRING2$
#lt;#br#gt;#
#lt;#br#gt;#
                CAPA System (*Do not reply to this email. This is an automated mailing and the mailbox is not monitored.)'</Param>
                      </Params>
                    </Action>
                  </Actions>
                </Rule>
              </Rules>
            </Policy>
          </Policies>
        </Task>
        <Task Id="CreateReportAndRouteForApproval" Name="CreateReportAndRouteForApproval" FormName="CAPA_SUBMIT_REPORT" RequiresESignature="false">
          <Policies>
            <Policy Type="Exit" Name="ExitPolicy" Enabled="true">
              <Rules />
            </Policy>
          </Policies>
        </Task>
      </Steps>
    </Workflow>
  </WorkflowRuntime>
  <ViewTaskStatus DisableViewTaskStatus="false">
    <Start Label="Start" />
    <Task ApplyWhenRuleIsNotSuccessful="false" Conditions="" ContextNode="V_SS_CAPA" CreationMode="PerUniqueRecord" OwnerField="" PhaseId="pInitiationVerification" PhaseName="Initiation Verification" PreviousPhaseId="" PreviousPhaseName="" PreviousTaskId="" PreviousTaskName="" TaskId="tVerifyCAPAInitiation" TaskName="Verify CAPA Initiation" ViewTaskStatusFollowsFalsePath="false" WorkflowId="CAPAWORKFLOW" WorkflowName="CAPAWORKFLOW" />
    <Task ApplyWhenRuleIsNotSuccessful="False" Conditions="&lt;Conditions&gt;&lt;Condition Name=&quot;&quot; RowIdentifier=&quot;PK_ID&quot; ChildRowsModifier=&quot;All&quot; ContextNode=&quot;V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY&quot; Modifier=&quot;&quot;&gt;&lt;Params&gt;&lt;Param Type=&quot;String&quot; Name=&quot;lhsExpression&quot;&gt;INV_REQ&lt;/Param&gt;&lt;Param Type=&quot;String&quot; Name=&quot;rhsExpression&quot;&gt;'true'&lt;/Param&gt;&lt;Param Type=&quot;String&quot; Name=&quot;operator&quot;&gt;EQ&lt;/Param&gt;&lt;/Params&gt;&lt;/Condition&gt;&lt;/Conditions&gt;" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Investigation']" CreationMode="PerUniqueRecord" OwnerField="" PhaseId="pInvestigation" PhaseName="Investigation" PreviousPhaseId="pInitiationVerification" PreviousPhaseName="Initiation Verification" PreviousTaskId="tVerifyCAPAInitiation" PreviousTaskName="Verify CAPA Initiation" TaskId="tInvestigateCAPA" TaskName="Investigate CAPA" ViewTaskStatusFollowsFalsePath="False" WorkflowId="CAPAWORKFLOW" WorkflowName="CAPAWORKFLOW" />
    <Task ApplyWhenRuleIsNotSuccessful="False" Conditions="&lt;Conditions&gt;&lt;Condition Name=&quot;&quot; RowIdentifier=&quot;PK_ID&quot; ChildRowsModifier=&quot;All&quot; ContextNode=&quot;V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY&quot; Modifier=&quot;&quot;&gt;&lt;Params&gt;&lt;Param Type=&quot;String&quot; Name=&quot;lhsExpression&quot;&gt;INV_APP_REQ&lt;/Param&gt;&lt;Param Type=&quot;String&quot; Name=&quot;rhsExpression&quot;&gt;'true'&lt;/Param&gt;&lt;Param Type=&quot;String&quot; Name=&quot;operator&quot;&gt;EQ&lt;/Param&gt;&lt;/Params&gt;&lt;/Condition&gt;&lt;/Conditions&gt;" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Investigation Approval']" CreationMode="PerUniqueRecord" OwnerField="" PhaseId="pInvestigationApproval" PhaseName="Investigation Approval" PreviousPhaseId="pInvestigation" PreviousPhaseName="Investigation" PreviousTaskId="tInvestigateCAPA" PreviousTaskName="Investigate CAPA" TaskId="tApproveCAPAInvestigation" TaskName="Approve CAPA Investigation" ViewTaskStatusFollowsFalsePath="False" WorkflowId="CAPAWORKFLOW" WorkflowName="CAPAWORKFLOW" />
    <Task ApplyWhenRuleIsNotSuccessful="False" Conditions="&lt;Conditions&gt;&lt;Condition Name=&quot;&quot; RowIdentifier=&quot;ESG_ID&quot; ChildRowsModifier=&quot;All&quot; ContextNode=&quot;V_SS_CAPA/V_SS_CAPA-V_ESG_ENTITY_SIGNATURE[ESG_PHASE_NAME='Investigation Approval']&quot; Modifier=&quot;&quot;&gt;&lt;Params&gt;&lt;Param Type=&quot;String&quot; Name=&quot;lhsExpression&quot;&gt;ESG_ACTION_TAKEN&lt;/Param&gt;&lt;Param Type=&quot;String&quot; Name=&quot;rhsExpression&quot;&gt;'Approve'&lt;/Param&gt;&lt;Param Type=&quot;String&quot; Name=&quot;operator&quot;&gt;EQ&lt;/Param&gt;&lt;/Params&gt;&lt;/Condition&gt;&lt;/Conditions&gt;" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Development']" CreationMode="PerUniqueRecord" OwnerField="" PhaseId="pPlanning" PhaseName="Planning" PreviousPhaseId="pInvestigationApproval" PreviousPhaseName="Investigation Approval" PreviousTaskId="tApproveCAPAInvestigation" PreviousTaskName="Approve CAPA Investigation" TaskId="tDevelopActionPlans" TaskName="Develop Action Plans" ViewTaskStatusFollowsFalsePath="False" WorkflowId="CAPAWORKFLOW" WorkflowName="CAPAWORKFLOW" />
    <Task ApplyWhenRuleIsNotSuccessful="False" Conditions="&lt;Conditions&gt;&lt;Condition Name=&quot;&quot; RowIdentifier=&quot;PK_ID&quot; ChildRowsModifier=&quot;All&quot; ContextNode=&quot;V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY&quot; Modifier=&quot;&quot;&gt;&lt;Params&gt;&lt;Param Type=&quot;String&quot; Name=&quot;lhsExpression&quot;&gt;ACT_PLN_VAL_REQ&lt;/Param&gt;&lt;Param Type=&quot;String&quot; Name=&quot;rhsExpression&quot;&gt;'true'&lt;/Param&gt;&lt;Param Type=&quot;String&quot; Name=&quot;operator&quot;&gt;EQ&lt;/Param&gt;&lt;/Params&gt;&lt;/Condition&gt;&lt;/Conditions&gt;" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Verification/Validation']" CreationMode="PerUniqueRecord" OwnerField="" PhaseId="pActionPlanVerification/Validation" PhaseName="Action Plan Verification/Validation" PreviousPhaseId="pPlanning" PreviousPhaseName="Planning" PreviousTaskId="tDevelopActionPlans" PreviousTaskName="Develop Action Plans" TaskId="tVerify/ValidateActionPlans" TaskName="Verify/Validate Action Plans" ViewTaskStatusFollowsFalsePath="False" WorkflowId="CAPAWORKFLOW" WorkflowName="CAPAWORKFLOW" />
    <Task ApplyWhenRuleIsNotSuccessful="False" Conditions="&lt;Conditions&gt;&lt;Condition Name=&quot;&quot; RowIdentifier=&quot;PK_ID&quot; ChildRowsModifier=&quot;All&quot; ContextNode=&quot;V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY&quot; Modifier=&quot;&quot;&gt;&lt;Params&gt;&lt;Param Type=&quot;String&quot; Name=&quot;lhsExpression&quot;&gt;ACT_PLN_APP_REQ&lt;/Param&gt;&lt;Param Type=&quot;String&quot; Name=&quot;rhsExpression&quot;&gt;'true'&lt;/Param&gt;&lt;Param Type=&quot;String&quot; Name=&quot;operator&quot;&gt;EQ&lt;/Param&gt;&lt;/Params&gt;&lt;/Condition&gt;&lt;/Conditions&gt;" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Action Plan Approval']" CreationMode="PerUniqueRecord" OwnerField="" PhaseId="pActionPlanApproval" PhaseName="Action Plan Approval" PreviousPhaseId="pActionPlanVerification/Validation" PreviousPhaseName="Action Plan Verification/Validation" PreviousTaskId="tVerify/ValidateActionPlans" PreviousTaskName="Verify/Validate Action Plans" TaskId="tApproveActionPlans" TaskName="Approve Action Plans" ViewTaskStatusFollowsFalsePath="False" WorkflowId="CAPAWORKFLOW" WorkflowName="CAPAWORKFLOW" />
    <Task ApplyWhenRuleIsNotSuccessful="False" Conditions="&lt;Conditions&gt;&lt;Condition Name=&quot;&quot; RowIdentifier=&quot;ESG_ID&quot; ChildRowsModifier=&quot;All&quot; ContextNode=&quot;V_SS_CAPA/V_SS_CAPA-V_ESG_ENTITY_SIGNATURE[ESG_PHASE_NAME='Action Plan Approval']&quot; Modifier=&quot;&quot;&gt;&lt;Params&gt;&lt;Param Type=&quot;String&quot; Name=&quot;lhsExpression&quot;&gt;ESG_ACTION_TAKEN&lt;/Param&gt;&lt;Param Type=&quot;String&quot; Name=&quot;rhsExpression&quot;&gt;'Approve'&lt;/Param&gt;&lt;Param Type=&quot;String&quot; Name=&quot;operator&quot;&gt;EQ&lt;/Param&gt;&lt;/Params&gt;&lt;/Condition&gt;&lt;/Conditions&gt;" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Effectiveness Review Plan' and //V_SS_CAPA /V_SS_CAPA-V_SS_CAPA_POLICY/EFFECT_PLANNING_REQ='true']" CreationMode="PerUniqueRecord" OwnerField="" PhaseId="pImplementation" PhaseName="Implementation" PreviousPhaseId="pActionPlanApproval" PreviousPhaseName="Action Plan Approval" PreviousTaskId="tApproveActionPlans" PreviousTaskName="Approve Action Plans" TaskId="tIncludeEffectivenessReviewPlan" TaskName="Include Effectiveness Review Plan" ViewTaskStatusFollowsFalsePath="False" WorkflowId="CAPAWORKFLOW" WorkflowName="CAPAWORKFLOW" />
    <Task ApplyWhenRuleIsNotSuccessful="False" Conditions="&lt;Conditions&gt;&lt;Condition Name=&quot;&quot; RowIdentifier=&quot;ESG_ID&quot; ChildRowsModifier=&quot;All&quot; ContextNode=&quot;V_SS_CAPA/V_SS_CAPA-V_ESG_ENTITY_SIGNATURE[ESG_PHASE_NAME='Action Plan Approval']&quot; Modifier=&quot;&quot;&gt;&lt;Params&gt;&lt;Param Type=&quot;String&quot; Name=&quot;lhsExpression&quot;&gt;ESG_ACTION_TAKEN&lt;/Param&gt;&lt;Param Type=&quot;String&quot; Name=&quot;rhsExpression&quot;&gt;'Approve'&lt;/Param&gt;&lt;Param Type=&quot;String&quot; Name=&quot;operator&quot;&gt;EQ&lt;/Param&gt;&lt;/Params&gt;&lt;/Condition&gt;&lt;/Conditions&gt;" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTION[TRANSFERED_RECORD='Yes' and STATUS='No' and ACTION_TYPE='Action Plan']" CreationMode="PerUniqueUser" OwnerField="ASSIGNED_ACT_CODE" PhaseId="pImplementation" PhaseName="Implementation" PreviousPhaseId="pActionPlanApproval" PreviousPhaseName="Action Plan Approval" PreviousTaskId="tApproveActionPlans" PreviousTaskName="Approve Action Plans" TaskId="tImplementActionPlans" TaskName="Implement Action Plans" ViewTaskStatusFollowsFalsePath="False" WorkflowId="CAPAWORKFLOW" WorkflowName="CAPAWORKFLOW" />
    <Task ApplyWhenRuleIsNotSuccessful="False" Conditions="&lt;Conditions&gt;&lt;Condition Name=&quot;&quot; RowIdentifier=&quot;PK_ID&quot; ChildRowsModifier=&quot;All&quot; ContextNode=&quot;V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY&quot; Modifier=&quot;&quot;&gt;&lt;Params&gt;&lt;Param Type=&quot;String&quot; Name=&quot;lhsExpression&quot;&gt;IMPL_VERIFICATION_APP_REQ&lt;/Param&gt;&lt;Param Type=&quot;String&quot; Name=&quot;rhsExpression&quot;&gt;'true'&lt;/Param&gt;&lt;Param Type=&quot;String&quot; Name=&quot;operator&quot;&gt;EQ&lt;/Param&gt;&lt;/Params&gt;&lt;/Condition&gt;&lt;Modifier&gt;And&lt;/Modifier&gt;&lt;OpenGroup /&gt;&lt;Condition Name=&quot;&quot; RowIdentifier=&quot;PK_ID&quot; ChildRowsModifier=&quot;All&quot; ContextNode=&quot;V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY&quot; Modifier=&quot;&quot;&gt;&lt;Params&gt;&lt;Param Type=&quot;String&quot; Name=&quot;lhsExpression&quot;&gt;EFFECT_PLANNING_REQ&lt;/Param&gt;&lt;Param Type=&quot;String&quot; Name=&quot;rhsExpression&quot;&gt;'true'&lt;/Param&gt;&lt;Param Type=&quot;String&quot; Name=&quot;operator&quot;&gt;EQ&lt;/Param&gt;&lt;/Params&gt;&lt;/Condition&gt;&lt;Modifier&gt;Or&lt;/Modifier&gt;&lt;Condition Name=&quot;&quot; RowIdentifier=&quot;PK_ID&quot; ChildRowsModifier=&quot;All&quot; ContextNode=&quot;V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY&quot; Modifier=&quot;&quot;&gt;&lt;Params&gt;&lt;Param Type=&quot;String&quot; Name=&quot;lhsExpression&quot;&gt;count(../V_SS_CAPA-V_SS_CAPA_ACTION[ACTION_TYPE='Action Plan'])&lt;/Param&gt;&lt;Param Type=&quot;String&quot; Name=&quot;rhsExpression&quot;&gt;'0'&lt;/Param&gt;&lt;Param Type=&quot;String&quot; Name=&quot;operator&quot;&gt;GT&lt;/Param&gt;&lt;/Params&gt;&lt;/Condition&gt;&lt;CloseGroup /&gt;&lt;/Conditions&gt;" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Implementation Verification']" CreationMode="PerUniqueRecord" OwnerField="" PhaseId="pImplementationVerification" PhaseName="Implementation Verification" PreviousPhaseId="pImplementation" PreviousPhaseName="Implementation" PreviousTaskId="tImplementActionPlans" PreviousTaskName="Implement Action Plans" TaskId="tVerifyImplementation" TaskName="Verify Implementation" ViewTaskStatusFollowsFalsePath="False" WorkflowId="CAPAWORKFLOW" WorkflowName="CAPAWORKFLOW" />
    <Task ApplyWhenRuleIsNotSuccessful="False" Conditions="&lt;Conditions&gt;&lt;Condition Name=&quot;&quot; RowIdentifier=&quot;ESG_ID&quot; ChildRowsModifier=&quot;All&quot; ContextNode=&quot;V_SS_CAPA/V_SS_CAPA-V_ESG_ENTITY_SIGNATURE[ESG_PHASE_NAME='Implementation Verification']&quot; Modifier=&quot;&quot;&gt;&lt;Params&gt;&lt;Param Type=&quot;String&quot; Name=&quot;lhsExpression&quot;&gt;ESG_ACTION_TAKEN&lt;/Param&gt;&lt;Param Type=&quot;String&quot; Name=&quot;rhsExpression&quot;&gt;'Acceptable'&lt;/Param&gt;&lt;Param Type=&quot;String&quot; Name=&quot;operator&quot;&gt;EQ&lt;/Param&gt;&lt;/Params&gt;&lt;/Condition&gt;&lt;/Conditions&gt;" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Completion Review']" CreationMode="PerUniqueRecord" OwnerField="" PhaseId="pCompletionReview" PhaseName="Completion Review" PreviousPhaseId="pImplementationVerification" PreviousPhaseName="Implementation Verification" PreviousTaskId="tVerifyImplementation" PreviousTaskName="Verify Implementation" TaskId="tVerifyCAPACompletion" TaskName="Verify CAPA Completion" ViewTaskStatusFollowsFalsePath="False" WorkflowId="CAPAWORKFLOW" WorkflowName="CAPAWORKFLOW" />
    <Task ApplyWhenRuleIsNotSuccessful="False" Conditions="&lt;Conditions&gt;&lt;Condition Name=&quot;&quot; RowIdentifier=&quot;PK_ID&quot; ChildRowsModifier=&quot;All&quot; ContextNode=&quot;V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_POLICY&quot; Modifier=&quot;&quot;&gt;&lt;Params&gt;&lt;Param Type=&quot;String&quot; Name=&quot;lhsExpression&quot;&gt;EFFECT_VERIFICATION_REQ&lt;/Param&gt;&lt;Param Type=&quot;String&quot; Name=&quot;rhsExpression&quot;&gt;'true'&lt;/Param&gt;&lt;Param Type=&quot;String&quot; Name=&quot;operator&quot;&gt;EQ&lt;/Param&gt;&lt;/Params&gt;&lt;/Condition&gt;&lt;/Conditions&gt;" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Effectiveness Review']" CreationMode="PerUniqueRecord" OwnerField="" PhaseId="pEffectivenessReview" PhaseName="Effectiveness Review" PreviousPhaseId="pCompletionReview" PreviousPhaseName="Completion Review" PreviousTaskId="tVerifyCAPACompletion" PreviousTaskName="Verify CAPA Completion" TaskId="tVerifyCAPAEffectiveness" TaskName="Verify CAPA Effectiveness" ViewTaskStatusFollowsFalsePath="False" WorkflowId="CAPAWORKFLOW" WorkflowName="CAPAWORKFLOW" />
    <Task ApplyWhenRuleIsNotSuccessful="false" Conditions="&lt;Conditions&gt;&lt;Condition Name=&quot;&quot; RowIdentifier=&quot;PK_ID&quot; ChildRowsModifier=&quot;All&quot; ContextNode=&quot;V_SS_CAPA&quot; Modifier=&quot;&quot;&gt;&lt;Params&gt;&lt;Param Type=&quot;String&quot; Name=&quot;lhsExpression&quot;&gt;1&lt;/Param&gt;&lt;Param Type=&quot;String&quot; Name=&quot;rhsExpression&quot;&gt;'1'&lt;/Param&gt;&lt;Param Type=&quot;String&quot; Name=&quot;operator&quot;&gt;EQ&lt;/Param&gt;&lt;/Params&gt;&lt;/Condition&gt;&lt;/Conditions&gt;" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_ACTIVITY[C_TASK_ID='' and ACTIVITY_TYPE='tAdhoc']" CreationMode="PerUniqueRecord" OwnerField="" PhaseId="pAdhocTaskPhase" PhaseName="Adhoc Task Phase" PreviousPhaseId="" PreviousPhaseName="" PreviousTaskId="" PreviousTaskName="" TaskId="tAdhoc" TaskName="Adhoc" ViewTaskStatusFollowsFalsePath="false" WorkflowId="swAdHocTaskSubWorkflow" WorkflowName="AdHoc Task SubWorkflow" />
    <Task ApplyWhenRuleIsNotSuccessful="false" Conditions="" ContextNode="V_SS_CAPA/V_SS_CAPA-V_SS_CAPA_TEAM[MEMBER_TYPE='Due Date Extension Approval']" CreationMode="PerUniqueRecord" OwnerField="" PhaseId="pDueDateExtensionApproval" PhaseName="Due Date Extension Approval" PreviousPhaseId="" PreviousPhaseName="" PreviousTaskId="" PreviousTaskName="" TaskId="tApproveDueDateExtension" TaskName="Approve Due Date Extension" ViewTaskStatusFollowsFalsePath="false" WorkflowId="swDueDateExtension" WorkflowName="Due Date Extension" />
    <End Label="End" />
  </ViewTaskStatus>
</WorkflowPackage>